{"map":"{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\"}","code":"webpackHotUpdate(0,{10:function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('\\n// EXTERNAL MODULE: ./node_modules/jsmpeg/jsmpg.js\\nvar jsmpg = __webpack_require__(11);\\nvar jsmpg_default = /*#__PURE__*/__webpack_require__.n(jsmpg);\\n\\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/vue/views/index.vue\\n//\\n//\\n//\\n//\\n//\\n//\\n\\n\\n/* harmony default export */ var views = ({\\n    name:\\'index\\',\\n    data(){\\n        return {\\n            msg:\"我可以等在你身旁\"\\n        }\\n    },\\n    methods:{\\n        teb:function () {\\n            this.msg = \"像影子追着光梦游。\";\\n        },\\n        startEvent:function () {\\n            var canvas = document.getElementById(\\'video-canvas\\');\\n            console.log(jsmpg_default.a);\\n            var player = new jsmpg_default.a().Player(\\'ws://wsopen.ys7.com/150373158_1_1\\', {canvas: canvas});\\n        }\\n    },\\n    mounted:function () {\\n        this.startEvent();\\n    }\\n});\\n\\n\\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b6758d10\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/vue/views/index.vue\\nvar render = function() {\\n  var _vm = this\\n  var _h = _vm.$createElement\\n  var _c = _vm._self._c || _h\\n  return _vm._m(0)\\n}\\nvar staticRenderFns = [\\n  function() {\\n    var _vm = this\\n    var _h = _vm.$createElement\\n    var _c = _vm._self._c || _h\\n    return _c(\"div\", { attrs: { id: \"index\" } }, [\\n      _c(\"canvas\", { attrs: { id: \"video-canvas\" } })\\n    ])\\n  }\\n]\\nrender._withStripped = true\\n\\nif (true) {\\n  module.hot.accept()\\n  if (module.hot.data) {\\n    __webpack_require__(3)      .rerender(\"data-v-b6758d10\", { render: render, staticRenderFns: staticRenderFns })\\n  }\\n}\\n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/component-normalizer.js\\nvar component_normalizer = __webpack_require__(4);\\n\\n// CONCATENATED MODULE: ./src/vue/views/index.vue\\nvar views_disposed = false\\nfunction views_injectStyle (context) {\\n  if (views_disposed) return\\n  __webpack_require__(15)\\n}\\n/* script */\\n\\n\\n/* template */\\n\\n/* template functional */\\nvar views_vue_template_functional_ = false\\n/* styles */\\nvar views_vue_styles_ = views_injectStyle\\n/* scopeId */\\nvar views_vue_scopeId_ = null\\n/* moduleIdentifier (server only) */\\nvar views_vue_module_identifier_ = null\\n\\nvar views_Component = Object(component_normalizer[\"a\" /* default */])(\\n  views,\\n  render,\\n  staticRenderFns,\\n  views_vue_template_functional_,\\n  views_vue_styles_,\\n  views_vue_scopeId_,\\n  views_vue_module_identifier_\\n)\\nviews_Component.options.__file = \"src\\\\\\\\vue\\\\\\\\views\\\\\\\\index.vue\"\\n\\n/* hot reload */\\nif (true) {(function () {\\n  var hotAPI = __webpack_require__(3)\\n  hotAPI.install(__webpack_require__(1), false)\\n  if (!hotAPI.compatible) return\\n  module.hot.accept()\\n  if (!module.hot.data) {\\n    hotAPI.createRecord(\"data-v-b6758d10\", views_Component.options)\\n  } else {\\n    hotAPI.reload(\"data-v-b6758d10\", views_Component.options)\\n  }\\n  module.hot.dispose(function (data) {\\n    views_disposed = true\\n  })\\n})()}\\n\\n/* harmony default export */ var vue_views = __webpack_exports__[\"a\"] = (views_Component.exports);\\n\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3Z1ZS92aWV3cy9pbmRleC52dWU/OGY3NyIsIndlYnBhY2s6Ly8vLi9zcmMvdnVlL3ZpZXdzL2luZGV4LnZ1ZT82MjQ4Iiwid2VicGFjazovLy8uL3NyYy92dWUvdmlld3MvaW5kZXgudnVlP2Q3YmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDNUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsU0FBUyxjQUFjLEVBQUU7QUFDL0Msb0JBQW9CLFNBQVMscUJBQXFCLEVBQUU7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLDhEQUFxRSxtREFBbUQ7QUFDeEg7QUFDQSxDOzs7OztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQSx3QkFBbUw7QUFDbkw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUN1UDtBQUN2UDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDOztBQUVEIiwiZmlsZSI6IjEwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiPHRlbXBsYXRlPlxyXG4gICAgPGRpdiBpZD1cImluZGV4XCI+XHJcbiAgICAgICAgPGNhbnZhcyBpZD1cInZpZGVvLWNhbnZhc1wiPjwvY2FudmFzPlxyXG4gICAgPC9kaXY+XHJcbjwvdGVtcGxhdGU+XHJcblxyXG48c2NyaXB0PlxyXG4gICAgaW1wb3J0IGpzbXBlZyBmcm9tICcuLi8uLi8uLi9ub2RlX21vZHVsZXMvanNtcGVnJ1xyXG4gICAgZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgICAgIG5hbWU6J2luZGV4JyxcclxuICAgICAgICBkYXRhKCl7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBtc2c6XCLmiJHlj6/ku6XnrYnlnKjkvaDouqvml4FcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtZXRob2RzOntcclxuICAgICAgICAgICAgdGViOmZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubXNnID0gXCLlg4/lvbHlrZDov73nnYDlhYnmoqbmuLjjgIJcIjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3RhcnRFdmVudDpmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZGVvLWNhbnZhcycpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coanNtcGVnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwbGF5ZXIgPSBuZXcganNtcGVnKCkuUGxheWVyKCd3czovL3dzb3Blbi55czcuY29tLzE1MDM3MzE1OF8xXzEnLCB7Y2FudmFzOiBjYW52YXN9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbW91bnRlZDpmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRFdmVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbjwvc2NyaXB0PlxyXG5cclxuPHN0eWxlIGxhbmc9XCJzdHlsdXNcIiByZWw9XCJzdHlsZXNoZWV0XCI+XHJcbiAgICNpbmRleFxyXG4gICAgICAgZm9udC1zaXplIDogMTZweDtcclxuICAgICAgIHRleHQtYWxpZ24gOiBjZW50ZXI7XHJcbiAgICAgICBjb2xvciA6IHJlZDtcclxuPC9zdHlsZT4iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF92bS5fbSgwKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtcbiAgZnVuY3Rpb24oKSB7XG4gICAgdmFyIF92bSA9IHRoaXNcbiAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgICByZXR1cm4gX2MoXCJkaXZcIiwgeyBhdHRyczogeyBpZDogXCJpbmRleFwiIH0gfSwgW1xuICAgICAgX2MoXCJjYW52YXNcIiwgeyBhdHRyczogeyBpZDogXCJ2aWRlby1jYW52YXNcIiB9IH0pXG4gICAgXSlcbiAgfVxuXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9XG5pZiAobW9kdWxlLmhvdCkge1xuICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gIGlmIChtb2R1bGUuaG90LmRhdGEpIHtcbiAgICByZXF1aXJlKFwidnVlLWhvdC1yZWxvYWQtYXBpXCIpICAgICAgLnJlcmVuZGVyKFwiZGF0YS12LWI2NzU4ZDEwXCIsIHsgcmVuZGVyOiByZW5kZXIsIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zIH0pXG4gIH1cbn0iLCJ2YXIgZGlzcG9zZWQgPSBmYWxzZVxuZnVuY3Rpb24gaW5qZWN0U3R5bGUgKGNvbnRleHQpIHtcbiAgaWYgKGRpc3Bvc2VkKSByZXR1cm5cbiAgcmVxdWlyZShcIiEhdnVlLXN0eWxlLWxvYWRlciFjc3MtbG9hZGVyP3NvdXJjZU1hcCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtY29tcGlsZXIvaW5kZXg/e1xcXCJvcHRpb25zSWRcXFwiOlxcXCIwXFxcIixcXFwidnVlXFxcIjp0cnVlLFxcXCJzY29wZWRcXFwiOmZhbHNlLFxcXCJzb3VyY2VNYXBcXFwiOnRydWV9IXN0eWx1cy1sb2FkZXIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9pbmRleC52dWVcIilcbn1cbi8qIHNjcmlwdCAqL1xuZXhwb3J0ICogZnJvbSBcIiEhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXNjcmlwdCZpbmRleD0wIS4vaW5kZXgudnVlXCJcbmltcG9ydCBfX3Z1ZV9zY3JpcHRfXyBmcm9tIFwiISEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c2NyaXB0JmluZGV4PTAhLi9pbmRleC52dWVcIlxuLyogdGVtcGxhdGUgKi9cbmltcG9ydCB7cmVuZGVyIGFzIF9fdnVlX3JlbmRlcl9fLCBzdGF0aWNSZW5kZXJGbnMgYXMgX192dWVfc3RhdGljX3JlbmRlcl9mbnNfX30gZnJvbSBcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyL2luZGV4P3tcXFwiaWRcXFwiOlxcXCJkYXRhLXYtYjY3NThkMTBcXFwiLFxcXCJoYXNTY29wZWRcXFwiOmZhbHNlLFxcXCJvcHRpb25zSWRcXFwiOlxcXCIwXFxcIixcXFwiYnVibGVcXFwiOntcXFwidHJhbnNmb3Jtc1xcXCI6e319fSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vaW5kZXgudnVlXCJcbi8qIHRlbXBsYXRlIGZ1bmN0aW9uYWwgKi9cbnZhciBfX3Z1ZV90ZW1wbGF0ZV9mdW5jdGlvbmFsX18gPSBmYWxzZVxuLyogc3R5bGVzICovXG52YXIgX192dWVfc3R5bGVzX18gPSBpbmplY3RTdHlsZVxuLyogc2NvcGVJZCAqL1xudmFyIF9fdnVlX3Njb3BlSWRfXyA9IG51bGxcbi8qIG1vZHVsZUlkZW50aWZpZXIgKHNlcnZlciBvbmx5KSAqL1xudmFyIF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18gPSBudWxsXG5pbXBvcnQgbm9ybWFsaXplQ29tcG9uZW50IGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50LW5vcm1hbGl6ZXJcIlxudmFyIENvbXBvbmVudCA9IG5vcm1hbGl6ZUNvbXBvbmVudChcbiAgX192dWVfc2NyaXB0X18sXG4gIF9fdnVlX3JlbmRlcl9fLFxuICBfX3Z1ZV9zdGF0aWNfcmVuZGVyX2Zuc19fLFxuICBfX3Z1ZV90ZW1wbGF0ZV9mdW5jdGlvbmFsX18sXG4gIF9fdnVlX3N0eWxlc19fLFxuICBfX3Z1ZV9zY29wZUlkX18sXG4gIF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX19cbilcbkNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjXFxcXHZ1ZVxcXFx2aWV3c1xcXFxpbmRleC52dWVcIlxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkgeyhmdW5jdGlvbiAoKSB7XG4gIHZhciBob3RBUEkgPSByZXF1aXJlKFwidnVlLWhvdC1yZWxvYWQtYXBpXCIpXG4gIGhvdEFQSS5pbnN0YWxsKHJlcXVpcmUoXCJ2dWVcIiksIGZhbHNlKVxuICBpZiAoIWhvdEFQSS5jb21wYXRpYmxlKSByZXR1cm5cbiAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICBpZiAoIW1vZHVsZS5ob3QuZGF0YSkge1xuICAgIGhvdEFQSS5jcmVhdGVSZWNvcmQoXCJkYXRhLXYtYjY3NThkMTBcIiwgQ29tcG9uZW50Lm9wdGlvbnMpXG4gIH0gZWxzZSB7XG4gICAgaG90QVBJLnJlbG9hZChcImRhdGEtdi1iNjc1OGQxMFwiLCBDb21wb25lbnQub3B0aW9ucylcbiAgfVxuICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBkaXNwb3NlZCA9IHRydWVcbiAgfSlcbn0pKCl9XG5cbmV4cG9ydCBkZWZhdWx0IENvbXBvbmVudC5leHBvcnRzXG4iXSwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///10\\n')},11:function(module,exports){eval(\"\\n\\n// jsmpeg by Dominic Szablewski - phoboslab.org, github.com/phoboslab\\n//\\n// Consider this to be under MIT license. It's largely based an an Open Source\\n// Decoder for Java under GPL, while I looked at another Decoder from Nokia\\n// (under no particular license?) for certain aspects.\\n// I'm not sure if this work is \\\"derivative\\\" enough to have a different license\\n// but then again, who still cares about MPEG1?\\n//\\n// Based on \\\"Java MPEG-1 Video Decoder and Player\\\" by Korandi Zoltan:\\n// http://sourceforge.net/projects/javampeg1video/\\n//\\n// Inspired by \\\"MPEG Decoder in Java ME\\\" by Nokia:\\n// http://www.developer.nokia.com/Community/Wiki/MPEG_decoder_in_Java_ME\\n\\n\\nvar requestAnimFrame = (function(){\\n  return window.requestAnimationFrame ||\\n    window.webkitRequestAnimationFrame ||\\n    window.mozRequestAnimationFrame ||\\n    function( callback ){\\n      window.setTimeout(callback, 1000 / 60);\\n    };\\n})();\\n\\nvar jsmpeg = window.jsmpeg = function( url, opts ) {\\n  opts = opts || {};\\n  this.benchmark = !!opts.benchmark;\\n  this.canvas = opts.canvas || document.createElement('canvas');\\n  this.autoplay = !!opts.autoplay;\\n  this.loop = !!opts.loop;\\n  this.seekable = !!opts.seekable;\\n  this.externalLoadCallback = opts.onload || null;\\n  this.externalDecodeCallback = opts.ondecodeframe || null;\\n  this.externalFinishedCallback = opts.onfinished || null;\\n\\n  this.customIntraQuantMatrix = new Uint8Array(64);\\n  this.customNonIntraQuantMatrix = new Uint8Array(64);\\n  this.blockData = new Int32Array(64);\\n  this.zeroBlockData = new Int32Array(64);\\n  this.fillArray(this.zeroBlockData, 0);\\n\\n  // use WebGL for YCbCrToRGBA conversion if possible (much faster)\\n  if( !opts.forceCanvas2D && this.initWebGL() ) {\\n    this.renderFrame = this.renderFrameGL;\\n  } else {\\n    this.canvasContext = this.canvas.getContext('2d');\\n    this.renderFrame = this.renderFrame2D;\\n  }\\n\\n  if( url instanceof WebSocket ) {\\n    this.client = url;\\n    this.client.onopen = this.initSocketClient.bind(this);\\n  }\\n  else {\\n    this.load(url);\\n  }\\n};\\n\\n\\n\\n// ----------------------------------------------------------------------------\\n// Streaming over WebSockets\\n\\njsmpeg.prototype.waitForIntraFrame = true;\\njsmpeg.prototype.socketBufferSize = 512 * 1024; // 512kb each\\n\\njsmpeg.prototype.initSocketClient = function( client ) {\\n  this.buffer = new BitReader(new ArrayBuffer(this.socketBufferSize));\\n\\n  this.nextPictureBuffer = new BitReader(new ArrayBuffer(this.socketBufferSize));\\n  this.nextPictureBuffer.writePos = 0;\\n  this.nextPictureBuffer.chunkBegin = 0;\\n  this.nextPictureBuffer.lastWriteBeforeWrap = 0;\\n\\n  this.client.binaryType = 'arraybuffer';\\n  this.client.onmessage = this.receiveSocketMessage.bind(this);\\n};\\n\\njsmpeg.prototype.decodeSocketHeader = function( data ) {\\n  // Custom header sent to all newly connected clients when streaming\\n  // over websockets:\\n  // struct { char magic[4] = \\\"jsmp\\\"; unsigned short width, height; };\\n  if(\\n    data[0] == SOCKET_MAGIC_BYTES.charCodeAt(0) &&\\n    data[1] == SOCKET_MAGIC_BYTES.charCodeAt(1) &&\\n    data[2] == SOCKET_MAGIC_BYTES.charCodeAt(2) &&\\n    data[3] == SOCKET_MAGIC_BYTES.charCodeAt(3)\\n  ) {\\n    this.width = (data[4] * 256 + data[5]);\\n    this.height = (data[6] * 256 + data[7]);\\n    this.initBuffers();\\n  }\\n};\\n\\njsmpeg.prototype.receiveSocketMessage = function( event ) {\\n  var messageData = new Uint8Array(event.data);\\n\\n  if( !this.sequenceStarted ) {\\n    this.decodeSocketHeader(messageData);\\n  }\\n\\n  var current = this.buffer;\\n  var next = this.nextPictureBuffer;\\n\\n  if( next.writePos + messageData.length > next.length ) {\\n    next.lastWriteBeforeWrap = next.writePos;\\n    next.writePos = 0;\\n    next.index = 0;\\n  }\\n\\n  next.bytes.set( messageData, next.writePos );\\n  next.writePos += messageData.length;\\n\\n  var startCode = 0;\\n  while( true ) {\\n    startCode = next.findNextMPEGStartCode();\\n    if(\\n      startCode == BitReader.NOT_FOUND ||\\n      ((next.index >> 3) > next.writePos)\\n    ) {\\n      // We reached the end with no picture found yet; move back a few bytes\\n      // in case we are at the beginning of a start code and exit.\\n      next.index = Math.max((next.writePos-3), 0) << 3;\\n      return;\\n    }\\n    else if( startCode == START_PICTURE ) {\\n      break;\\n    }\\n  }\\n\\n  // If we are still here, we found the next picture start code!\\n\\n\\n  // Skip picture decoding until we find the first intra frame?\\n  if( this.waitForIntraFrame ) {\\n    next.advance(10); // skip temporalReference\\n    if( next.getBits(3) == PICTURE_TYPE_I ) {\\n      this.waitForIntraFrame = false;\\n      next.chunkBegin = (next.index-13) >> 3;\\n    }\\n    return;\\n  }\\n\\n  // Last picture hasn't been decoded yet? Decode now but skip output\\n  // before scheduling the next one\\n  if( !this.currentPictureDecoded ) {\\n    this.decodePicture(DECODE_SKIP_OUTPUT);\\n  }\\n\\n\\n  // Copy the picture chunk over to 'this.buffer' and schedule decoding.\\n  var chunkEnd = ((next.index) >> 3);\\n\\n  if( chunkEnd > next.chunkBegin ) {\\n    // Just copy the current picture chunk\\n    current.bytes.set( next.bytes.subarray(next.chunkBegin, chunkEnd) );\\n    current.writePos = chunkEnd - next.chunkBegin;\\n  }\\n  else {\\n    // We wrapped the nextPictureBuffer around, so we have to copy the last part\\n    // till the end, as well as from 0 to the current writePos\\n    current.bytes.set( next.bytes.subarray(next.chunkBegin, next.lastWriteBeforeWrap) );\\n    var written = next.lastWriteBeforeWrap - next.chunkBegin;\\n    current.bytes.set( next.bytes.subarray(0, chunkEnd), written );\\n    current.writePos = chunkEnd + written;\\n  }\\n\\n  current.index = 0;\\n  next.chunkBegin = chunkEnd;\\n\\n  // Decode!\\n  this.currentPictureDecoded = false;\\n  requestAnimFrame( this.scheduleDecoding.bind(this), this.canvas );\\n};\\n\\njsmpeg.prototype.scheduleDecoding = function() {\\n  this.decodePicture();\\n  this.currentPictureDecoded = true;\\n};\\n\\n\\n\\n// ----------------------------------------------------------------------------\\n// Recording from WebSockets\\n\\njsmpeg.prototype.isRecording = false;\\njsmpeg.prototype.recorderWaitForIntraFrame = false;\\njsmpeg.prototype.recordedFrames = 0;\\njsmpeg.prototype.recordedSize = 0;\\njsmpeg.prototype.didStartRecordingCallback = null;\\n\\njsmpeg.prototype.recordBuffers = [];\\n\\njsmpeg.prototype.canRecord = function(){\\n  return (this.client && this.client.readyState == this.client.OPEN);\\n};\\n\\njsmpeg.prototype.startRecording = function(callback) {\\n  if( !this.canRecord() ) {\\n    return;\\n  }\\n\\n  // Discard old buffers and set for recording\\n  this.discardRecordBuffers();\\n  this.isRecording = true;\\n  this.recorderWaitForIntraFrame = true;\\n  this.didStartRecordingCallback = callback || null;\\n\\n  this.recordedFrames = 0;\\n  this.recordedSize = 0;\\n\\n  // Fudge a simple Sequence Header for the MPEG file\\n\\n  // 3 bytes width & height, 12 bits each\\n  var wh1 = (this.width >> 4),\\n    wh2 = ((this.width & 0xf) << 4) | (this.height >> 8),\\n    wh3 = (this.height & 0xff);\\n\\n  this.recordBuffers.push(new Uint8Array([\\n    0x00, 0x00, 0x01, 0xb3, // Sequence Start Code\\n    wh1, wh2, wh3, // Width & height\\n    0x13, // aspect ratio & framerate\\n    0xff, 0xff, 0xe1, 0x58, // Meh. Bitrate and other boring stuff\\n    0x00, 0x00, 0x01, 0xb8, 0x00, 0x08, 0x00, // GOP\\n    0x00, 0x00, 0x00, 0x01, 0x00 // First Picture Start Code\\n  ]));\\n};\\n\\njsmpeg.prototype.recordFrameFromCurrentBuffer = function() {\\n  if( !this.isRecording ) { return; }\\n\\n  if( this.recorderWaitForIntraFrame ) {\\n    // Not an intra frame? Exit.\\n    if( this.pictureCodingType != PICTURE_TYPE_I ) { return; }\\n\\n    // Start recording!\\n    this.recorderWaitForIntraFrame = false;\\n    if( this.didStartRecordingCallback ) {\\n      this.didStartRecordingCallback( this );\\n    }\\n  }\\n\\n  this.recordedFrames++;\\n  this.recordedSize += this.buffer.writePos;\\n\\n  // Copy the actual subrange for the current picture into a new Buffer\\n  this.recordBuffers.push(new Uint8Array(this.buffer.bytes.subarray(0, this.buffer.writePos)));\\n};\\n\\njsmpeg.prototype.discardRecordBuffers = function() {\\n  this.recordBuffers = [];\\n  this.recordedFrames = 0;\\n};\\n\\njsmpeg.prototype.stopRecording = function() {\\n  var blob = new Blob(this.recordBuffers, {type: 'video/mpeg'});\\n  this.discardRecordBuffers();\\n  this.isRecording = false;\\n  return blob;\\n};\\n\\n\\n\\n// ----------------------------------------------------------------------------\\n// Loading via Ajax\\n\\njsmpeg.prototype.intraFrames = [];\\njsmpeg.prototype.currentFrame = -1;\\njsmpeg.prototype.currentTime = 0;\\njsmpeg.prototype.frameCount = 0;\\njsmpeg.prototype.duration = 0;\\n\\njsmpeg.prototype.load = function( url ) {\\n  this.url = url;\\n\\n  var request = new XMLHttpRequest();\\n  var that = this;\\n  request.onreadystatechange = function() {\\n    if( request.readyState == request.DONE && request.status == 200 ) {\\n      that.loadCallback(request.response);\\n    }\\n  };\\n\\n  request.onprogress = this.gl\\n    ? this.updateLoaderGL.bind(this)\\n    : this.updateLoader2D.bind(this);\\n\\n  request.open('GET', url);\\n  request.responseType = \\\"arraybuffer\\\";\\n  request.send();\\n};\\n\\njsmpeg.prototype.updateLoader2D = function( ev ) {\\n  var\\n    p = ev.loaded / ev.total,\\n    w = this.canvas.width,\\n    h = this.canvas.height,\\n    ctx = this.canvasContext;\\n\\n  ctx.fillStyle = '#222';\\n  ctx.fillRect(0, 0, w, h);\\n  ctx.fillStyle = '#fff';\\n  ctx.fillRect(0, h - h*p, w, h*p);\\n};\\n\\njsmpeg.prototype.updateLoaderGL = function( ev ) {\\n  var gl = this.gl;\\n  gl.uniform1f(gl.getUniformLocation(this.loadingProgram, 'loaded'), (ev.loaded / ev.total));\\n  gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\\n};\\n\\njsmpeg.prototype.loadCallback = function(file) {\\n  this.buffer = new BitReader(file);\\n\\n  if( this.seekable ) {\\n    this.collectIntraFrames();\\n    this.buffer.index = 0;\\n  }\\n\\n  this.findStartCode(START_SEQUENCE);\\n  this.firstSequenceHeader = this.buffer.index;\\n  this.decodeSequenceHeader();\\n\\n  // Calculate the duration. This only works if the video is seekable and we have a frame count\\n  this.duration = this.frameCount / this.pictureRate;\\n\\n  // Load the first frame\\n  this.nextFrame();\\n\\n  if( this.autoplay ) {\\n    this.play();\\n  }\\n\\n  if( this.externalLoadCallback ) {\\n    this.externalLoadCallback(this);\\n  }\\n};\\n\\njsmpeg.prototype.collectIntraFrames = function() {\\n  // Loop through the whole buffer and collect all intraFrames to build our seek index.\\n  // We also keep track of total frame count here\\n  var frame;\\n  for( frame = 0; this.findStartCode(START_PICTURE) !== BitReader.NOT_FOUND; frame++ ) {\\n\\n    // Check if the found picture is an intra frame and remember the position\\n    this.buffer.advance(10); // skip temporalReference\\n    if( this.buffer.getBits(3) == PICTURE_TYPE_I ) {\\n      // Remember index 13 bits back, before temporalReference and picture type\\n      this.intraFrames.push({frame: frame, index: this.buffer.index - 13});\\n    }\\n  }\\n\\n  this.frameCount = frame;\\n};\\n\\njsmpeg.prototype.seekToFrame = function(seekFrame, seekExact) {\\n  if( seekFrame < 0 || seekFrame >= this.frameCount || !this.intraFrames.length ) {\\n    return false;\\n  }\\n\\n  // Find the last intra frame before or equal to seek frame\\n  var target = null;\\n  for( var i = 0; i < this.intraFrames.length && this.intraFrames[i].frame <= seekFrame; i++ ) {\\n    target = this.intraFrames[i];\\n  }\\n\\n  this.buffer.index = target.index;\\n  this.currentFrame = target.frame-1;\\n\\n  // If we're seeking to the exact frame, we may have to decode some more frames before\\n  // the one we want\\n  if( seekExact ) {\\n    for( var frame = target.frame; frame < seekFrame; frame++ ) {\\n      this.decodePicture(DECODE_SKIP_OUTPUT);\\n      this.findStartCode(START_PICTURE);\\n    }\\n    this.currentFrame = seekFrame-1;\\n  }\\n\\n  // Decode and display the picture we have seeked to\\n  this.decodePicture();\\n  return true;\\n};\\n\\njsmpeg.prototype.seekToTime = function(time, seekExact) {\\n  this.seekToFrame( (time * this.pictureRate)|0, seekExact );\\n};\\n\\njsmpeg.prototype.play = function(file) {\\n  if( this.playing ) { return; }\\n  this.targetTime = this.now();\\n  this.playing = true;\\n  this.scheduleNextFrame();\\n};\\n\\njsmpeg.prototype.pause = function(file) {\\n  this.playing = false;\\n};\\n\\njsmpeg.prototype.stop = function(file) {\\n  this.currentFrame = -1;\\n  if( this.buffer ) {\\n    this.buffer.index = this.firstSequenceHeader;\\n  }\\n  this.playing = false;\\n  if( this.client ) {\\n    this.client.close();\\n    this.client = null;\\n  }\\n};\\n\\n\\n\\n// ----------------------------------------------------------------------------\\n// Utilities\\n\\njsmpeg.prototype.readCode = function(codeTable) {\\n  var state = 0;\\n  do {\\n    state = codeTable[state + this.buffer.getBits(1)];\\n  } while( state >= 0 && codeTable[state] != 0 );\\n  return codeTable[state+2];\\n};\\n\\njsmpeg.prototype.findStartCode = function( code ) {\\n  var current = 0;\\n  while( true ) {\\n    current = this.buffer.findNextMPEGStartCode();\\n    if( current == code || current == BitReader.NOT_FOUND ) {\\n      return current;\\n    }\\n  }\\n  return BitReader.NOT_FOUND;\\n};\\n\\njsmpeg.prototype.fillArray = function(a, value) {\\n  for( var i = 0, length = a.length; i < length; i++ ) {\\n    a[i] = value;\\n  }\\n};\\n\\n\\n\\n// ----------------------------------------------------------------------------\\n// Sequence Layer\\n\\njsmpeg.prototype.pictureRate = 30;\\njsmpeg.prototype.lateTime = 0;\\njsmpeg.prototype.firstSequenceHeader = 0;\\njsmpeg.prototype.targetTime = 0;\\n\\njsmpeg.prototype.benchmark = false;\\njsmpeg.prototype.benchFrame = 0;\\njsmpeg.prototype.benchDecodeTimes = 0;\\njsmpeg.prototype.benchAvgFrameTime = 0;\\n\\njsmpeg.prototype.now = function() {\\n  return window.performance\\n    ? window.performance.now()\\n    : Date.now();\\n}\\n\\njsmpeg.prototype.nextFrame = function() {\\n  if( !this.buffer ) { return; }\\n\\n  var frameStart = this.now();\\n  while(true) {\\n    var code = this.buffer.findNextMPEGStartCode();\\n\\n    if( code == START_SEQUENCE ) {\\n      this.decodeSequenceHeader();\\n    }\\n    else if( code == START_PICTURE ) {\\n      if( this.playing ) {\\n        this.scheduleNextFrame();\\n      }\\n      this.decodePicture();\\n      this.benchDecodeTimes += this.now() - frameStart;\\n      return this.canvas;\\n    }\\n    else if( code == BitReader.NOT_FOUND ) {\\n      this.stop(); // Jump back to the beginning\\n\\n      if( this.externalFinishedCallback ) {\\n        this.externalFinishedCallback(this);\\n      }\\n\\n      // Only loop if we found a sequence header\\n      if( this.loop && this.sequenceStarted ) {\\n        this.play();\\n      }\\n      return null;\\n    }\\n    else {\\n      // ignore (GROUP, USER_DATA, EXTENSION, SLICES...)\\n    }\\n  }\\n};\\n\\njsmpeg.prototype.scheduleNextFrame = function() {\\n  this.lateTime = this.now() - this.targetTime;\\n  var wait = Math.max(0, (1000/this.pictureRate) - this.lateTime);\\n  this.targetTime = this.now() + wait;\\n\\n  if( this.benchmark ) {\\n    this.benchFrame++;\\n    if( this.benchFrame >= 120 ) {\\n      this.benchAvgFrameTime = this.benchDecodeTimes / this.benchFrame;\\n      this.benchFrame = 0;\\n      this.benchDecodeTimes = 0;\\n      if( window.console ) { console.log(\\\"Average time per frame:\\\", this.benchAvgFrameTime, 'ms'); }\\n    }\\n    setTimeout( this.nextFrame.bind(this), 0);\\n  }\\n  else if( wait < 18) {\\n    this.scheduleAnimation();\\n  }\\n  else {\\n    setTimeout( this.scheduleAnimation.bind(this), wait );\\n  }\\n};\\n\\njsmpeg.prototype.scheduleAnimation = function() {\\n  requestAnimFrame( this.nextFrame.bind(this), this.canvas );\\n};\\n\\njsmpeg.prototype.decodeSequenceHeader = function() {\\n  this.width = this.buffer.getBits(12);\\n  this.height = this.buffer.getBits(12);\\n  this.buffer.advance(4); // skip pixel aspect ratio\\n  this.pictureRate = PICTURE_RATE[this.buffer.getBits(4)];\\n  this.buffer.advance(18 + 1 + 10 + 1); // skip bitRate, marker, bufferSize and constrained bit\\n\\n  this.initBuffers();\\n\\n  if( this.buffer.getBits(1) ) { // load custom intra quant matrix?\\n    for( var i = 0; i < 64; i++ ) {\\n      this.customIntraQuantMatrix[ZIG_ZAG[i]] = this.buffer.getBits(8);\\n    }\\n    this.intraQuantMatrix = this.customIntraQuantMatrix;\\n  }\\n\\n  if( this.buffer.getBits(1) ) { // load custom non intra quant matrix?\\n    for( var i = 0; i < 64; i++ ) {\\n      this.customNonIntraQuantMatrix[ZIG_ZAG[i]] = this.buffer.getBits(8);\\n    }\\n    this.nonIntraQuantMatrix = this.customNonIntraQuantMatrix;\\n  }\\n};\\n\\njsmpeg.prototype.initBuffers = function() {\\n  this.intraQuantMatrix = DEFAULT_INTRA_QUANT_MATRIX;\\n  this.nonIntraQuantMatrix = DEFAULT_NON_INTRA_QUANT_MATRIX;\\n\\n  this.mbWidth = (this.width + 15) >> 4;\\n  this.mbHeight = (this.height + 15) >> 4;\\n  this.mbSize = this.mbWidth * this.mbHeight;\\n\\n  this.codedWidth = this.mbWidth << 4;\\n  this.codedHeight = this.mbHeight << 4;\\n  this.codedSize = this.codedWidth * this.codedHeight;\\n\\n  this.halfWidth = this.mbWidth << 3;\\n  this.halfHeight = this.mbHeight << 3;\\n  this.quarterSize = this.codedSize >> 2;\\n\\n  // Sequence already started? Don't allocate buffers again\\n  if( this.sequenceStarted ) { return; }\\n  this.sequenceStarted = true;\\n\\n\\n  // Manually clamp values when writing macroblocks for shitty browsers\\n  // that don't support Uint8ClampedArray\\n  var MaybeClampedUint8Array = window.Uint8ClampedArray || window.Uint8Array;\\n  if( !window.Uint8ClampedArray ) {\\n    this.copyBlockToDestination = this.copyBlockToDestinationClamp;\\n    this.addBlockToDestination = this.addBlockToDestinationClamp;\\n  }\\n\\n  // Allocated buffers and resize the canvas\\n  this.currentY = new MaybeClampedUint8Array(this.codedSize);\\n  this.currentY32 = new Uint32Array(this.currentY.buffer);\\n\\n  this.currentCr = new MaybeClampedUint8Array(this.codedSize >> 2);\\n  this.currentCr32 = new Uint32Array(this.currentCr.buffer);\\n\\n  this.currentCb = new MaybeClampedUint8Array(this.codedSize >> 2);\\n  this.currentCb32 = new Uint32Array(this.currentCb.buffer);\\n\\n\\n  this.forwardY = new MaybeClampedUint8Array(this.codedSize);\\n  this.forwardY32 = new Uint32Array(this.forwardY.buffer);\\n\\n  this.forwardCr = new MaybeClampedUint8Array(this.codedSize >> 2);\\n  this.forwardCr32 = new Uint32Array(this.forwardCr.buffer);\\n\\n  this.forwardCb = new MaybeClampedUint8Array(this.codedSize >> 2);\\n  this.forwardCb32 = new Uint32Array(this.forwardCb.buffer);\\n\\n  this.canvas.width = this.width;\\n  this.canvas.height = this.height;\\n\\n  if( this.gl ) {\\n    this.gl.useProgram(this.program);\\n    this.gl.viewport(0, 0, this.width, this.height);\\n  }\\n  else {\\n    this.currentRGBA = this.canvasContext.getImageData(0, 0, this.width, this.height);\\n    this.fillArray(this.currentRGBA.data, 255);\\n  }\\n};\\n\\n\\n\\n\\n// ----------------------------------------------------------------------------\\n// Picture Layer\\n\\njsmpeg.prototype.currentY = null;\\njsmpeg.prototype.currentCr = null;\\njsmpeg.prototype.currentCb = null;\\n\\njsmpeg.prototype.currentRGBA = null;\\n\\njsmpeg.prototype.pictureCodingType = 0;\\n\\n// Buffers for motion compensation\\njsmpeg.prototype.forwardY = null;\\njsmpeg.prototype.forwardCr = null;\\njsmpeg.prototype.forwardCb = null;\\n\\njsmpeg.prototype.fullPelForward = false;\\njsmpeg.prototype.forwardFCode = 0;\\njsmpeg.prototype.forwardRSize = 0;\\njsmpeg.prototype.forwardF = 0;\\n\\n\\njsmpeg.prototype.decodePicture = function(skipOutput) {\\n  this.currentFrame++;\\n  this.currentTime = this.currentFrame / this.pictureRate;\\n\\n  this.buffer.advance(10); // skip temporalReference\\n  this.pictureCodingType = this.buffer.getBits(3);\\n  this.buffer.advance(16); // skip vbv_delay\\n\\n  // Skip B and D frames or unknown coding type\\n  if( this.pictureCodingType <= 0 || this.pictureCodingType >= PICTURE_TYPE_B ) {\\n    return;\\n  }\\n\\n  // full_pel_forward, forward_f_code\\n  if( this.pictureCodingType == PICTURE_TYPE_P ) {\\n    this.fullPelForward = this.buffer.getBits(1);\\n    this.forwardFCode = this.buffer.getBits(3);\\n    if( this.forwardFCode == 0 ) {\\n      // Ignore picture with zero forward_f_code\\n      return;\\n    }\\n    this.forwardRSize = this.forwardFCode - 1;\\n    this.forwardF = 1 << this.forwardRSize;\\n  }\\n\\n  var code = 0;\\n  do {\\n    code = this.buffer.findNextMPEGStartCode();\\n  } while( code == START_EXTENSION || code == START_USER_DATA );\\n\\n\\n  while( code >= START_SLICE_FIRST && code <= START_SLICE_LAST ) {\\n    this.decodeSlice( (code & 0x000000FF) );\\n    code = this.buffer.findNextMPEGStartCode();\\n  }\\n\\n  // We found the next start code; rewind 32bits and let the main loop handle it.\\n  this.buffer.rewind(32);\\n\\n  // Record this frame, if the recorder wants it\\n  this.recordFrameFromCurrentBuffer();\\n\\n\\n  if( skipOutput != DECODE_SKIP_OUTPUT ) {\\n    this.renderFrame();\\n\\n    if(this.externalDecodeCallback) {\\n      this.externalDecodeCallback(this, this.canvas);\\n    }\\n  }\\n\\n  // If this is a reference picutre then rotate the prediction pointers\\n  if( this.pictureCodingType == PICTURE_TYPE_I || this.pictureCodingType == PICTURE_TYPE_P ) {\\n    var\\n      tmpY = this.forwardY,\\n      tmpY32 = this.forwardY32,\\n      tmpCr = this.forwardCr,\\n      tmpCr32 = this.forwardCr32,\\n      tmpCb = this.forwardCb,\\n      tmpCb32 = this.forwardCb32;\\n\\n    this.forwardY = this.currentY;\\n    this.forwardY32 = this.currentY32;\\n    this.forwardCr = this.currentCr;\\n    this.forwardCr32 = this.currentCr32;\\n    this.forwardCb = this.currentCb;\\n    this.forwardCb32 = this.currentCb32;\\n\\n    this.currentY = tmpY;\\n    this.currentY32 = tmpY32;\\n    this.currentCr = tmpCr;\\n    this.currentCr32 = tmpCr32;\\n    this.currentCb = tmpCb;\\n    this.currentCb32 = tmpCb32;\\n  }\\n};\\n\\njsmpeg.prototype.YCbCrToRGBA = function() {\\n  var pY = this.currentY;\\n  var pCb = this.currentCb;\\n  var pCr = this.currentCr;\\n  var pRGBA = this.currentRGBA.data;\\n\\n  // Chroma values are the same for each block of 4 pixels, so we proccess\\n  // 2 lines at a time, 2 neighboring pixels each.\\n  // I wish we could use 32bit writes to the RGBA buffer instead of writing\\n  // each byte separately, but we need the automatic clamping of the RGBA\\n  // buffer.\\n\\n  var yIndex1 = 0;\\n  var yIndex2 = this.codedWidth;\\n  var yNext2Lines = this.codedWidth + (this.codedWidth - this.width);\\n\\n  var cIndex = 0;\\n  var cNextLine = this.halfWidth - (this.width >> 1);\\n\\n  var rgbaIndex1 = 0;\\n  var rgbaIndex2 = this.width * 4;\\n  var rgbaNext2Lines = this.width * 4;\\n\\n  var cols = this.width >> 1;\\n  var rows = this.height >> 1;\\n\\n  var y, cb, cr, r, g, b;\\n\\n  for( var row = 0; row < rows; row++ ) {\\n    for( var col = 0; col < cols; col++ ) {\\n      cb = pCb[cIndex];\\n      cr = pCr[cIndex];\\n      cIndex++;\\n\\n      r = (cr + ((cr * 103) >> 8)) - 179;\\n      g = ((cb * 88) >> 8) - 44 + ((cr * 183) >> 8) - 91;\\n      b = (cb + ((cb * 198) >> 8)) - 227;\\n\\n      // Line 1\\n      var y1 = pY[yIndex1++];\\n      var y2 = pY[yIndex1++];\\n      pRGBA[rgbaIndex1]   = y1 + r;\\n      pRGBA[rgbaIndex1+1] = y1 - g;\\n      pRGBA[rgbaIndex1+2] = y1 + b;\\n      pRGBA[rgbaIndex1+4] = y2 + r;\\n      pRGBA[rgbaIndex1+5] = y2 - g;\\n      pRGBA[rgbaIndex1+6] = y2 + b;\\n      rgbaIndex1 += 8;\\n\\n      // Line 2\\n      var y3 = pY[yIndex2++];\\n      var y4 = pY[yIndex2++];\\n      pRGBA[rgbaIndex2]   = y3 + r;\\n      pRGBA[rgbaIndex2+1] = y3 - g;\\n      pRGBA[rgbaIndex2+2] = y3 + b;\\n      pRGBA[rgbaIndex2+4] = y4 + r;\\n      pRGBA[rgbaIndex2+5] = y4 - g;\\n      pRGBA[rgbaIndex2+6] = y4 + b;\\n      rgbaIndex2 += 8;\\n    }\\n\\n    yIndex1 += yNext2Lines;\\n    yIndex2 += yNext2Lines;\\n    rgbaIndex1 += rgbaNext2Lines;\\n    rgbaIndex2 += rgbaNext2Lines;\\n    cIndex += cNextLine;\\n  }\\n};\\n\\njsmpeg.prototype.renderFrame2D = function() {\\n  this.YCbCrToRGBA();\\n  this.canvasContext.putImageData(this.currentRGBA, 0, 0);\\n};\\n\\n\\n// ----------------------------------------------------------------------------\\n// Accelerated WebGL YCbCrToRGBA conversion\\n\\njsmpeg.prototype.gl = null;\\njsmpeg.prototype.program = null;\\njsmpeg.prototype.YTexture = null;\\njsmpeg.prototype.CBTexture = null;\\njsmpeg.prototype.CRTexture = null;\\n\\njsmpeg.prototype.createTexture = function(index, name) {\\n  var gl = this.gl;\\n  var texture = gl.createTexture();\\n\\n  gl.bindTexture(gl.TEXTURE_2D, texture);\\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\\n  gl.uniform1i(gl.getUniformLocation(this.program, name), index);\\n\\n  return texture;\\n};\\n\\njsmpeg.prototype.compileShader = function(type, source) {\\n  var gl = this.gl;\\n  var shader = gl.createShader(type);\\n  gl.shaderSource(shader, source);\\n  gl.compileShader(shader);\\n\\n  if( !gl.getShaderParameter(shader, gl.COMPILE_STATUS) ) {\\n    throw new Error(gl.getShaderInfoLog(shader));\\n  }\\n\\n  return shader;\\n};\\n\\njsmpeg.prototype.initWebGL = function() {\\n  // attempt to get a webgl context\\n  try {\\n    var gl = this.gl = this.canvas.getContext('webgl') || this.canvas.getContext('experimental-webgl');\\n  } catch (e) {\\n    return false;\\n  }\\n\\n  if (!gl) {\\n    return false;\\n  }\\n\\n  // init buffers\\n  this.buffer = gl.createBuffer();\\n  gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\\n  gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0, 0, 0, 1, 1, 0, 1, 1]), gl.STATIC_DRAW);\\n\\n  // The main YCbCrToRGBA Shader\\n  this.program = gl.createProgram();\\n  gl.attachShader(this.program, this.compileShader(gl.VERTEX_SHADER, SHADER_VERTEX_IDENTITY));\\n  gl.attachShader(this.program, this.compileShader(gl.FRAGMENT_SHADER, SHADER_FRAGMENT_YCBCRTORGBA));\\n  gl.linkProgram(this.program);\\n\\n  if( !gl.getProgramParameter(this.program, gl.LINK_STATUS) ) {\\n    throw new Error(gl.getProgramInfoLog(this.program));\\n  }\\n\\n  gl.useProgram(this.program);\\n\\n  // setup textures\\n  this.YTexture = this.createTexture(0, 'YTexture');\\n  this.CBTexture = this.createTexture(1, 'CBTexture');\\n  this.CRTexture = this.createTexture(2, 'CRTexture');\\n\\n  var vertexAttr = gl.getAttribLocation(this.program, 'vertex');\\n  gl.enableVertexAttribArray(vertexAttr);\\n  gl.vertexAttribPointer(vertexAttr, 2, gl.FLOAT, false, 0, 0);\\n\\n\\n  // Shader for the loading screen\\n  this.loadingProgram = gl.createProgram();\\n  gl.attachShader(this.loadingProgram, this.compileShader(gl.VERTEX_SHADER, SHADER_VERTEX_IDENTITY));\\n  gl.attachShader(this.loadingProgram, this.compileShader(gl.FRAGMENT_SHADER, SHADER_FRAGMENT_LOADING));\\n  gl.linkProgram(this.loadingProgram);\\n\\n  gl.useProgram(this.loadingProgram);\\n\\n  vertexAttr = gl.getAttribLocation(this.loadingProgram, 'vertex');\\n  gl.enableVertexAttribArray(vertexAttr);\\n  gl.vertexAttribPointer(vertexAttr, 2, gl.FLOAT, false, 0, 0);\\n\\n  return true;\\n};\\n\\njsmpeg.prototype.renderFrameGL = function() {\\n  var gl = this.gl;\\n\\n  // WebGL doesn't like Uint8ClampedArrays, so we have to create a Uint8Array view for\\n  // each plane\\n  var uint8Y = new Uint8Array(this.currentY.buffer),\\n    uint8Cr = new Uint8Array(this.currentCr.buffer),\\n    uint8Cb = new Uint8Array(this.currentCb.buffer);\\n\\n  gl.activeTexture(gl.TEXTURE0);\\n  gl.bindTexture(gl.TEXTURE_2D, this.YTexture);\\n\\n  gl.texImage2D(gl.TEXTURE_2D, 0, gl.LUMINANCE, this.codedWidth, this.height, 0, gl.LUMINANCE, gl.UNSIGNED_BYTE, uint8Y);\\n\\n  gl.activeTexture(gl.TEXTURE1);\\n  gl.bindTexture(gl.TEXTURE_2D, this.CBTexture);\\n  gl.texImage2D(gl.TEXTURE_2D, 0, gl.LUMINANCE, this.halfWidth, this.height/2, 0, gl.LUMINANCE, gl.UNSIGNED_BYTE, uint8Cr);\\n\\n  gl.activeTexture(gl.TEXTURE2);\\n  gl.bindTexture(gl.TEXTURE_2D, this.CRTexture);\\n  gl.texImage2D(gl.TEXTURE_2D, 0, gl.LUMINANCE, this.halfWidth, this.height/2, 0, gl.LUMINANCE, gl.UNSIGNED_BYTE, uint8Cb);\\n\\n  gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\\n};\\n\\n\\n// ----------------------------------------------------------------------------\\n// Slice Layer\\n\\njsmpeg.prototype.quantizerScale = 0;\\njsmpeg.prototype.sliceBegin = false;\\n\\njsmpeg.prototype.decodeSlice = function(slice) {\\n  this.sliceBegin = true;\\n  this.macroblockAddress = (slice - 1) * this.mbWidth - 1;\\n\\n  // Reset motion vectors and DC predictors\\n  this.motionFwH = this.motionFwHPrev = 0;\\n  this.motionFwV = this.motionFwVPrev = 0;\\n  this.dcPredictorY  = 128;\\n  this.dcPredictorCr = 128;\\n  this.dcPredictorCb = 128;\\n\\n  this.quantizerScale = this.buffer.getBits(5);\\n\\n  // skip extra bits\\n  while( this.buffer.getBits(1) ) {\\n    this.buffer.advance(8);\\n  }\\n\\n  do {\\n    this.decodeMacroblock();\\n    // We may have to ignore Video Stream Start Codes here (0xE0)!?\\n  } while( !this.buffer.nextBytesAreStartCode() );\\n}\\n\\n\\n// ----------------------------------------------------------------------------\\n// Macroblock Layer\\n\\njsmpeg.prototype.macroblockAddress = 0;\\njsmpeg.prototype.mbRow = 0;\\njsmpeg.prototype.mbCol = 0;\\n\\njsmpeg.prototype.macroblockType = 0;\\njsmpeg.prototype.macroblockIntra = false;\\njsmpeg.prototype.macroblockMotFw = false;\\n\\njsmpeg.prototype.motionFwH = 0;\\njsmpeg.prototype.motionFwV = 0;\\njsmpeg.prototype.motionFwHPrev = 0;\\njsmpeg.prototype.motionFwVPrev = 0;\\n\\njsmpeg.prototype.decodeMacroblock = function() {\\n  // Decode macroblock_address_increment\\n  var\\n    increment = 0,\\n    t = this.readCode(MACROBLOCK_ADDRESS_INCREMENT);\\n\\n  while( t == 34 ) {\\n    // macroblock_stuffing\\n    t = this.readCode(MACROBLOCK_ADDRESS_INCREMENT);\\n  }\\n  while( t == 35 ) {\\n    // macroblock_escape\\n    increment += 33;\\n    t = this.readCode(MACROBLOCK_ADDRESS_INCREMENT);\\n  }\\n  increment += t;\\n\\n  // Process any skipped macroblocks\\n  if( this.sliceBegin ) {\\n    // The first macroblock_address_increment of each slice is relative\\n    // to beginning of the preverious row, not the preverious macroblock\\n    this.sliceBegin = false;\\n    this.macroblockAddress += increment;\\n  }\\n  else {\\n    if( this.macroblockAddress + increment >= this.mbSize ) {\\n      // Illegal (too large) macroblock_address_increment\\n      return;\\n    }\\n    if( increment > 1 ) {\\n      // Skipped macroblocks reset DC predictors\\n      this.dcPredictorY  = 128;\\n      this.dcPredictorCr = 128;\\n      this.dcPredictorCb = 128;\\n\\n      // Skipped macroblocks in P-pictures reset motion vectors\\n      if( this.pictureCodingType == PICTURE_TYPE_P ) {\\n        this.motionFwH = this.motionFwHPrev = 0;\\n        this.motionFwV = this.motionFwVPrev = 0;\\n      }\\n    }\\n\\n    // Predict skipped macroblocks\\n    while( increment > 1) {\\n      this.macroblockAddress++;\\n      this.mbRow = (this.macroblockAddress / this.mbWidth)|0;\\n      this.mbCol = this.macroblockAddress % this.mbWidth;\\n      this.copyMacroblock(this.motionFwH, this.motionFwV, this.forwardY, this.forwardCr, this.forwardCb);\\n      increment--;\\n    }\\n    this.macroblockAddress++;\\n  }\\n  this.mbRow = (this.macroblockAddress / this.mbWidth)|0;\\n  this.mbCol = this.macroblockAddress % this.mbWidth;\\n\\n  // Process the current macroblock\\n  this.macroblockType = this.readCode(MACROBLOCK_TYPE_TABLES[this.pictureCodingType]);\\n  this.macroblockIntra = (this.macroblockType & 0x01);\\n  this.macroblockMotFw = (this.macroblockType & 0x08);\\n\\n  // Quantizer scale\\n  if( (this.macroblockType & 0x10) != 0 ) {\\n    this.quantizerScale = this.buffer.getBits(5);\\n  }\\n\\n  if( this.macroblockIntra ) {\\n    // Intra-coded macroblocks reset motion vectors\\n    this.motionFwH = this.motionFwHPrev = 0;\\n    this.motionFwV = this.motionFwVPrev = 0;\\n  }\\n  else {\\n    // Non-intra macroblocks reset DC predictors\\n    this.dcPredictorY = 128;\\n    this.dcPredictorCr = 128;\\n    this.dcPredictorCb = 128;\\n\\n    this.decodeMotionVectors();\\n    this.copyMacroblock(this.motionFwH, this.motionFwV, this.forwardY, this.forwardCr, this.forwardCb);\\n  }\\n\\n  // Decode blocks\\n  var cbp = ((this.macroblockType & 0x02) != 0)\\n    ? this.readCode(CODE_BLOCK_PATTERN)\\n    : (this.macroblockIntra ? 0x3f : 0);\\n\\n  for( var block = 0, mask = 0x20; block < 6; block++ ) {\\n    if( (cbp & mask) != 0 ) {\\n      this.decodeBlock(block);\\n    }\\n    mask >>= 1;\\n  }\\n};\\n\\n\\njsmpeg.prototype.decodeMotionVectors = function() {\\n  var code, d, r = 0;\\n\\n  // Forward\\n  if( this.macroblockMotFw ) {\\n    // Horizontal forward\\n    code = this.readCode(MOTION);\\n    if( (code != 0) && (this.forwardF != 1) ) {\\n      r = this.buffer.getBits(this.forwardRSize);\\n      d = ((Math.abs(code) - 1) << this.forwardRSize) + r + 1;\\n      if( code < 0 ) {\\n        d = -d;\\n      }\\n    }\\n    else {\\n      d = code;\\n    }\\n\\n    this.motionFwHPrev += d;\\n    if( this.motionFwHPrev > (this.forwardF << 4) - 1 ) {\\n      this.motionFwHPrev -= this.forwardF << 5;\\n    }\\n    else if( this.motionFwHPrev < ((-this.forwardF) << 4) ) {\\n      this.motionFwHPrev += this.forwardF << 5;\\n    }\\n\\n    this.motionFwH = this.motionFwHPrev;\\n    if( this.fullPelForward ) {\\n      this.motionFwH <<= 1;\\n    }\\n\\n    // Vertical forward\\n    code = this.readCode(MOTION);\\n    if( (code != 0) && (this.forwardF != 1) ) {\\n      r = this.buffer.getBits(this.forwardRSize);\\n      d = ((Math.abs(code) - 1) << this.forwardRSize) + r + 1;\\n      if( code < 0 ) {\\n        d = -d;\\n      }\\n    }\\n    else {\\n      d = code;\\n    }\\n\\n    this.motionFwVPrev += d;\\n    if( this.motionFwVPrev > (this.forwardF << 4) - 1 ) {\\n      this.motionFwVPrev -= this.forwardF << 5;\\n    }\\n    else if( this.motionFwVPrev < ((-this.forwardF) << 4) ) {\\n      this.motionFwVPrev += this.forwardF << 5;\\n    }\\n\\n    this.motionFwV = this.motionFwVPrev;\\n    if( this.fullPelForward ) {\\n      this.motionFwV <<= 1;\\n    }\\n  }\\n  else if( this.pictureCodingType == PICTURE_TYPE_P ) {\\n    // No motion information in P-picture, reset vectors\\n    this.motionFwH = this.motionFwHPrev = 0;\\n    this.motionFwV = this.motionFwVPrev = 0;\\n  }\\n};\\n\\njsmpeg.prototype.copyMacroblock = function(motionH, motionV, sY, sCr, sCb ) {\\n  var\\n    width, scan,\\n    H, V, oddH, oddV,\\n    src, dest, last;\\n\\n  // We use 32bit writes here\\n  var dY = this.currentY32;\\n  var dCb = this.currentCb32;\\n  var dCr = this.currentCr32;\\n\\n  // Luminance\\n  width = this.codedWidth;\\n  scan = width - 16;\\n\\n  H = motionH >> 1;\\n  V = motionV >> 1;\\n  oddH = (motionH & 1) == 1;\\n  oddV = (motionV & 1) == 1;\\n\\n  src = ((this.mbRow << 4) + V) * width + (this.mbCol << 4) + H;\\n  dest = (this.mbRow * width + this.mbCol) << 2;\\n  last = dest + (width << 2);\\n\\n  var y1, y2, y;\\n  if( oddH ) {\\n    if( oddV ) {\\n      while( dest < last ) {\\n        y1 = sY[src] + sY[src+width]; src++;\\n        for( var x = 0; x < 4; x++ ) {\\n          y2 = sY[src] + sY[src+width]; src++;\\n          y = (((y1 + y2 + 2) >> 2) & 0xff);\\n\\n          y1 = sY[src] + sY[src+width]; src++;\\n          y |= (((y1 + y2 + 2) << 6) & 0xff00);\\n\\n          y2 = sY[src] + sY[src+width]; src++;\\n          y |= (((y1 + y2 + 2) << 14) & 0xff0000);\\n\\n          y1 = sY[src] + sY[src+width]; src++;\\n          y |= (((y1 + y2 + 2) << 22) & 0xff000000);\\n\\n          dY[dest++] = y;\\n        }\\n        dest += scan >> 2; src += scan-1;\\n      }\\n    }\\n    else {\\n      while( dest < last ) {\\n        y1 = sY[src++];\\n        for( var x = 0; x < 4; x++ ) {\\n          y2 = sY[src++];\\n          y = (((y1 + y2 + 1) >> 1) & 0xff);\\n\\n          y1 = sY[src++];\\n          y |= (((y1 + y2 + 1) << 7) & 0xff00);\\n\\n          y2 = sY[src++];\\n          y |= (((y1 + y2 + 1) << 15) & 0xff0000);\\n\\n          y1 = sY[src++];\\n          y |= (((y1 + y2 + 1) << 23) & 0xff000000);\\n\\n          dY[dest++] = y;\\n        }\\n        dest += scan >> 2; src += scan-1;\\n      }\\n    }\\n  }\\n  else {\\n    if( oddV ) {\\n      while( dest < last ) {\\n        for( var x = 0; x < 4; x++ ) {\\n          y = (((sY[src] + sY[src+width] + 1) >> 1) & 0xff); src++;\\n          y |= (((sY[src] + sY[src+width] + 1) << 7) & 0xff00); src++;\\n          y |= (((sY[src] + sY[src+width] + 1) << 15) & 0xff0000); src++;\\n          y |= (((sY[src] + sY[src+width] + 1) << 23) & 0xff000000); src++;\\n\\n          dY[dest++] = y;\\n        }\\n        dest += scan >> 2; src += scan;\\n      }\\n    }\\n    else {\\n      while( dest < last ) {\\n        for( var x = 0; x < 4; x++ ) {\\n          y = sY[src]; src++;\\n          y |= sY[src] << 8; src++;\\n          y |= sY[src] << 16; src++;\\n          y |= sY[src] << 24; src++;\\n\\n          dY[dest++] = y;\\n        }\\n        dest += scan >> 2; src += scan;\\n      }\\n    }\\n  }\\n\\n  // Chrominance\\n\\n  width = this.halfWidth;\\n  scan = width - 8;\\n\\n  H = (motionH/2) >> 1;\\n  V = (motionV/2) >> 1;\\n  oddH = ((motionH/2) & 1) == 1;\\n  oddV = ((motionV/2) & 1) == 1;\\n\\n  src = ((this.mbRow << 3) + V) * width + (this.mbCol << 3) + H;\\n  dest = (this.mbRow * width + this.mbCol) << 1;\\n  last = dest + (width << 1);\\n\\n  var cr1, cr2, cr;\\n  var cb1, cb2, cb;\\n  if( oddH ) {\\n    if( oddV ) {\\n      while( dest < last ) {\\n        cr1 = sCr[src] + sCr[src+width];\\n        cb1 = sCb[src] + sCb[src+width];\\n        src++;\\n        for( var x = 0; x < 2; x++ ) {\\n          cr2 = sCr[src] + sCr[src+width];\\n          cb2 = sCb[src] + sCb[src+width]; src++;\\n          cr = (((cr1 + cr2 + 2) >> 2) & 0xff);\\n          cb = (((cb1 + cb2 + 2) >> 2) & 0xff);\\n\\n          cr1 = sCr[src] + sCr[src+width];\\n          cb1 = sCb[src] + sCb[src+width]; src++;\\n          cr |= (((cr1 + cr2 + 2) << 6) & 0xff00);\\n          cb |= (((cb1 + cb2 + 2) << 6) & 0xff00);\\n\\n          cr2 = sCr[src] + sCr[src+width];\\n          cb2 = sCb[src] + sCb[src+width]; src++;\\n          cr |= (((cr1 + cr2 + 2) << 14) & 0xff0000);\\n          cb |= (((cb1 + cb2 + 2) << 14) & 0xff0000);\\n\\n          cr1 = sCr[src] + sCr[src+width];\\n          cb1 = sCb[src] + sCb[src+width]; src++;\\n          cr |= (((cr1 + cr2 + 2) << 22) & 0xff000000);\\n          cb |= (((cb1 + cb2 + 2) << 22) & 0xff000000);\\n\\n          dCr[dest] = cr;\\n          dCb[dest] = cb;\\n          dest++;\\n        }\\n        dest += scan >> 2; src += scan-1;\\n      }\\n    }\\n    else {\\n      while( dest < last ) {\\n        cr1 = sCr[src];\\n        cb1 = sCb[src];\\n        src++;\\n        for( var x = 0; x < 2; x++ ) {\\n          cr2 = sCr[src];\\n          cb2 = sCb[src++];\\n          cr = (((cr1 + cr2 + 1) >> 1) & 0xff);\\n          cb = (((cb1 + cb2 + 1) >> 1) & 0xff);\\n\\n          cr1 = sCr[src];\\n          cb1 = sCb[src++];\\n          cr |= (((cr1 + cr2 + 1) << 7) & 0xff00);\\n          cb |= (((cb1 + cb2 + 1) << 7) & 0xff00);\\n\\n          cr2 = sCr[src];\\n          cb2 = sCb[src++];\\n          cr |= (((cr1 + cr2 + 1) << 15) & 0xff0000);\\n          cb |= (((cb1 + cb2 + 1) << 15) & 0xff0000);\\n\\n          cr1 = sCr[src];\\n          cb1 = sCb[src++];\\n          cr |= (((cr1 + cr2 + 1) << 23) & 0xff000000);\\n          cb |= (((cb1 + cb2 + 1) << 23) & 0xff000000);\\n\\n          dCr[dest] = cr;\\n          dCb[dest] = cb;\\n          dest++;\\n        }\\n        dest += scan >> 2; src += scan-1;\\n      }\\n    }\\n  }\\n  else {\\n    if( oddV ) {\\n      while( dest < last ) {\\n        for( var x = 0; x < 2; x++ ) {\\n          cr = (((sCr[src] + sCr[src+width] + 1) >> 1) & 0xff);\\n          cb = (((sCb[src] + sCb[src+width] + 1) >> 1) & 0xff); src++;\\n\\n          cr |= (((sCr[src] + sCr[src+width] + 1) << 7) & 0xff00);\\n          cb |= (((sCb[src] + sCb[src+width] + 1) << 7) & 0xff00); src++;\\n\\n          cr |= (((sCr[src] + sCr[src+width] + 1) << 15) & 0xff0000);\\n          cb |= (((sCb[src] + sCb[src+width] + 1) << 15) & 0xff0000); src++;\\n\\n          cr |= (((sCr[src] + sCr[src+width] + 1) << 23) & 0xff000000);\\n          cb |= (((sCb[src] + sCb[src+width] + 1) << 23) & 0xff000000); src++;\\n\\n          dCr[dest] = cr;\\n          dCb[dest] = cb;\\n          dest++;\\n        }\\n        dest += scan >> 2; src += scan;\\n      }\\n    }\\n    else {\\n      while( dest < last ) {\\n        for( var x = 0; x < 2; x++ ) {\\n          cr = sCr[src];\\n          cb = sCb[src]; src++;\\n\\n          cr |= sCr[src] << 8;\\n          cb |= sCb[src] << 8; src++;\\n\\n          cr |= sCr[src] << 16;\\n          cb |= sCb[src] << 16; src++;\\n\\n          cr |= sCr[src] << 24;\\n          cb |= sCb[src] << 24; src++;\\n\\n          dCr[dest] = cr;\\n          dCb[dest] = cb;\\n          dest++;\\n        }\\n        dest += scan >> 2; src += scan;\\n      }\\n    }\\n  }\\n};\\n\\n\\n// ----------------------------------------------------------------------------\\n// Block layer\\n\\njsmpeg.prototype.dcPredictorY;\\njsmpeg.prototype.dcPredictorCr;\\njsmpeg.prototype.dcPredictorCb;\\n\\njsmpeg.prototype.blockData = null;\\njsmpeg.prototype.decodeBlock = function(block) {\\n\\n  var\\n    n = 0,\\n    quantMatrix;\\n\\n  // Decode DC coefficient of intra-coded blocks\\n  if( this.macroblockIntra ) {\\n    var\\n      predictor,\\n      dctSize;\\n\\n    // DC prediction\\n\\n    if( block < 4 ) {\\n      predictor = this.dcPredictorY;\\n      dctSize = this.readCode(DCT_DC_SIZE_LUMINANCE);\\n    }\\n    else {\\n      predictor = (block == 4 ? this.dcPredictorCr : this.dcPredictorCb);\\n      dctSize = this.readCode(DCT_DC_SIZE_CHROMINANCE);\\n    }\\n\\n    // Read DC coeff\\n    if( dctSize > 0 ) {\\n      var differential = this.buffer.getBits(dctSize);\\n      if( (differential & (1 << (dctSize - 1))) != 0 ) {\\n        this.blockData[0] = predictor + differential;\\n      }\\n      else {\\n        this.blockData[0] = predictor + ((-1 << dctSize)|(differential+1));\\n      }\\n    }\\n    else {\\n      this.blockData[0] = predictor;\\n    }\\n\\n    // Save predictor value\\n    if( block < 4 ) {\\n      this.dcPredictorY = this.blockData[0];\\n    }\\n    else if( block == 4 ) {\\n      this.dcPredictorCr = this.blockData[0];\\n    }\\n    else {\\n      this.dcPredictorCb = this.blockData[0];\\n    }\\n\\n    // Dequantize + premultiply\\n    this.blockData[0] <<= (3 + 5);\\n\\n    quantMatrix = this.intraQuantMatrix;\\n    n = 1;\\n  }\\n  else {\\n    quantMatrix = this.nonIntraQuantMatrix;\\n  }\\n\\n  // Decode AC coefficients (+DC for non-intra)\\n  var level = 0;\\n  while( true ) {\\n    var\\n      run = 0,\\n      coeff = this.readCode(DCT_COEFF);\\n\\n    if( (coeff == 0x0001) && (n > 0) && (this.buffer.getBits(1) == 0) ) {\\n      // end_of_block\\n      break;\\n    }\\n    if( coeff == 0xffff ) {\\n      // escape\\n      run = this.buffer.getBits(6);\\n      level = this.buffer.getBits(8);\\n      if( level == 0 ) {\\n        level = this.buffer.getBits(8);\\n      }\\n      else if( level == 128 ) {\\n        level = this.buffer.getBits(8) - 256;\\n      }\\n      else if( level > 128 ) {\\n        level = level - 256;\\n      }\\n    }\\n    else {\\n      run = coeff >> 8;\\n      level = coeff & 0xff;\\n      if( this.buffer.getBits(1) ) {\\n        level = -level;\\n      }\\n    }\\n\\n    n += run;\\n    var dezigZagged = ZIG_ZAG[n];\\n    n++;\\n\\n    // Dequantize, oddify, clip\\n    level <<= 1;\\n    if( !this.macroblockIntra ) {\\n      level += (level < 0 ? -1 : 1);\\n    }\\n    level = (level * this.quantizerScale * quantMatrix[dezigZagged]) >> 4;\\n    if( (level & 1) == 0 ) {\\n      level -= level > 0 ? 1 : -1;\\n    }\\n    if( level > 2047 ) {\\n      level = 2047;\\n    }\\n    else if( level < -2048 ) {\\n      level = -2048;\\n    }\\n\\n    // Save premultiplied coefficient\\n    this.blockData[dezigZagged] = level * PREMULTIPLIER_MATRIX[dezigZagged];\\n  };\\n\\n  // Move block to its place\\n  var\\n    destArray,\\n    destIndex,\\n    scan;\\n\\n  if( block < 4 ) {\\n    destArray = this.currentY;\\n    scan = this.codedWidth - 8;\\n    destIndex = (this.mbRow * this.codedWidth + this.mbCol) << 4;\\n    if( (block & 1) != 0 ) {\\n      destIndex += 8;\\n    }\\n    if( (block & 2) != 0 ) {\\n      destIndex += this.codedWidth << 3;\\n    }\\n  }\\n  else {\\n    destArray = (block == 4) ? this.currentCb : this.currentCr;\\n    scan = (this.codedWidth >> 1) - 8;\\n    destIndex = ((this.mbRow * this.codedWidth) << 2) + (this.mbCol << 3);\\n  }\\n\\n  if( this.macroblockIntra ) {\\n    // Overwrite (no prediction)\\n    if (n == 1) {\\n      this.copyValueToDestination((this.blockData[0] + 128) >> 8, destArray, destIndex, scan);\\n      this.blockData[0] = 0;\\n    } else {\\n      this.IDCT();\\n      this.copyBlockToDestination(this.blockData, destArray, destIndex, scan);\\n      this.blockData.set(this.zeroBlockData);\\n    }\\n  }\\n  else {\\n    // Add data to the predicted macroblock\\n    if (n == 1) {\\n      this.addValueToDestination((this.blockData[0] + 128) >> 8, destArray, destIndex, scan);\\n      this.blockData[0] = 0;\\n    } else {\\n      this.IDCT();\\n      this.addBlockToDestination(this.blockData, destArray, destIndex, scan);\\n      this.blockData.set(this.zeroBlockData);\\n    }\\n  }\\n\\n  n = 0;\\n};\\n\\njsmpeg.prototype.copyBlockToDestination = function(blockData, destArray, destIndex, scan) {\\n  for( var n = 0; n < 64; n += 8, destIndex += scan+8 ) {\\n    destArray[destIndex+0] = blockData[n+0];\\n    destArray[destIndex+1] = blockData[n+1];\\n    destArray[destIndex+2] = blockData[n+2];\\n    destArray[destIndex+3] = blockData[n+3];\\n    destArray[destIndex+4] = blockData[n+4];\\n    destArray[destIndex+5] = blockData[n+5];\\n    destArray[destIndex+6] = blockData[n+6];\\n    destArray[destIndex+7] = blockData[n+7];\\n  }\\n};\\n\\njsmpeg.prototype.addBlockToDestination = function(blockData, destArray, destIndex, scan) {\\n  for( var n = 0; n < 64; n += 8, destIndex += scan+8 ) {\\n    destArray[destIndex+0] += blockData[n+0];\\n    destArray[destIndex+1] += blockData[n+1];\\n    destArray[destIndex+2] += blockData[n+2];\\n    destArray[destIndex+3] += blockData[n+3];\\n    destArray[destIndex+4] += blockData[n+4];\\n    destArray[destIndex+5] += blockData[n+5];\\n    destArray[destIndex+6] += blockData[n+6];\\n    destArray[destIndex+7] += blockData[n+7];\\n  }\\n};\\n\\njsmpeg.prototype.copyValueToDestination = function(value, destArray, destIndex, scan) {\\n  for( var n = 0; n < 64; n += 8, destIndex += scan+8 ) {\\n    destArray[destIndex+0] = value;\\n    destArray[destIndex+1] = value;\\n    destArray[destIndex+2] = value;\\n    destArray[destIndex+3] = value;\\n    destArray[destIndex+4] = value;\\n    destArray[destIndex+5] = value;\\n    destArray[destIndex+6] = value;\\n    destArray[destIndex+7] = value;\\n  }\\n};\\n\\njsmpeg.prototype.addValueToDestination = function(value, destArray, destIndex, scan) {\\n  for( var n = 0; n < 64; n += 8, destIndex += scan+8 ) {\\n    destArray[destIndex+0] += value;\\n    destArray[destIndex+1] += value;\\n    destArray[destIndex+2] += value;\\n    destArray[destIndex+3] += value;\\n    destArray[destIndex+4] += value;\\n    destArray[destIndex+5] += value;\\n    destArray[destIndex+6] += value;\\n    destArray[destIndex+7] += value;\\n  }\\n};\\n\\n// Clamping version for shitty browsers (IE) that don't support Uint8ClampedArray\\njsmpeg.prototype.copyBlockToDestinationClamp = function(blockData, destArray, destIndex, scan) {\\n  var n = 0;\\n  for( var i = 0; i < 8; i++ ) {\\n    for( var j = 0; j < 8; j++ ) {\\n      var p = blockData[n++];\\n      destArray[destIndex++] = p > 255 ? 255 : (p < 0 ? 0 : p);\\n    }\\n    destIndex += scan;\\n  }\\n};\\n\\njsmpeg.prototype.addBlockToDestinationClamp = function(blockData, destArray, destIndex, scan) {\\n  var n = 0;\\n  for( var i = 0; i < 8; i++ ) {\\n    for( var j = 0; j < 8; j++ ) {\\n      var p = blockData[n++] + destArray[destIndex];\\n      destArray[destIndex++] = p > 255 ? 255 : (p < 0 ? 0 : p);\\n    }\\n    destIndex += scan;\\n  }\\n};\\n\\njsmpeg.prototype.IDCT = function() {\\n  // See http://vsr.informatik.tu-chemnitz.de/~jan/MPEG/HTML/IDCT.html\\n  // for more info.\\n\\n  var\\n    b1, b3, b4, b6, b7, tmp1, tmp2, m0,\\n    x0, x1, x2, x3, x4, y3, y4, y5, y6, y7,\\n    i,\\n    blockData = this.blockData;\\n\\n  // Transform columns\\n  for( i = 0; i < 8; ++i ) {\\n    b1 =  blockData[4*8+i];\\n    b3 =  blockData[2*8+i] + blockData[6*8+i];\\n    b4 =  blockData[5*8+i] - blockData[3*8+i];\\n    tmp1 = blockData[1*8+i] + blockData[7*8+i];\\n    tmp2 = blockData[3*8+i] + blockData[5*8+i];\\n    b6 = blockData[1*8+i] - blockData[7*8+i];\\n    b7 = tmp1 + tmp2;\\n    m0 =  blockData[0*8+i];\\n    x4 =  ((b6*473 - b4*196 + 128) >> 8) - b7;\\n    x0 =  x4 - (((tmp1 - tmp2)*362 + 128) >> 8);\\n    x1 =  m0 - b1;\\n    x2 =  (((blockData[2*8+i] - blockData[6*8+i])*362 + 128) >> 8) - b3;\\n    x3 =  m0 + b1;\\n    y3 =  x1 + x2;\\n    y4 =  x3 + b3;\\n    y5 =  x1 - x2;\\n    y6 =  x3 - b3;\\n    y7 = -x0 - ((b4*473 + b6*196 + 128) >> 8);\\n    blockData[0*8+i] =  b7 + y4;\\n    blockData[1*8+i] =  x4 + y3;\\n    blockData[2*8+i] =  y5 - x0;\\n    blockData[3*8+i] =  y6 - y7;\\n    blockData[4*8+i] =  y6 + y7;\\n    blockData[5*8+i] =  x0 + y5;\\n    blockData[6*8+i] =  y3 - x4;\\n    blockData[7*8+i] =  y4 - b7;\\n  }\\n\\n  // Transform rows\\n  for( i = 0; i < 64; i += 8 ) {\\n    b1 =  blockData[4+i];\\n    b3 =  blockData[2+i] + blockData[6+i];\\n    b4 =  blockData[5+i] - blockData[3+i];\\n    tmp1 = blockData[1+i] + blockData[7+i];\\n    tmp2 = blockData[3+i] + blockData[5+i];\\n    b6 = blockData[1+i] - blockData[7+i];\\n    b7 = tmp1 + tmp2;\\n    m0 =  blockData[0+i];\\n    x4 =  ((b6*473 - b4*196 + 128) >> 8) - b7;\\n    x0 =  x4 - (((tmp1 - tmp2)*362 + 128) >> 8);\\n    x1 =  m0 - b1;\\n    x2 =  (((blockData[2+i] - blockData[6+i])*362 + 128) >> 8) - b3;\\n    x3 =  m0 + b1;\\n    y3 =  x1 + x2;\\n    y4 =  x3 + b3;\\n    y5 =  x1 - x2;\\n    y6 =  x3 - b3;\\n    y7 = -x0 - ((b4*473 + b6*196 + 128) >> 8);\\n    blockData[0+i] =  (b7 + y4 + 128) >> 8;\\n    blockData[1+i] =  (x4 + y3 + 128) >> 8;\\n    blockData[2+i] =  (y5 - x0 + 128) >> 8;\\n    blockData[3+i] =  (y6 - y7 + 128) >> 8;\\n    blockData[4+i] =  (y6 + y7 + 128) >> 8;\\n    blockData[5+i] =  (x0 + y5 + 128) >> 8;\\n    blockData[6+i] =  (y3 - x4 + 128) >> 8;\\n    blockData[7+i] =  (y4 - b7 + 128) >> 8;\\n  }\\n};\\n\\n\\n// ----------------------------------------------------------------------------\\n// VLC Tables and Constants\\n\\nvar\\n  SOCKET_MAGIC_BYTES = 'jsmp',\\n  DECODE_SKIP_OUTPUT = 1,\\n  PICTURE_RATE = [\\n    0.000, 23.976, 24.000, 25.000, 29.970, 30.000, 50.000, 59.940,\\n    60.000,  0.000,  0.000,  0.000,  0.000,  0.000,  0.000,  0.000\\n  ],\\n  ZIG_ZAG = new Uint8Array([\\n     0,  1,  8, 16,  9,  2,  3, 10,\\n    17, 24, 32, 25, 18, 11,  4,  5,\\n    12, 19, 26, 33, 40, 48, 41, 34,\\n    27, 20, 13,  6,  7, 14, 21, 28,\\n    35, 42, 49, 56, 57, 50, 43, 36,\\n    29, 22, 15, 23, 30, 37, 44, 51,\\n    58, 59, 52, 45, 38, 31, 39, 46,\\n    53, 60, 61, 54, 47, 55, 62, 63\\n  ]),\\n  DEFAULT_INTRA_QUANT_MATRIX = new Uint8Array([\\n     8, 16, 19, 22, 26, 27, 29, 34,\\n    16, 16, 22, 24, 27, 29, 34, 37,\\n    19, 22, 26, 27, 29, 34, 34, 38,\\n    22, 22, 26, 27, 29, 34, 37, 40,\\n    22, 26, 27, 29, 32, 35, 40, 48,\\n    26, 27, 29, 32, 35, 40, 48, 58,\\n    26, 27, 29, 34, 38, 46, 56, 69,\\n    27, 29, 35, 38, 46, 56, 69, 83\\n  ]),\\n  DEFAULT_NON_INTRA_QUANT_MATRIX = new Uint8Array([\\n    16, 16, 16, 16, 16, 16, 16, 16,\\n    16, 16, 16, 16, 16, 16, 16, 16,\\n    16, 16, 16, 16, 16, 16, 16, 16,\\n    16, 16, 16, 16, 16, 16, 16, 16,\\n    16, 16, 16, 16, 16, 16, 16, 16,\\n    16, 16, 16, 16, 16, 16, 16, 16,\\n    16, 16, 16, 16, 16, 16, 16, 16,\\n    16, 16, 16, 16, 16, 16, 16, 16\\n  ]),\\n\\n  PREMULTIPLIER_MATRIX = new Uint8Array([\\n    32, 44, 42, 38, 32, 25, 17,  9,\\n    44, 62, 58, 52, 44, 35, 24, 12,\\n    42, 58, 55, 49, 42, 33, 23, 12,\\n    38, 52, 49, 44, 38, 30, 20, 10,\\n    32, 44, 42, 38, 32, 25, 17,  9,\\n    25, 35, 33, 30, 25, 20, 14,  7,\\n    17, 24, 23, 20, 17, 14,  9,  5,\\n     9, 12, 12, 10,  9,  7,  5,  2\\n  ]),\\n\\n  // MPEG-1 VLC\\n\\n  //  macroblock_stuffing decodes as 34.\\n  //  macroblock_escape decodes as 35.\\n\\n  MACROBLOCK_ADDRESS_INCREMENT = new Int16Array([\\n     1*3,  2*3,  0, //   0\\n     3*3,  4*3,  0, //   1  0\\n       0,    0,  1, //   2  1.\\n     5*3,  6*3,  0, //   3  00\\n     7*3,  8*3,  0, //   4  01\\n     9*3, 10*3,  0, //   5  000\\n    11*3, 12*3,  0, //   6  001\\n       0,    0,  3, //   7  010.\\n       0,    0,  2, //   8  011.\\n    13*3, 14*3,  0, //   9  0000\\n    15*3, 16*3,  0, //  10  0001\\n       0,    0,  5, //  11  0010.\\n       0,    0,  4, //  12  0011.\\n    17*3, 18*3,  0, //  13  0000 0\\n    19*3, 20*3,  0, //  14  0000 1\\n       0,    0,  7, //  15  0001 0.\\n       0,    0,  6, //  16  0001 1.\\n    21*3, 22*3,  0, //  17  0000 00\\n    23*3, 24*3,  0, //  18  0000 01\\n    25*3, 26*3,  0, //  19  0000 10\\n    27*3, 28*3,  0, //  20  0000 11\\n      -1, 29*3,  0, //  21  0000 000\\n      -1, 30*3,  0, //  22  0000 001\\n    31*3, 32*3,  0, //  23  0000 010\\n    33*3, 34*3,  0, //  24  0000 011\\n    35*3, 36*3,  0, //  25  0000 100\\n    37*3, 38*3,  0, //  26  0000 101\\n       0,    0,  9, //  27  0000 110.\\n       0,    0,  8, //  28  0000 111.\\n    39*3, 40*3,  0, //  29  0000 0001\\n    41*3, 42*3,  0, //  30  0000 0011\\n    43*3, 44*3,  0, //  31  0000 0100\\n    45*3, 46*3,  0, //  32  0000 0101\\n       0,    0, 15, //  33  0000 0110.\\n       0,    0, 14, //  34  0000 0111.\\n       0,    0, 13, //  35  0000 1000.\\n       0,    0, 12, //  36  0000 1001.\\n       0,    0, 11, //  37  0000 1010.\\n       0,    0, 10, //  38  0000 1011.\\n    47*3,   -1,  0, //  39  0000 0001 0\\n      -1, 48*3,  0, //  40  0000 0001 1\\n    49*3, 50*3,  0, //  41  0000 0011 0\\n    51*3, 52*3,  0, //  42  0000 0011 1\\n    53*3, 54*3,  0, //  43  0000 0100 0\\n    55*3, 56*3,  0, //  44  0000 0100 1\\n    57*3, 58*3,  0, //  45  0000 0101 0\\n    59*3, 60*3,  0, //  46  0000 0101 1\\n    61*3,   -1,  0, //  47  0000 0001 00\\n      -1, 62*3,  0, //  48  0000 0001 11\\n    63*3, 64*3,  0, //  49  0000 0011 00\\n    65*3, 66*3,  0, //  50  0000 0011 01\\n    67*3, 68*3,  0, //  51  0000 0011 10\\n    69*3, 70*3,  0, //  52  0000 0011 11\\n    71*3, 72*3,  0, //  53  0000 0100 00\\n    73*3, 74*3,  0, //  54  0000 0100 01\\n       0,    0, 21, //  55  0000 0100 10.\\n       0,    0, 20, //  56  0000 0100 11.\\n       0,    0, 19, //  57  0000 0101 00.\\n       0,    0, 18, //  58  0000 0101 01.\\n       0,    0, 17, //  59  0000 0101 10.\\n       0,    0, 16, //  60  0000 0101 11.\\n       0,    0, 35, //  61  0000 0001 000. -- macroblock_escape\\n       0,    0, 34, //  62  0000 0001 111. -- macroblock_stuffing\\n       0,    0, 33, //  63  0000 0011 000.\\n       0,    0, 32, //  64  0000 0011 001.\\n       0,    0, 31, //  65  0000 0011 010.\\n       0,    0, 30, //  66  0000 0011 011.\\n       0,    0, 29, //  67  0000 0011 100.\\n       0,    0, 28, //  68  0000 0011 101.\\n       0,    0, 27, //  69  0000 0011 110.\\n       0,    0, 26, //  70  0000 0011 111.\\n       0,    0, 25, //  71  0000 0100 000.\\n       0,    0, 24, //  72  0000 0100 001.\\n       0,    0, 23, //  73  0000 0100 010.\\n       0,    0, 22  //  74  0000 0100 011.\\n  ]),\\n\\n  //  macroblock_type bitmap:\\n  //    0x10  macroblock_quant\\n  //    0x08  macroblock_motion_forward\\n  //    0x04  macroblock_motion_backward\\n  //    0x02  macrobkock_pattern\\n  //    0x01  macroblock_intra\\n  //\\n\\n  MACROBLOCK_TYPE_I = new Int8Array([\\n     1*3,  2*3,     0, //   0\\n      -1,  3*3,     0, //   1  0\\n       0,    0,  0x01, //   2  1.\\n       0,    0,  0x11  //   3  01.\\n  ]),\\n\\n  MACROBLOCK_TYPE_P = new Int8Array([\\n     1*3,  2*3,     0, //  0\\n     3*3,  4*3,     0, //  1  0\\n       0,    0,  0x0a, //  2  1.\\n     5*3,  6*3,     0, //  3  00\\n       0,    0,  0x02, //  4  01.\\n     7*3,  8*3,     0, //  5  000\\n       0,    0,  0x08, //  6  001.\\n     9*3, 10*3,     0, //  7  0000\\n    11*3, 12*3,     0, //  8  0001\\n      -1, 13*3,     0, //  9  00000\\n       0,    0,  0x12, // 10  00001.\\n       0,    0,  0x1a, // 11  00010.\\n       0,    0,  0x01, // 12  00011.\\n       0,    0,  0x11  // 13  000001.\\n  ]),\\n\\n  MACROBLOCK_TYPE_B = new Int8Array([\\n     1*3,  2*3,     0,  //  0\\n     3*3,  5*3,     0,  //  1  0\\n     4*3,  6*3,     0,  //  2  1\\n     8*3,  7*3,     0,  //  3  00\\n       0,    0,  0x0c,  //  4  10.\\n     9*3, 10*3,     0,  //  5  01\\n       0,    0,  0x0e,  //  6  11.\\n    13*3, 14*3,     0,  //  7  001\\n    12*3, 11*3,     0,  //  8  000\\n       0,    0,  0x04,  //  9  010.\\n       0,    0,  0x06,  // 10  011.\\n    18*3, 16*3,     0,  // 11  0001\\n    15*3, 17*3,     0,  // 12  0000\\n       0,    0,  0x08,  // 13  0010.\\n       0,    0,  0x0a,  // 14  0011.\\n      -1, 19*3,     0,  // 15  00000\\n       0,    0,  0x01,  // 16  00011.\\n    20*3, 21*3,     0,  // 17  00001\\n       0,    0,  0x1e,  // 18  00010.\\n       0,    0,  0x11,  // 19  000001.\\n       0,    0,  0x16,  // 20  000010.\\n       0,    0,  0x1a   // 21  000011.\\n  ]),\\n\\n  CODE_BLOCK_PATTERN = new Int16Array([\\n      2*3,   1*3,   0,  //   0\\n      3*3,   6*3,   0,  //   1  1\\n      4*3,   5*3,   0,  //   2  0\\n      8*3,  11*3,   0,  //   3  10\\n     12*3,  13*3,   0,  //   4  00\\n      9*3,   7*3,   0,  //   5  01\\n     10*3,  14*3,   0,  //   6  11\\n     20*3,  19*3,   0,  //   7  011\\n     18*3,  16*3,   0,  //   8  100\\n     23*3,  17*3,   0,  //   9  010\\n     27*3,  25*3,   0,  //  10  110\\n     21*3,  28*3,   0,  //  11  101\\n     15*3,  22*3,   0,  //  12  000\\n     24*3,  26*3,   0,  //  13  001\\n        0,     0,  60,  //  14  111.\\n     35*3,  40*3,   0,  //  15  0000\\n     44*3,  48*3,   0,  //  16  1001\\n     38*3,  36*3,   0,  //  17  0101\\n     42*3,  47*3,   0,  //  18  1000\\n     29*3,  31*3,   0,  //  19  0111\\n     39*3,  32*3,   0,  //  20  0110\\n        0,     0,  32,  //  21  1010.\\n     45*3,  46*3,   0,  //  22  0001\\n     33*3,  41*3,   0,  //  23  0100\\n     43*3,  34*3,   0,  //  24  0010\\n        0,     0,   4,  //  25  1101.\\n     30*3,  37*3,   0,  //  26  0011\\n        0,     0,   8,  //  27  1100.\\n        0,     0,  16,  //  28  1011.\\n        0,     0,  44,  //  29  0111 0.\\n     50*3,  56*3,   0,  //  30  0011 0\\n        0,     0,  28,  //  31  0111 1.\\n        0,     0,  52,  //  32  0110 1.\\n        0,     0,  62,  //  33  0100 0.\\n     61*3,  59*3,   0,  //  34  0010 1\\n     52*3,  60*3,   0,  //  35  0000 0\\n        0,     0,   1,  //  36  0101 1.\\n     55*3,  54*3,   0,  //  37  0011 1\\n        0,     0,  61,  //  38  0101 0.\\n        0,     0,  56,  //  39  0110 0.\\n     57*3,  58*3,   0,  //  40  0000 1\\n        0,     0,   2,  //  41  0100 1.\\n        0,     0,  40,  //  42  1000 0.\\n     51*3,  62*3,   0,  //  43  0010 0\\n        0,     0,  48,  //  44  1001 0.\\n     64*3,  63*3,   0,  //  45  0001 0\\n     49*3,  53*3,   0,  //  46  0001 1\\n        0,     0,  20,  //  47  1000 1.\\n        0,     0,  12,  //  48  1001 1.\\n     80*3,  83*3,   0,  //  49  0001 10\\n        0,     0,  63,  //  50  0011 00.\\n     77*3,  75*3,   0,  //  51  0010 00\\n     65*3,  73*3,   0,  //  52  0000 00\\n     84*3,  66*3,   0,  //  53  0001 11\\n        0,     0,  24,  //  54  0011 11.\\n        0,     0,  36,  //  55  0011 10.\\n        0,     0,   3,  //  56  0011 01.\\n     69*3,  87*3,   0,  //  57  0000 10\\n     81*3,  79*3,   0,  //  58  0000 11\\n     68*3,  71*3,   0,  //  59  0010 11\\n     70*3,  78*3,   0,  //  60  0000 01\\n     67*3,  76*3,   0,  //  61  0010 10\\n     72*3,  74*3,   0,  //  62  0010 01\\n     86*3,  85*3,   0,  //  63  0001 01\\n     88*3,  82*3,   0,  //  64  0001 00\\n       -1,  94*3,   0,  //  65  0000 000\\n     95*3,  97*3,   0,  //  66  0001 111\\n        0,     0,  33,  //  67  0010 100.\\n        0,     0,   9,  //  68  0010 110.\\n    106*3, 110*3,   0,  //  69  0000 100\\n    102*3, 116*3,   0,  //  70  0000 010\\n        0,     0,   5,  //  71  0010 111.\\n        0,     0,  10,  //  72  0010 010.\\n     93*3,  89*3,   0,  //  73  0000 001\\n        0,     0,   6,  //  74  0010 011.\\n        0,     0,  18,  //  75  0010 001.\\n        0,     0,  17,  //  76  0010 101.\\n        0,     0,  34,  //  77  0010 000.\\n    113*3, 119*3,   0,  //  78  0000 011\\n    103*3, 104*3,   0,  //  79  0000 111\\n     90*3,  92*3,   0,  //  80  0001 100\\n    109*3, 107*3,   0,  //  81  0000 110\\n    117*3, 118*3,   0,  //  82  0001 001\\n    101*3,  99*3,   0,  //  83  0001 101\\n     98*3,  96*3,   0,  //  84  0001 110\\n    100*3,  91*3,   0,  //  85  0001 011\\n    114*3, 115*3,   0,  //  86  0001 010\\n    105*3, 108*3,   0,  //  87  0000 101\\n    112*3, 111*3,   0,  //  88  0001 000\\n    121*3, 125*3,   0,  //  89  0000 0011\\n        0,     0,  41,  //  90  0001 1000.\\n        0,     0,  14,  //  91  0001 0111.\\n        0,     0,  21,  //  92  0001 1001.\\n    124*3, 122*3,   0,  //  93  0000 0010\\n    120*3, 123*3,   0,  //  94  0000 0001\\n        0,     0,  11,  //  95  0001 1110.\\n        0,     0,  19,  //  96  0001 1101.\\n        0,     0,   7,  //  97  0001 1111.\\n        0,     0,  35,  //  98  0001 1100.\\n        0,     0,  13,  //  99  0001 1011.\\n        0,     0,  50,  // 100  0001 0110.\\n        0,     0,  49,  // 101  0001 1010.\\n        0,     0,  58,  // 102  0000 0100.\\n        0,     0,  37,  // 103  0000 1110.\\n        0,     0,  25,  // 104  0000 1111.\\n        0,     0,  45,  // 105  0000 1010.\\n        0,     0,  57,  // 106  0000 1000.\\n        0,     0,  26,  // 107  0000 1101.\\n        0,     0,  29,  // 108  0000 1011.\\n        0,     0,  38,  // 109  0000 1100.\\n        0,     0,  53,  // 110  0000 1001.\\n        0,     0,  23,  // 111  0001 0001.\\n        0,     0,  43,  // 112  0001 0000.\\n        0,     0,  46,  // 113  0000 0110.\\n        0,     0,  42,  // 114  0001 0100.\\n        0,     0,  22,  // 115  0001 0101.\\n        0,     0,  54,  // 116  0000 0101.\\n        0,     0,  51,  // 117  0001 0010.\\n        0,     0,  15,  // 118  0001 0011.\\n        0,     0,  30,  // 119  0000 0111.\\n        0,     0,  39,  // 120  0000 0001 0.\\n        0,     0,  47,  // 121  0000 0011 0.\\n        0,     0,  55,  // 122  0000 0010 1.\\n        0,     0,  27,  // 123  0000 0001 1.\\n        0,     0,  59,  // 124  0000 0010 0.\\n        0,     0,  31   // 125  0000 0011 1.\\n  ]),\\n\\n  MOTION = new Int16Array([\\n      1*3,   2*3,   0,  //   0\\n      4*3,   3*3,   0,  //   1  0\\n        0,     0,   0,  //   2  1.\\n      6*3,   5*3,   0,  //   3  01\\n      8*3,   7*3,   0,  //   4  00\\n        0,     0,  -1,  //   5  011.\\n        0,     0,   1,  //   6  010.\\n      9*3,  10*3,   0,  //   7  001\\n     12*3,  11*3,   0,  //   8  000\\n        0,     0,   2,  //   9  0010.\\n        0,     0,  -2,  //  10  0011.\\n     14*3,  15*3,   0,  //  11  0001\\n     16*3,  13*3,   0,  //  12  0000\\n     20*3,  18*3,   0,  //  13  0000 1\\n        0,     0,   3,  //  14  0001 0.\\n        0,     0,  -3,  //  15  0001 1.\\n     17*3,  19*3,   0,  //  16  0000 0\\n       -1,  23*3,   0,  //  17  0000 00\\n     27*3,  25*3,   0,  //  18  0000 11\\n     26*3,  21*3,   0,  //  19  0000 01\\n     24*3,  22*3,   0,  //  20  0000 10\\n     32*3,  28*3,   0,  //  21  0000 011\\n     29*3,  31*3,   0,  //  22  0000 101\\n       -1,  33*3,   0,  //  23  0000 001\\n     36*3,  35*3,   0,  //  24  0000 100\\n        0,     0,  -4,  //  25  0000 111.\\n     30*3,  34*3,   0,  //  26  0000 010\\n        0,     0,   4,  //  27  0000 110.\\n        0,     0,  -7,  //  28  0000 0111.\\n        0,     0,   5,  //  29  0000 1010.\\n     37*3,  41*3,   0,  //  30  0000 0100\\n        0,     0,  -5,  //  31  0000 1011.\\n        0,     0,   7,  //  32  0000 0110.\\n     38*3,  40*3,   0,  //  33  0000 0011\\n     42*3,  39*3,   0,  //  34  0000 0101\\n        0,     0,  -6,  //  35  0000 1001.\\n        0,     0,   6,  //  36  0000 1000.\\n     51*3,  54*3,   0,  //  37  0000 0100 0\\n     50*3,  49*3,   0,  //  38  0000 0011 0\\n     45*3,  46*3,   0,  //  39  0000 0101 1\\n     52*3,  47*3,   0,  //  40  0000 0011 1\\n     43*3,  53*3,   0,  //  41  0000 0100 1\\n     44*3,  48*3,   0,  //  42  0000 0101 0\\n        0,     0,  10,  //  43  0000 0100 10.\\n        0,     0,   9,  //  44  0000 0101 00.\\n        0,     0,   8,  //  45  0000 0101 10.\\n        0,     0,  -8,  //  46  0000 0101 11.\\n     57*3,  66*3,   0,  //  47  0000 0011 11\\n        0,     0,  -9,  //  48  0000 0101 01.\\n     60*3,  64*3,   0,  //  49  0000 0011 01\\n     56*3,  61*3,   0,  //  50  0000 0011 00\\n     55*3,  62*3,   0,  //  51  0000 0100 00\\n     58*3,  63*3,   0,  //  52  0000 0011 10\\n        0,     0, -10,  //  53  0000 0100 11.\\n     59*3,  65*3,   0,  //  54  0000 0100 01\\n        0,     0,  12,  //  55  0000 0100 000.\\n        0,     0,  16,  //  56  0000 0011 000.\\n        0,     0,  13,  //  57  0000 0011 110.\\n        0,     0,  14,  //  58  0000 0011 100.\\n        0,     0,  11,  //  59  0000 0100 010.\\n        0,     0,  15,  //  60  0000 0011 010.\\n        0,     0, -16,  //  61  0000 0011 001.\\n        0,     0, -12,  //  62  0000 0100 001.\\n        0,     0, -14,  //  63  0000 0011 101.\\n        0,     0, -15,  //  64  0000 0011 011.\\n        0,     0, -11,  //  65  0000 0100 011.\\n        0,     0, -13   //  66  0000 0011 111.\\n  ]),\\n\\n  DCT_DC_SIZE_LUMINANCE = new Int8Array([\\n      2*3,   1*3, 0,  //   0\\n      6*3,   5*3, 0,  //   1  1\\n      3*3,   4*3, 0,  //   2  0\\n        0,     0, 1,  //   3  00.\\n        0,     0, 2,  //   4  01.\\n      9*3,   8*3, 0,  //   5  11\\n      7*3,  10*3, 0,  //   6  10\\n        0,     0, 0,  //   7  100.\\n     12*3,  11*3, 0,  //   8  111\\n        0,     0, 4,  //   9  110.\\n        0,     0, 3,  //  10  101.\\n     13*3,  14*3, 0,  //  11  1111\\n        0,     0, 5,  //  12  1110.\\n        0,     0, 6,  //  13  1111 0.\\n     16*3,  15*3, 0,  //  14  1111 1\\n     17*3,    -1, 0,  //  15  1111 11\\n        0,     0, 7,  //  16  1111 10.\\n        0,     0, 8   //  17  1111 110.\\n  ]),\\n\\n  DCT_DC_SIZE_CHROMINANCE = new Int8Array([\\n      2*3,   1*3, 0,  //   0\\n      4*3,   3*3, 0,  //   1  1\\n      6*3,   5*3, 0,  //   2  0\\n      8*3,   7*3, 0,  //   3  11\\n        0,     0, 2,  //   4  10.\\n        0,     0, 1,  //   5  01.\\n        0,     0, 0,  //   6  00.\\n     10*3,   9*3, 0,  //   7  111\\n        0,     0, 3,  //   8  110.\\n     12*3,  11*3, 0,  //   9  1111\\n        0,     0, 4,  //  10  1110.\\n     14*3,  13*3, 0,  //  11  1111 1\\n        0,     0, 5,  //  12  1111 0.\\n     16*3,  15*3, 0,  //  13  1111 11\\n        0,     0, 6,  //  14  1111 10.\\n     17*3,    -1, 0,  //  15  1111 111\\n        0,     0, 7,  //  16  1111 110.\\n        0,     0, 8   //  17  1111 1110.\\n  ]),\\n\\n  //  dct_coeff bitmap:\\n  //    0xff00  run\\n  //    0x00ff  level\\n\\n  //  Decoded values are unsigned. Sign bit follows in the stream.\\n\\n  //  Interpretation of the value 0x0001\\n  //    for dc_coeff_first:  run=0, level=1\\n  //    for dc_coeff_next:   If the next bit is 1: run=0, level=1\\n  //                         If the next bit is 0: end_of_block\\n\\n  //  escape decodes as 0xffff.\\n\\n  DCT_COEFF = new Int32Array([\\n      1*3,   2*3,      0,  //   0\\n      4*3,   3*3,      0,  //   1  0\\n        0,     0, 0x0001,  //   2  1.\\n      7*3,   8*3,      0,  //   3  01\\n      6*3,   5*3,      0,  //   4  00\\n     13*3,   9*3,      0,  //   5  001\\n     11*3,  10*3,      0,  //   6  000\\n     14*3,  12*3,      0,  //   7  010\\n        0,     0, 0x0101,  //   8  011.\\n     20*3,  22*3,      0,  //   9  0011\\n     18*3,  21*3,      0,  //  10  0001\\n     16*3,  19*3,      0,  //  11  0000\\n        0,     0, 0x0201,  //  12  0101.\\n     17*3,  15*3,      0,  //  13  0010\\n        0,     0, 0x0002,  //  14  0100.\\n        0,     0, 0x0003,  //  15  0010 1.\\n     27*3,  25*3,      0,  //  16  0000 0\\n     29*3,  31*3,      0,  //  17  0010 0\\n     24*3,  26*3,      0,  //  18  0001 0\\n     32*3,  30*3,      0,  //  19  0000 1\\n        0,     0, 0x0401,  //  20  0011 0.\\n     23*3,  28*3,      0,  //  21  0001 1\\n        0,     0, 0x0301,  //  22  0011 1.\\n        0,     0, 0x0102,  //  23  0001 10.\\n        0,     0, 0x0701,  //  24  0001 00.\\n        0,     0, 0xffff,  //  25  0000 01. -- escape\\n        0,     0, 0x0601,  //  26  0001 01.\\n     37*3,  36*3,      0,  //  27  0000 00\\n        0,     0, 0x0501,  //  28  0001 11.\\n     35*3,  34*3,      0,  //  29  0010 00\\n     39*3,  38*3,      0,  //  30  0000 11\\n     33*3,  42*3,      0,  //  31  0010 01\\n     40*3,  41*3,      0,  //  32  0000 10\\n     52*3,  50*3,      0,  //  33  0010 010\\n     54*3,  53*3,      0,  //  34  0010 001\\n     48*3,  49*3,      0,  //  35  0010 000\\n     43*3,  45*3,      0,  //  36  0000 001\\n     46*3,  44*3,      0,  //  37  0000 000\\n        0,     0, 0x0801,  //  38  0000 111.\\n        0,     0, 0x0004,  //  39  0000 110.\\n        0,     0, 0x0202,  //  40  0000 100.\\n        0,     0, 0x0901,  //  41  0000 101.\\n     51*3,  47*3,      0,  //  42  0010 011\\n     55*3,  57*3,      0,  //  43  0000 0010\\n     60*3,  56*3,      0,  //  44  0000 0001\\n     59*3,  58*3,      0,  //  45  0000 0011\\n     61*3,  62*3,      0,  //  46  0000 0000\\n        0,     0, 0x0a01,  //  47  0010 0111.\\n        0,     0, 0x0d01,  //  48  0010 0000.\\n        0,     0, 0x0006,  //  49  0010 0001.\\n        0,     0, 0x0103,  //  50  0010 0101.\\n        0,     0, 0x0005,  //  51  0010 0110.\\n        0,     0, 0x0302,  //  52  0010 0100.\\n        0,     0, 0x0b01,  //  53  0010 0011.\\n        0,     0, 0x0c01,  //  54  0010 0010.\\n     76*3,  75*3,      0,  //  55  0000 0010 0\\n     67*3,  70*3,      0,  //  56  0000 0001 1\\n     73*3,  71*3,      0,  //  57  0000 0010 1\\n     78*3,  74*3,      0,  //  58  0000 0011 1\\n     72*3,  77*3,      0,  //  59  0000 0011 0\\n     69*3,  64*3,      0,  //  60  0000 0001 0\\n     68*3,  63*3,      0,  //  61  0000 0000 0\\n     66*3,  65*3,      0,  //  62  0000 0000 1\\n     81*3,  87*3,      0,  //  63  0000 0000 01\\n     91*3,  80*3,      0,  //  64  0000 0001 01\\n     82*3,  79*3,      0,  //  65  0000 0000 11\\n     83*3,  86*3,      0,  //  66  0000 0000 10\\n     93*3,  92*3,      0,  //  67  0000 0001 10\\n     84*3,  85*3,      0,  //  68  0000 0000 00\\n     90*3,  94*3,      0,  //  69  0000 0001 00\\n     88*3,  89*3,      0,  //  70  0000 0001 11\\n        0,     0, 0x0203,  //  71  0000 0010 11.\\n        0,     0, 0x0104,  //  72  0000 0011 00.\\n        0,     0, 0x0007,  //  73  0000 0010 10.\\n        0,     0, 0x0402,  //  74  0000 0011 11.\\n        0,     0, 0x0502,  //  75  0000 0010 01.\\n        0,     0, 0x1001,  //  76  0000 0010 00.\\n        0,     0, 0x0f01,  //  77  0000 0011 01.\\n        0,     0, 0x0e01,  //  78  0000 0011 10.\\n    105*3, 107*3,      0,  //  79  0000 0000 111\\n    111*3, 114*3,      0,  //  80  0000 0001 011\\n    104*3,  97*3,      0,  //  81  0000 0000 010\\n    125*3, 119*3,      0,  //  82  0000 0000 110\\n     96*3,  98*3,      0,  //  83  0000 0000 100\\n       -1, 123*3,      0,  //  84  0000 0000 000\\n     95*3, 101*3,      0,  //  85  0000 0000 001\\n    106*3, 121*3,      0,  //  86  0000 0000 101\\n     99*3, 102*3,      0,  //  87  0000 0000 011\\n    113*3, 103*3,      0,  //  88  0000 0001 110\\n    112*3, 116*3,      0,  //  89  0000 0001 111\\n    110*3, 100*3,      0,  //  90  0000 0001 000\\n    124*3, 115*3,      0,  //  91  0000 0001 010\\n    117*3, 122*3,      0,  //  92  0000 0001 101\\n    109*3, 118*3,      0,  //  93  0000 0001 100\\n    120*3, 108*3,      0,  //  94  0000 0001 001\\n    127*3, 136*3,      0,  //  95  0000 0000 0010\\n    139*3, 140*3,      0,  //  96  0000 0000 1000\\n    130*3, 126*3,      0,  //  97  0000 0000 0101\\n    145*3, 146*3,      0,  //  98  0000 0000 1001\\n    128*3, 129*3,      0,  //  99  0000 0000 0110\\n        0,     0, 0x0802,  // 100  0000 0001 0001.\\n    132*3, 134*3,      0,  // 101  0000 0000 0011\\n    155*3, 154*3,      0,  // 102  0000 0000 0111\\n        0,     0, 0x0008,  // 103  0000 0001 1101.\\n    137*3, 133*3,      0,  // 104  0000 0000 0100\\n    143*3, 144*3,      0,  // 105  0000 0000 1110\\n    151*3, 138*3,      0,  // 106  0000 0000 1010\\n    142*3, 141*3,      0,  // 107  0000 0000 1111\\n        0,     0, 0x000a,  // 108  0000 0001 0011.\\n        0,     0, 0x0009,  // 109  0000 0001 1000.\\n        0,     0, 0x000b,  // 110  0000 0001 0000.\\n        0,     0, 0x1501,  // 111  0000 0001 0110.\\n        0,     0, 0x0602,  // 112  0000 0001 1110.\\n        0,     0, 0x0303,  // 113  0000 0001 1100.\\n        0,     0, 0x1401,  // 114  0000 0001 0111.\\n        0,     0, 0x0702,  // 115  0000 0001 0101.\\n        0,     0, 0x1101,  // 116  0000 0001 1111.\\n        0,     0, 0x1201,  // 117  0000 0001 1010.\\n        0,     0, 0x1301,  // 118  0000 0001 1001.\\n    148*3, 152*3,      0,  // 119  0000 0000 1101\\n        0,     0, 0x0403,  // 120  0000 0001 0010.\\n    153*3, 150*3,      0,  // 121  0000 0000 1011\\n        0,     0, 0x0105,  // 122  0000 0001 1011.\\n    131*3, 135*3,      0,  // 123  0000 0000 0001\\n        0,     0, 0x0204,  // 124  0000 0001 0100.\\n    149*3, 147*3,      0,  // 125  0000 0000 1100\\n    172*3, 173*3,      0,  // 126  0000 0000 0101 1\\n    162*3, 158*3,      0,  // 127  0000 0000 0010 0\\n    170*3, 161*3,      0,  // 128  0000 0000 0110 0\\n    168*3, 166*3,      0,  // 129  0000 0000 0110 1\\n    157*3, 179*3,      0,  // 130  0000 0000 0101 0\\n    169*3, 167*3,      0,  // 131  0000 0000 0001 0\\n    174*3, 171*3,      0,  // 132  0000 0000 0011 0\\n    178*3, 177*3,      0,  // 133  0000 0000 0100 1\\n    156*3, 159*3,      0,  // 134  0000 0000 0011 1\\n    164*3, 165*3,      0,  // 135  0000 0000 0001 1\\n    183*3, 182*3,      0,  // 136  0000 0000 0010 1\\n    175*3, 176*3,      0,  // 137  0000 0000 0100 0\\n        0,     0, 0x0107,  // 138  0000 0000 1010 1.\\n        0,     0, 0x0a02,  // 139  0000 0000 1000 0.\\n        0,     0, 0x0902,  // 140  0000 0000 1000 1.\\n        0,     0, 0x1601,  // 141  0000 0000 1111 1.\\n        0,     0, 0x1701,  // 142  0000 0000 1111 0.\\n        0,     0, 0x1901,  // 143  0000 0000 1110 0.\\n        0,     0, 0x1801,  // 144  0000 0000 1110 1.\\n        0,     0, 0x0503,  // 145  0000 0000 1001 0.\\n        0,     0, 0x0304,  // 146  0000 0000 1001 1.\\n        0,     0, 0x000d,  // 147  0000 0000 1100 1.\\n        0,     0, 0x000c,  // 148  0000 0000 1101 0.\\n        0,     0, 0x000e,  // 149  0000 0000 1100 0.\\n        0,     0, 0x000f,  // 150  0000 0000 1011 1.\\n        0,     0, 0x0205,  // 151  0000 0000 1010 0.\\n        0,     0, 0x1a01,  // 152  0000 0000 1101 1.\\n        0,     0, 0x0106,  // 153  0000 0000 1011 0.\\n    180*3, 181*3,      0,  // 154  0000 0000 0111 1\\n    160*3, 163*3,      0,  // 155  0000 0000 0111 0\\n    196*3, 199*3,      0,  // 156  0000 0000 0011 10\\n        0,     0, 0x001b,  // 157  0000 0000 0101 00.\\n    203*3, 185*3,      0,  // 158  0000 0000 0010 01\\n    202*3, 201*3,      0,  // 159  0000 0000 0011 11\\n        0,     0, 0x0013,  // 160  0000 0000 0111 00.\\n        0,     0, 0x0016,  // 161  0000 0000 0110 01.\\n    197*3, 207*3,      0,  // 162  0000 0000 0010 00\\n        0,     0, 0x0012,  // 163  0000 0000 0111 01.\\n    191*3, 192*3,      0,  // 164  0000 0000 0001 10\\n    188*3, 190*3,      0,  // 165  0000 0000 0001 11\\n        0,     0, 0x0014,  // 166  0000 0000 0110 11.\\n    184*3, 194*3,      0,  // 167  0000 0000 0001 01\\n        0,     0, 0x0015,  // 168  0000 0000 0110 10.\\n    186*3, 193*3,      0,  // 169  0000 0000 0001 00\\n        0,     0, 0x0017,  // 170  0000 0000 0110 00.\\n    204*3, 198*3,      0,  // 171  0000 0000 0011 01\\n        0,     0, 0x0019,  // 172  0000 0000 0101 10.\\n        0,     0, 0x0018,  // 173  0000 0000 0101 11.\\n    200*3, 205*3,      0,  // 174  0000 0000 0011 00\\n        0,     0, 0x001f,  // 175  0000 0000 0100 00.\\n        0,     0, 0x001e,  // 176  0000 0000 0100 01.\\n        0,     0, 0x001c,  // 177  0000 0000 0100 11.\\n        0,     0, 0x001d,  // 178  0000 0000 0100 10.\\n        0,     0, 0x001a,  // 179  0000 0000 0101 01.\\n        0,     0, 0x0011,  // 180  0000 0000 0111 10.\\n        0,     0, 0x0010,  // 181  0000 0000 0111 11.\\n    189*3, 206*3,      0,  // 182  0000 0000 0010 11\\n    187*3, 195*3,      0,  // 183  0000 0000 0010 10\\n    218*3, 211*3,      0,  // 184  0000 0000 0001 010\\n        0,     0, 0x0025,  // 185  0000 0000 0010 011.\\n    215*3, 216*3,      0,  // 186  0000 0000 0001 000\\n        0,     0, 0x0024,  // 187  0000 0000 0010 100.\\n    210*3, 212*3,      0,  // 188  0000 0000 0001 110\\n        0,     0, 0x0022,  // 189  0000 0000 0010 110.\\n    213*3, 209*3,      0,  // 190  0000 0000 0001 111\\n    221*3, 222*3,      0,  // 191  0000 0000 0001 100\\n    219*3, 208*3,      0,  // 192  0000 0000 0001 101\\n    217*3, 214*3,      0,  // 193  0000 0000 0001 001\\n    223*3, 220*3,      0,  // 194  0000 0000 0001 011\\n        0,     0, 0x0023,  // 195  0000 0000 0010 101.\\n        0,     0, 0x010b,  // 196  0000 0000 0011 100.\\n        0,     0, 0x0028,  // 197  0000 0000 0010 000.\\n        0,     0, 0x010c,  // 198  0000 0000 0011 011.\\n        0,     0, 0x010a,  // 199  0000 0000 0011 101.\\n        0,     0, 0x0020,  // 200  0000 0000 0011 000.\\n        0,     0, 0x0108,  // 201  0000 0000 0011 111.\\n        0,     0, 0x0109,  // 202  0000 0000 0011 110.\\n        0,     0, 0x0026,  // 203  0000 0000 0010 010.\\n        0,     0, 0x010d,  // 204  0000 0000 0011 010.\\n        0,     0, 0x010e,  // 205  0000 0000 0011 001.\\n        0,     0, 0x0021,  // 206  0000 0000 0010 111.\\n        0,     0, 0x0027,  // 207  0000 0000 0010 001.\\n        0,     0, 0x1f01,  // 208  0000 0000 0001 1011.\\n        0,     0, 0x1b01,  // 209  0000 0000 0001 1111.\\n        0,     0, 0x1e01,  // 210  0000 0000 0001 1100.\\n        0,     0, 0x1002,  // 211  0000 0000 0001 0101.\\n        0,     0, 0x1d01,  // 212  0000 0000 0001 1101.\\n        0,     0, 0x1c01,  // 213  0000 0000 0001 1110.\\n        0,     0, 0x010f,  // 214  0000 0000 0001 0011.\\n        0,     0, 0x0112,  // 215  0000 0000 0001 0000.\\n        0,     0, 0x0111,  // 216  0000 0000 0001 0001.\\n        0,     0, 0x0110,  // 217  0000 0000 0001 0010.\\n        0,     0, 0x0603,  // 218  0000 0000 0001 0100.\\n        0,     0, 0x0b02,  // 219  0000 0000 0001 1010.\\n        0,     0, 0x0e02,  // 220  0000 0000 0001 0111.\\n        0,     0, 0x0d02,  // 221  0000 0000 0001 1000.\\n        0,     0, 0x0c02,  // 222  0000 0000 0001 1001.\\n        0,     0, 0x0f02   // 223  0000 0000 0001 0110.\\n  ]),\\n\\n  PICTURE_TYPE_I = 1,\\n  PICTURE_TYPE_P = 2,\\n  PICTURE_TYPE_B = 3,\\n  PICTURE_TYPE_D = 4,\\n\\n  START_SEQUENCE = 0xB3,\\n  START_SLICE_FIRST = 0x01,\\n  START_SLICE_LAST = 0xAF,\\n  START_PICTURE = 0x00,\\n  START_EXTENSION = 0xB5,\\n  START_USER_DATA = 0xB2,\\n\\n  // Shaders for accelerated WebGL YCbCrToRGBA conversion\\n  SHADER_FRAGMENT_YCBCRTORGBA = [\\n    'precision mediump float;',\\n    'uniform sampler2D YTexture;',\\n    'uniform sampler2D CBTexture;',\\n    'uniform sampler2D CRTexture;',\\n    'varying vec2 texCoord;',\\n\\n    'void main() {',\\n      'float y = texture2D(YTexture, texCoord).r;',\\n      'float cr = texture2D(CBTexture, texCoord).r - 0.5;',\\n      'float cb = texture2D(CRTexture, texCoord).r - 0.5;',\\n\\n      'gl_FragColor = vec4(',\\n        'y + 1.4 * cr,',\\n        'y + -0.343 * cb - 0.711 * cr,',\\n        'y + 1.765 * cb,',\\n        '1.0',\\n      ');',\\n    '}'\\n  ].join('\\\\n'),\\n\\n  SHADER_FRAGMENT_LOADING = [\\n    'precision mediump float;',\\n    'uniform float loaded;',\\n    'varying vec2 texCoord;',\\n\\n    'void main() {',\\n      'float c = ceil(loaded-(1.0-texCoord.y));',\\n      //'float c = ceil(loaded-(1.0-texCoord.y) +sin((texCoord.x+loaded)*16.0)*0.01);', // Fancy wave anim\\n      'gl_FragColor = vec4(c,c,c,1);',\\n    '}'\\n  ].join('\\\\n'),\\n\\n  SHADER_VERTEX_IDENTITY = [\\n    'attribute vec2 vertex;',\\n    'varying vec2 texCoord;',\\n\\n    'void main() {',\\n      'texCoord = vertex;',\\n      'gl_Position = vec4((vertex * 2.0 - 1.0) * vec2(1, -1), 0.0, 1.0);',\\n    '}'\\n  ].join('\\\\n');\\n\\nvar MACROBLOCK_TYPE_TABLES = [\\n  null,\\n  MACROBLOCK_TYPE_I,\\n  MACROBLOCK_TYPE_P,\\n  MACROBLOCK_TYPE_B\\n];\\n\\n\\n\\n// ----------------------------------------------------------------------------\\n// Bit Reader\\n\\nvar BitReader = function(arrayBuffer) {\\n  this.bytes = new Uint8Array(arrayBuffer);\\n  this.length = this.bytes.length;\\n  this.writePos = this.bytes.length;\\n  this.index = 0;\\n};\\n\\nBitReader.NOT_FOUND = -1;\\n\\nBitReader.prototype.findNextMPEGStartCode = function() {\\n  for( var i = (this.index+7 >> 3); i < this.writePos; i++ ) {\\n    if(\\n      this.bytes[i] == 0x00 &&\\n      this.bytes[i+1] == 0x00 &&\\n      this.bytes[i+2] == 0x01\\n    ) {\\n      this.index = (i+4) << 3;\\n      return this.bytes[i+3];\\n    }\\n  }\\n  this.index = (this.writePos << 3);\\n  return BitReader.NOT_FOUND;\\n};\\n\\nBitReader.prototype.nextBytesAreStartCode = function() {\\n  var i = (this.index+7 >> 3);\\n  return (\\n    i >= this.writePos || (\\n      this.bytes[i] == 0x00 &&\\n      this.bytes[i+1] == 0x00 &&\\n      this.bytes[i+2] == 0x01\\n    )\\n  );\\n};\\n\\nBitReader.prototype.nextBits = function(count) {\\n  var\\n    byteOffset = this.index >> 3,\\n    room = (8 - this.index % 8);\\n\\n  if( room >= count ) {\\n    return (this.bytes[byteOffset] >> (room - count)) & (0xff >> (8-count));\\n  }\\n\\n  var\\n    leftover = (this.index + count) % 8, // Leftover bits in last byte\\n    end = (this.index + count -1) >> 3,\\n    value = this.bytes[byteOffset] & (0xff >> (8-room)); // Fill out first byte\\n\\n  for( byteOffset++; byteOffset < end; byteOffset++ ) {\\n    value <<= 8; // Shift and\\n    value |= this.bytes[byteOffset]; // Put next byte\\n  }\\n\\n  if (leftover > 0) {\\n    value <<= leftover; // Make room for remaining bits\\n    value |= (this.bytes[byteOffset] >> (8 - leftover));\\n  }\\n  else {\\n    value <<= 8;\\n    value |= this.bytes[byteOffset];\\n  }\\n\\n  return value;\\n};\\n\\nBitReader.prototype.getBits = function(count) {\\n  var value = this.nextBits(count);\\n  this.index += count;\\n  return value;\\n};\\n\\nBitReader.prototype.advance = function(count) {\\n  return (this.index += count);\\n};\\n\\nBitReader.prototype.rewind = function(count) {\\n  return (this.index -= count);\\n};\\n\\nvar exports = module.exports = jsmpeg\\n\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanNtcGVnL2pzbXBnLmpzPzk1YmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTs7QUFFQTtBQUNBLCtDQUErQzs7QUFFL0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSx3QkFBd0IsOEJBQThCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCLFFBQVE7O0FBRW5DO0FBQ0E7QUFDQSxvREFBb0QsUUFBUTs7QUFFNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkNBQTJDLG1CQUFtQjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsMkRBQTJEOztBQUU1RTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0EsNkJBQTZCLDRDQUE0QztBQUN6RTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQix1RUFBdUU7QUFDeEY7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxtQkFBbUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0IsUUFBUTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9DQUFvQyxZQUFZO0FBQ2hEO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQixRQUFROztBQUU5QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCOztBQUVsQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsc0VBQXNFO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSx1Q0FBdUM7O0FBRXZDOztBQUVBLGdDQUFnQztBQUNoQyxtQkFBbUIsUUFBUTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQ0FBZ0M7QUFDaEMsbUJBQW1CLFFBQVE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4QkFBOEIsUUFBUTtBQUN0Qzs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEI7QUFDMUI7QUFDQSwwQkFBMEI7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0NBQWtDO0FBQ2xDOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSxtQkFBbUIsWUFBWTtBQUMvQixxQkFBcUIsWUFBWTtBQUNqQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0NBQWtDLFdBQVc7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDLHVCQUF1QixPQUFPO0FBQzlCLHVDQUF1QztBQUN2Qzs7QUFFQSx1Q0FBdUM7QUFDdkM7O0FBRUEsdUNBQXVDO0FBQ3ZDOztBQUVBLHVDQUF1QztBQUN2Qzs7QUFFQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsT0FBTztBQUM5QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLE9BQU87QUFDOUIsNERBQTREO0FBQzVELCtEQUErRDtBQUMvRCxrRUFBa0U7QUFDbEUsb0VBQW9FOztBQUVwRTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLE9BQU87QUFDOUIsc0JBQXNCO0FBQ3RCLDRCQUE0QjtBQUM1Qiw2QkFBNkI7QUFDN0IsNkJBQTZCOztBQUU3QjtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLE9BQU87QUFDOUI7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTs7QUFFQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBOztBQUVBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7O0FBRUE7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixPQUFPO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixPQUFPO0FBQzlCO0FBQ0EsK0RBQStEOztBQUUvRDtBQUNBLGtFQUFrRTs7QUFFbEU7QUFDQSxxRUFBcUU7O0FBRXJFO0FBQ0EsdUVBQXVFOztBQUV2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixPQUFPO0FBQzlCO0FBQ0Esd0JBQXdCOztBQUV4QjtBQUNBLDhCQUE4Qjs7QUFFOUI7QUFDQSwrQkFBK0I7O0FBRS9CO0FBQ0EsK0JBQStCOztBQUUvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEIsbUJBQW1CLE9BQU87QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QixtQkFBbUIsT0FBTztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IsZ0NBQWdDO0FBQ2hDLGlDQUFpQztBQUNqQyxpQ0FBaUM7QUFDakMsMkJBQTJCOztBQUUzQixrQkFBa0I7QUFDbEIsaURBQWlEO0FBQ2pELHlEQUF5RDtBQUN6RCx5REFBeUQ7O0FBRXpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsTUFBTTtBQUNOOztBQUVBO0FBQ0EsNkJBQTZCO0FBQzdCLDBCQUEwQjtBQUMxQiwyQkFBMkI7O0FBRTNCLGtCQUFrQjtBQUNsQiwrQ0FBK0M7QUFDL0MscUZBQXFGO0FBQ3JGLG9DQUFvQztBQUNwQyxNQUFNO0FBQ047O0FBRUE7QUFDQSwyQkFBMkI7QUFDM0IsMkJBQTJCOztBQUUzQixrQkFBa0I7QUFDbEIseUJBQXlCO0FBQ3pCLHdFQUF3RTtBQUN4RSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxtQ0FBbUMsbUJBQW1CO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEOztBQUV4RCxvQkFBb0Isa0JBQWtCO0FBQ3RDLGdCQUFnQjtBQUNoQixvQ0FBb0M7QUFDcEM7O0FBRUE7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjExLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5cbi8vIGpzbXBlZyBieSBEb21pbmljIFN6YWJsZXdza2kgLSBwaG9ib3NsYWIub3JnLCBnaXRodWIuY29tL3Bob2Jvc2xhYlxuLy9cbi8vIENvbnNpZGVyIHRoaXMgdG8gYmUgdW5kZXIgTUlUIGxpY2Vuc2UuIEl0J3MgbGFyZ2VseSBiYXNlZCBhbiBhbiBPcGVuIFNvdXJjZVxuLy8gRGVjb2RlciBmb3IgSmF2YSB1bmRlciBHUEwsIHdoaWxlIEkgbG9va2VkIGF0IGFub3RoZXIgRGVjb2RlciBmcm9tIE5va2lhXG4vLyAodW5kZXIgbm8gcGFydGljdWxhciBsaWNlbnNlPykgZm9yIGNlcnRhaW4gYXNwZWN0cy5cbi8vIEknbSBub3Qgc3VyZSBpZiB0aGlzIHdvcmsgaXMgXCJkZXJpdmF0aXZlXCIgZW5vdWdoIHRvIGhhdmUgYSBkaWZmZXJlbnQgbGljZW5zZVxuLy8gYnV0IHRoZW4gYWdhaW4sIHdobyBzdGlsbCBjYXJlcyBhYm91dCBNUEVHMT9cbi8vXG4vLyBCYXNlZCBvbiBcIkphdmEgTVBFRy0xIFZpZGVvIERlY29kZXIgYW5kIFBsYXllclwiIGJ5IEtvcmFuZGkgWm9sdGFuOlxuLy8gaHR0cDovL3NvdXJjZWZvcmdlLm5ldC9wcm9qZWN0cy9qYXZhbXBlZzF2aWRlby9cbi8vXG4vLyBJbnNwaXJlZCBieSBcIk1QRUcgRGVjb2RlciBpbiBKYXZhIE1FXCIgYnkgTm9raWE6XG4vLyBodHRwOi8vd3d3LmRldmVsb3Blci5ub2tpYS5jb20vQ29tbXVuaXR5L1dpa2kvTVBFR19kZWNvZGVyX2luX0phdmFfTUVcblxuXG52YXIgcmVxdWVzdEFuaW1GcmFtZSA9IChmdW5jdGlvbigpe1xuICByZXR1cm4gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgZnVuY3Rpb24oIGNhbGxiYWNrICl7XG4gICAgICB3aW5kb3cuc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKTtcbiAgICB9O1xufSkoKTtcblxudmFyIGpzbXBlZyA9IHdpbmRvdy5qc21wZWcgPSBmdW5jdGlvbiggdXJsLCBvcHRzICkge1xuICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgdGhpcy5iZW5jaG1hcmsgPSAhIW9wdHMuYmVuY2htYXJrO1xuICB0aGlzLmNhbnZhcyA9IG9wdHMuY2FudmFzIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICB0aGlzLmF1dG9wbGF5ID0gISFvcHRzLmF1dG9wbGF5O1xuICB0aGlzLmxvb3AgPSAhIW9wdHMubG9vcDtcbiAgdGhpcy5zZWVrYWJsZSA9ICEhb3B0cy5zZWVrYWJsZTtcbiAgdGhpcy5leHRlcm5hbExvYWRDYWxsYmFjayA9IG9wdHMub25sb2FkIHx8IG51bGw7XG4gIHRoaXMuZXh0ZXJuYWxEZWNvZGVDYWxsYmFjayA9IG9wdHMub25kZWNvZGVmcmFtZSB8fCBudWxsO1xuICB0aGlzLmV4dGVybmFsRmluaXNoZWRDYWxsYmFjayA9IG9wdHMub25maW5pc2hlZCB8fCBudWxsO1xuXG4gIHRoaXMuY3VzdG9tSW50cmFRdWFudE1hdHJpeCA9IG5ldyBVaW50OEFycmF5KDY0KTtcbiAgdGhpcy5jdXN0b21Ob25JbnRyYVF1YW50TWF0cml4ID0gbmV3IFVpbnQ4QXJyYXkoNjQpO1xuICB0aGlzLmJsb2NrRGF0YSA9IG5ldyBJbnQzMkFycmF5KDY0KTtcbiAgdGhpcy56ZXJvQmxvY2tEYXRhID0gbmV3IEludDMyQXJyYXkoNjQpO1xuICB0aGlzLmZpbGxBcnJheSh0aGlzLnplcm9CbG9ja0RhdGEsIDApO1xuXG4gIC8vIHVzZSBXZWJHTCBmb3IgWUNiQ3JUb1JHQkEgY29udmVyc2lvbiBpZiBwb3NzaWJsZSAobXVjaCBmYXN0ZXIpXG4gIGlmKCAhb3B0cy5mb3JjZUNhbnZhczJEICYmIHRoaXMuaW5pdFdlYkdMKCkgKSB7XG4gICAgdGhpcy5yZW5kZXJGcmFtZSA9IHRoaXMucmVuZGVyRnJhbWVHTDtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmNhbnZhc0NvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIHRoaXMucmVuZGVyRnJhbWUgPSB0aGlzLnJlbmRlckZyYW1lMkQ7XG4gIH1cblxuICBpZiggdXJsIGluc3RhbmNlb2YgV2ViU29ja2V0ICkge1xuICAgIHRoaXMuY2xpZW50ID0gdXJsO1xuICAgIHRoaXMuY2xpZW50Lm9ub3BlbiA9IHRoaXMuaW5pdFNvY2tldENsaWVudC5iaW5kKHRoaXMpO1xuICB9XG4gIGVsc2Uge1xuICAgIHRoaXMubG9hZCh1cmwpO1xuICB9XG59O1xuXG5cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RyZWFtaW5nIG92ZXIgV2ViU29ja2V0c1xuXG5qc21wZWcucHJvdG90eXBlLndhaXRGb3JJbnRyYUZyYW1lID0gdHJ1ZTtcbmpzbXBlZy5wcm90b3R5cGUuc29ja2V0QnVmZmVyU2l6ZSA9IDUxMiAqIDEwMjQ7IC8vIDUxMmtiIGVhY2hcblxuanNtcGVnLnByb3RvdHlwZS5pbml0U29ja2V0Q2xpZW50ID0gZnVuY3Rpb24oIGNsaWVudCApIHtcbiAgdGhpcy5idWZmZXIgPSBuZXcgQml0UmVhZGVyKG5ldyBBcnJheUJ1ZmZlcih0aGlzLnNvY2tldEJ1ZmZlclNpemUpKTtcblxuICB0aGlzLm5leHRQaWN0dXJlQnVmZmVyID0gbmV3IEJpdFJlYWRlcihuZXcgQXJyYXlCdWZmZXIodGhpcy5zb2NrZXRCdWZmZXJTaXplKSk7XG4gIHRoaXMubmV4dFBpY3R1cmVCdWZmZXIud3JpdGVQb3MgPSAwO1xuICB0aGlzLm5leHRQaWN0dXJlQnVmZmVyLmNodW5rQmVnaW4gPSAwO1xuICB0aGlzLm5leHRQaWN0dXJlQnVmZmVyLmxhc3RXcml0ZUJlZm9yZVdyYXAgPSAwO1xuXG4gIHRoaXMuY2xpZW50LmJpbmFyeVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICB0aGlzLmNsaWVudC5vbm1lc3NhZ2UgPSB0aGlzLnJlY2VpdmVTb2NrZXRNZXNzYWdlLmJpbmQodGhpcyk7XG59O1xuXG5qc21wZWcucHJvdG90eXBlLmRlY29kZVNvY2tldEhlYWRlciA9IGZ1bmN0aW9uKCBkYXRhICkge1xuICAvLyBDdXN0b20gaGVhZGVyIHNlbnQgdG8gYWxsIG5ld2x5IGNvbm5lY3RlZCBjbGllbnRzIHdoZW4gc3RyZWFtaW5nXG4gIC8vIG92ZXIgd2Vic29ja2V0czpcbiAgLy8gc3RydWN0IHsgY2hhciBtYWdpY1s0XSA9IFwianNtcFwiOyB1bnNpZ25lZCBzaG9ydCB3aWR0aCwgaGVpZ2h0OyB9O1xuICBpZihcbiAgICBkYXRhWzBdID09IFNPQ0tFVF9NQUdJQ19CWVRFUy5jaGFyQ29kZUF0KDApICYmXG4gICAgZGF0YVsxXSA9PSBTT0NLRVRfTUFHSUNfQllURVMuY2hhckNvZGVBdCgxKSAmJlxuICAgIGRhdGFbMl0gPT0gU09DS0VUX01BR0lDX0JZVEVTLmNoYXJDb2RlQXQoMikgJiZcbiAgICBkYXRhWzNdID09IFNPQ0tFVF9NQUdJQ19CWVRFUy5jaGFyQ29kZUF0KDMpXG4gICkge1xuICAgIHRoaXMud2lkdGggPSAoZGF0YVs0XSAqIDI1NiArIGRhdGFbNV0pO1xuICAgIHRoaXMuaGVpZ2h0ID0gKGRhdGFbNl0gKiAyNTYgKyBkYXRhWzddKTtcbiAgICB0aGlzLmluaXRCdWZmZXJzKCk7XG4gIH1cbn07XG5cbmpzbXBlZy5wcm90b3R5cGUucmVjZWl2ZVNvY2tldE1lc3NhZ2UgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHZhciBtZXNzYWdlRGF0YSA9IG5ldyBVaW50OEFycmF5KGV2ZW50LmRhdGEpO1xuXG4gIGlmKCAhdGhpcy5zZXF1ZW5jZVN0YXJ0ZWQgKSB7XG4gICAgdGhpcy5kZWNvZGVTb2NrZXRIZWFkZXIobWVzc2FnZURhdGEpO1xuICB9XG5cbiAgdmFyIGN1cnJlbnQgPSB0aGlzLmJ1ZmZlcjtcbiAgdmFyIG5leHQgPSB0aGlzLm5leHRQaWN0dXJlQnVmZmVyO1xuXG4gIGlmKCBuZXh0LndyaXRlUG9zICsgbWVzc2FnZURhdGEubGVuZ3RoID4gbmV4dC5sZW5ndGggKSB7XG4gICAgbmV4dC5sYXN0V3JpdGVCZWZvcmVXcmFwID0gbmV4dC53cml0ZVBvcztcbiAgICBuZXh0LndyaXRlUG9zID0gMDtcbiAgICBuZXh0LmluZGV4ID0gMDtcbiAgfVxuXG4gIG5leHQuYnl0ZXMuc2V0KCBtZXNzYWdlRGF0YSwgbmV4dC53cml0ZVBvcyApO1xuICBuZXh0LndyaXRlUG9zICs9IG1lc3NhZ2VEYXRhLmxlbmd0aDtcblxuICB2YXIgc3RhcnRDb2RlID0gMDtcbiAgd2hpbGUoIHRydWUgKSB7XG4gICAgc3RhcnRDb2RlID0gbmV4dC5maW5kTmV4dE1QRUdTdGFydENvZGUoKTtcbiAgICBpZihcbiAgICAgIHN0YXJ0Q29kZSA9PSBCaXRSZWFkZXIuTk9UX0ZPVU5EIHx8XG4gICAgICAoKG5leHQuaW5kZXggPj4gMykgPiBuZXh0LndyaXRlUG9zKVxuICAgICkge1xuICAgICAgLy8gV2UgcmVhY2hlZCB0aGUgZW5kIHdpdGggbm8gcGljdHVyZSBmb3VuZCB5ZXQ7IG1vdmUgYmFjayBhIGZldyBieXRlc1xuICAgICAgLy8gaW4gY2FzZSB3ZSBhcmUgYXQgdGhlIGJlZ2lubmluZyBvZiBhIHN0YXJ0IGNvZGUgYW5kIGV4aXQuXG4gICAgICBuZXh0LmluZGV4ID0gTWF0aC5tYXgoKG5leHQud3JpdGVQb3MtMyksIDApIDw8IDM7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVsc2UgaWYoIHN0YXJ0Q29kZSA9PSBTVEFSVF9QSUNUVVJFICkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgd2UgYXJlIHN0aWxsIGhlcmUsIHdlIGZvdW5kIHRoZSBuZXh0IHBpY3R1cmUgc3RhcnQgY29kZSFcblxuXG4gIC8vIFNraXAgcGljdHVyZSBkZWNvZGluZyB1bnRpbCB3ZSBmaW5kIHRoZSBmaXJzdCBpbnRyYSBmcmFtZT9cbiAgaWYoIHRoaXMud2FpdEZvckludHJhRnJhbWUgKSB7XG4gICAgbmV4dC5hZHZhbmNlKDEwKTsgLy8gc2tpcCB0ZW1wb3JhbFJlZmVyZW5jZVxuICAgIGlmKCBuZXh0LmdldEJpdHMoMykgPT0gUElDVFVSRV9UWVBFX0kgKSB7XG4gICAgICB0aGlzLndhaXRGb3JJbnRyYUZyYW1lID0gZmFsc2U7XG4gICAgICBuZXh0LmNodW5rQmVnaW4gPSAobmV4dC5pbmRleC0xMykgPj4gMztcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gTGFzdCBwaWN0dXJlIGhhc24ndCBiZWVuIGRlY29kZWQgeWV0PyBEZWNvZGUgbm93IGJ1dCBza2lwIG91dHB1dFxuICAvLyBiZWZvcmUgc2NoZWR1bGluZyB0aGUgbmV4dCBvbmVcbiAgaWYoICF0aGlzLmN1cnJlbnRQaWN0dXJlRGVjb2RlZCApIHtcbiAgICB0aGlzLmRlY29kZVBpY3R1cmUoREVDT0RFX1NLSVBfT1VUUFVUKTtcbiAgfVxuXG5cbiAgLy8gQ29weSB0aGUgcGljdHVyZSBjaHVuayBvdmVyIHRvICd0aGlzLmJ1ZmZlcicgYW5kIHNjaGVkdWxlIGRlY29kaW5nLlxuICB2YXIgY2h1bmtFbmQgPSAoKG5leHQuaW5kZXgpID4+IDMpO1xuXG4gIGlmKCBjaHVua0VuZCA+IG5leHQuY2h1bmtCZWdpbiApIHtcbiAgICAvLyBKdXN0IGNvcHkgdGhlIGN1cnJlbnQgcGljdHVyZSBjaHVua1xuICAgIGN1cnJlbnQuYnl0ZXMuc2V0KCBuZXh0LmJ5dGVzLnN1YmFycmF5KG5leHQuY2h1bmtCZWdpbiwgY2h1bmtFbmQpICk7XG4gICAgY3VycmVudC53cml0ZVBvcyA9IGNodW5rRW5kIC0gbmV4dC5jaHVua0JlZ2luO1xuICB9XG4gIGVsc2Uge1xuICAgIC8vIFdlIHdyYXBwZWQgdGhlIG5leHRQaWN0dXJlQnVmZmVyIGFyb3VuZCwgc28gd2UgaGF2ZSB0byBjb3B5IHRoZSBsYXN0IHBhcnRcbiAgICAvLyB0aWxsIHRoZSBlbmQsIGFzIHdlbGwgYXMgZnJvbSAwIHRvIHRoZSBjdXJyZW50IHdyaXRlUG9zXG4gICAgY3VycmVudC5ieXRlcy5zZXQoIG5leHQuYnl0ZXMuc3ViYXJyYXkobmV4dC5jaHVua0JlZ2luLCBuZXh0Lmxhc3RXcml0ZUJlZm9yZVdyYXApICk7XG4gICAgdmFyIHdyaXR0ZW4gPSBuZXh0Lmxhc3RXcml0ZUJlZm9yZVdyYXAgLSBuZXh0LmNodW5rQmVnaW47XG4gICAgY3VycmVudC5ieXRlcy5zZXQoIG5leHQuYnl0ZXMuc3ViYXJyYXkoMCwgY2h1bmtFbmQpLCB3cml0dGVuICk7XG4gICAgY3VycmVudC53cml0ZVBvcyA9IGNodW5rRW5kICsgd3JpdHRlbjtcbiAgfVxuXG4gIGN1cnJlbnQuaW5kZXggPSAwO1xuICBuZXh0LmNodW5rQmVnaW4gPSBjaHVua0VuZDtcblxuICAvLyBEZWNvZGUhXG4gIHRoaXMuY3VycmVudFBpY3R1cmVEZWNvZGVkID0gZmFsc2U7XG4gIHJlcXVlc3RBbmltRnJhbWUoIHRoaXMuc2NoZWR1bGVEZWNvZGluZy5iaW5kKHRoaXMpLCB0aGlzLmNhbnZhcyApO1xufTtcblxuanNtcGVnLnByb3RvdHlwZS5zY2hlZHVsZURlY29kaW5nID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZGVjb2RlUGljdHVyZSgpO1xuICB0aGlzLmN1cnJlbnRQaWN0dXJlRGVjb2RlZCA9IHRydWU7XG59O1xuXG5cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUmVjb3JkaW5nIGZyb20gV2ViU29ja2V0c1xuXG5qc21wZWcucHJvdG90eXBlLmlzUmVjb3JkaW5nID0gZmFsc2U7XG5qc21wZWcucHJvdG90eXBlLnJlY29yZGVyV2FpdEZvckludHJhRnJhbWUgPSBmYWxzZTtcbmpzbXBlZy5wcm90b3R5cGUucmVjb3JkZWRGcmFtZXMgPSAwO1xuanNtcGVnLnByb3RvdHlwZS5yZWNvcmRlZFNpemUgPSAwO1xuanNtcGVnLnByb3RvdHlwZS5kaWRTdGFydFJlY29yZGluZ0NhbGxiYWNrID0gbnVsbDtcblxuanNtcGVnLnByb3RvdHlwZS5yZWNvcmRCdWZmZXJzID0gW107XG5cbmpzbXBlZy5wcm90b3R5cGUuY2FuUmVjb3JkID0gZnVuY3Rpb24oKXtcbiAgcmV0dXJuICh0aGlzLmNsaWVudCAmJiB0aGlzLmNsaWVudC5yZWFkeVN0YXRlID09IHRoaXMuY2xpZW50Lk9QRU4pO1xufTtcblxuanNtcGVnLnByb3RvdHlwZS5zdGFydFJlY29yZGluZyA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gIGlmKCAhdGhpcy5jYW5SZWNvcmQoKSApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBEaXNjYXJkIG9sZCBidWZmZXJzIGFuZCBzZXQgZm9yIHJlY29yZGluZ1xuICB0aGlzLmRpc2NhcmRSZWNvcmRCdWZmZXJzKCk7XG4gIHRoaXMuaXNSZWNvcmRpbmcgPSB0cnVlO1xuICB0aGlzLnJlY29yZGVyV2FpdEZvckludHJhRnJhbWUgPSB0cnVlO1xuICB0aGlzLmRpZFN0YXJ0UmVjb3JkaW5nQ2FsbGJhY2sgPSBjYWxsYmFjayB8fCBudWxsO1xuXG4gIHRoaXMucmVjb3JkZWRGcmFtZXMgPSAwO1xuICB0aGlzLnJlY29yZGVkU2l6ZSA9IDA7XG5cbiAgLy8gRnVkZ2UgYSBzaW1wbGUgU2VxdWVuY2UgSGVhZGVyIGZvciB0aGUgTVBFRyBmaWxlXG5cbiAgLy8gMyBieXRlcyB3aWR0aCAmIGhlaWdodCwgMTIgYml0cyBlYWNoXG4gIHZhciB3aDEgPSAodGhpcy53aWR0aCA+PiA0KSxcbiAgICB3aDIgPSAoKHRoaXMud2lkdGggJiAweGYpIDw8IDQpIHwgKHRoaXMuaGVpZ2h0ID4+IDgpLFxuICAgIHdoMyA9ICh0aGlzLmhlaWdodCAmIDB4ZmYpO1xuXG4gIHRoaXMucmVjb3JkQnVmZmVycy5wdXNoKG5ldyBVaW50OEFycmF5KFtcbiAgICAweDAwLCAweDAwLCAweDAxLCAweGIzLCAvLyBTZXF1ZW5jZSBTdGFydCBDb2RlXG4gICAgd2gxLCB3aDIsIHdoMywgLy8gV2lkdGggJiBoZWlnaHRcbiAgICAweDEzLCAvLyBhc3BlY3QgcmF0aW8gJiBmcmFtZXJhdGVcbiAgICAweGZmLCAweGZmLCAweGUxLCAweDU4LCAvLyBNZWguIEJpdHJhdGUgYW5kIG90aGVyIGJvcmluZyBzdHVmZlxuICAgIDB4MDAsIDB4MDAsIDB4MDEsIDB4YjgsIDB4MDAsIDB4MDgsIDB4MDAsIC8vIEdPUFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsIDB4MDAgLy8gRmlyc3QgUGljdHVyZSBTdGFydCBDb2RlXG4gIF0pKTtcbn07XG5cbmpzbXBlZy5wcm90b3R5cGUucmVjb3JkRnJhbWVGcm9tQ3VycmVudEJ1ZmZlciA9IGZ1bmN0aW9uKCkge1xuICBpZiggIXRoaXMuaXNSZWNvcmRpbmcgKSB7IHJldHVybjsgfVxuXG4gIGlmKCB0aGlzLnJlY29yZGVyV2FpdEZvckludHJhRnJhbWUgKSB7XG4gICAgLy8gTm90IGFuIGludHJhIGZyYW1lPyBFeGl0LlxuICAgIGlmKCB0aGlzLnBpY3R1cmVDb2RpbmdUeXBlICE9IFBJQ1RVUkVfVFlQRV9JICkgeyByZXR1cm47IH1cblxuICAgIC8vIFN0YXJ0IHJlY29yZGluZyFcbiAgICB0aGlzLnJlY29yZGVyV2FpdEZvckludHJhRnJhbWUgPSBmYWxzZTtcbiAgICBpZiggdGhpcy5kaWRTdGFydFJlY29yZGluZ0NhbGxiYWNrICkge1xuICAgICAgdGhpcy5kaWRTdGFydFJlY29yZGluZ0NhbGxiYWNrKCB0aGlzICk7XG4gICAgfVxuICB9XG5cbiAgdGhpcy5yZWNvcmRlZEZyYW1lcysrO1xuICB0aGlzLnJlY29yZGVkU2l6ZSArPSB0aGlzLmJ1ZmZlci53cml0ZVBvcztcblxuICAvLyBDb3B5IHRoZSBhY3R1YWwgc3VicmFuZ2UgZm9yIHRoZSBjdXJyZW50IHBpY3R1cmUgaW50byBhIG5ldyBCdWZmZXJcbiAgdGhpcy5yZWNvcmRCdWZmZXJzLnB1c2gobmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIuYnl0ZXMuc3ViYXJyYXkoMCwgdGhpcy5idWZmZXIud3JpdGVQb3MpKSk7XG59O1xuXG5qc21wZWcucHJvdG90eXBlLmRpc2NhcmRSZWNvcmRCdWZmZXJzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucmVjb3JkQnVmZmVycyA9IFtdO1xuICB0aGlzLnJlY29yZGVkRnJhbWVzID0gMDtcbn07XG5cbmpzbXBlZy5wcm90b3R5cGUuc3RvcFJlY29yZGluZyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYmxvYiA9IG5ldyBCbG9iKHRoaXMucmVjb3JkQnVmZmVycywge3R5cGU6ICd2aWRlby9tcGVnJ30pO1xuICB0aGlzLmRpc2NhcmRSZWNvcmRCdWZmZXJzKCk7XG4gIHRoaXMuaXNSZWNvcmRpbmcgPSBmYWxzZTtcbiAgcmV0dXJuIGJsb2I7XG59O1xuXG5cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gTG9hZGluZyB2aWEgQWpheFxuXG5qc21wZWcucHJvdG90eXBlLmludHJhRnJhbWVzID0gW107XG5qc21wZWcucHJvdG90eXBlLmN1cnJlbnRGcmFtZSA9IC0xO1xuanNtcGVnLnByb3RvdHlwZS5jdXJyZW50VGltZSA9IDA7XG5qc21wZWcucHJvdG90eXBlLmZyYW1lQ291bnQgPSAwO1xuanNtcGVnLnByb3RvdHlwZS5kdXJhdGlvbiA9IDA7XG5cbmpzbXBlZy5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uKCB1cmwgKSB7XG4gIHRoaXMudXJsID0gdXJsO1xuXG4gIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gIHZhciB0aGF0ID0gdGhpcztcbiAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICBpZiggcmVxdWVzdC5yZWFkeVN0YXRlID09IHJlcXVlc3QuRE9ORSAmJiByZXF1ZXN0LnN0YXR1cyA9PSAyMDAgKSB7XG4gICAgICB0aGF0LmxvYWRDYWxsYmFjayhyZXF1ZXN0LnJlc3BvbnNlKTtcbiAgICB9XG4gIH07XG5cbiAgcmVxdWVzdC5vbnByb2dyZXNzID0gdGhpcy5nbFxuICAgID8gdGhpcy51cGRhdGVMb2FkZXJHTC5iaW5kKHRoaXMpXG4gICAgOiB0aGlzLnVwZGF0ZUxvYWRlcjJELmJpbmQodGhpcyk7XG5cbiAgcmVxdWVzdC5vcGVuKCdHRVQnLCB1cmwpO1xuICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IFwiYXJyYXlidWZmZXJcIjtcbiAgcmVxdWVzdC5zZW5kKCk7XG59O1xuXG5qc21wZWcucHJvdG90eXBlLnVwZGF0ZUxvYWRlcjJEID0gZnVuY3Rpb24oIGV2ICkge1xuICB2YXJcbiAgICBwID0gZXYubG9hZGVkIC8gZXYudG90YWwsXG4gICAgdyA9IHRoaXMuY2FudmFzLndpZHRoLFxuICAgIGggPSB0aGlzLmNhbnZhcy5oZWlnaHQsXG4gICAgY3R4ID0gdGhpcy5jYW52YXNDb250ZXh0O1xuXG4gIGN0eC5maWxsU3R5bGUgPSAnIzIyMic7XG4gIGN0eC5maWxsUmVjdCgwLCAwLCB3LCBoKTtcbiAgY3R4LmZpbGxTdHlsZSA9ICcjZmZmJztcbiAgY3R4LmZpbGxSZWN0KDAsIGggLSBoKnAsIHcsIGgqcCk7XG59O1xuXG5qc21wZWcucHJvdG90eXBlLnVwZGF0ZUxvYWRlckdMID0gZnVuY3Rpb24oIGV2ICkge1xuICB2YXIgZ2wgPSB0aGlzLmdsO1xuICBnbC51bmlmb3JtMWYoZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMubG9hZGluZ1Byb2dyYW0sICdsb2FkZWQnKSwgKGV2LmxvYWRlZCAvIGV2LnRvdGFsKSk7XG4gIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xufTtcblxuanNtcGVnLnByb3RvdHlwZS5sb2FkQ2FsbGJhY2sgPSBmdW5jdGlvbihmaWxlKSB7XG4gIHRoaXMuYnVmZmVyID0gbmV3IEJpdFJlYWRlcihmaWxlKTtcblxuICBpZiggdGhpcy5zZWVrYWJsZSApIHtcbiAgICB0aGlzLmNvbGxlY3RJbnRyYUZyYW1lcygpO1xuICAgIHRoaXMuYnVmZmVyLmluZGV4ID0gMDtcbiAgfVxuXG4gIHRoaXMuZmluZFN0YXJ0Q29kZShTVEFSVF9TRVFVRU5DRSk7XG4gIHRoaXMuZmlyc3RTZXF1ZW5jZUhlYWRlciA9IHRoaXMuYnVmZmVyLmluZGV4O1xuICB0aGlzLmRlY29kZVNlcXVlbmNlSGVhZGVyKCk7XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSBkdXJhdGlvbi4gVGhpcyBvbmx5IHdvcmtzIGlmIHRoZSB2aWRlbyBpcyBzZWVrYWJsZSBhbmQgd2UgaGF2ZSBhIGZyYW1lIGNvdW50XG4gIHRoaXMuZHVyYXRpb24gPSB0aGlzLmZyYW1lQ291bnQgLyB0aGlzLnBpY3R1cmVSYXRlO1xuXG4gIC8vIExvYWQgdGhlIGZpcnN0IGZyYW1lXG4gIHRoaXMubmV4dEZyYW1lKCk7XG5cbiAgaWYoIHRoaXMuYXV0b3BsYXkgKSB7XG4gICAgdGhpcy5wbGF5KCk7XG4gIH1cblxuICBpZiggdGhpcy5leHRlcm5hbExvYWRDYWxsYmFjayApIHtcbiAgICB0aGlzLmV4dGVybmFsTG9hZENhbGxiYWNrKHRoaXMpO1xuICB9XG59O1xuXG5qc21wZWcucHJvdG90eXBlLmNvbGxlY3RJbnRyYUZyYW1lcyA9IGZ1bmN0aW9uKCkge1xuICAvLyBMb29wIHRocm91Z2ggdGhlIHdob2xlIGJ1ZmZlciBhbmQgY29sbGVjdCBhbGwgaW50cmFGcmFtZXMgdG8gYnVpbGQgb3VyIHNlZWsgaW5kZXguXG4gIC8vIFdlIGFsc28ga2VlcCB0cmFjayBvZiB0b3RhbCBmcmFtZSBjb3VudCBoZXJlXG4gIHZhciBmcmFtZTtcbiAgZm9yKCBmcmFtZSA9IDA7IHRoaXMuZmluZFN0YXJ0Q29kZShTVEFSVF9QSUNUVVJFKSAhPT0gQml0UmVhZGVyLk5PVF9GT1VORDsgZnJhbWUrKyApIHtcblxuICAgIC8vIENoZWNrIGlmIHRoZSBmb3VuZCBwaWN0dXJlIGlzIGFuIGludHJhIGZyYW1lIGFuZCByZW1lbWJlciB0aGUgcG9zaXRpb25cbiAgICB0aGlzLmJ1ZmZlci5hZHZhbmNlKDEwKTsgLy8gc2tpcCB0ZW1wb3JhbFJlZmVyZW5jZVxuICAgIGlmKCB0aGlzLmJ1ZmZlci5nZXRCaXRzKDMpID09IFBJQ1RVUkVfVFlQRV9JICkge1xuICAgICAgLy8gUmVtZW1iZXIgaW5kZXggMTMgYml0cyBiYWNrLCBiZWZvcmUgdGVtcG9yYWxSZWZlcmVuY2UgYW5kIHBpY3R1cmUgdHlwZVxuICAgICAgdGhpcy5pbnRyYUZyYW1lcy5wdXNoKHtmcmFtZTogZnJhbWUsIGluZGV4OiB0aGlzLmJ1ZmZlci5pbmRleCAtIDEzfSk7XG4gICAgfVxuICB9XG5cbiAgdGhpcy5mcmFtZUNvdW50ID0gZnJhbWU7XG59O1xuXG5qc21wZWcucHJvdG90eXBlLnNlZWtUb0ZyYW1lID0gZnVuY3Rpb24oc2Vla0ZyYW1lLCBzZWVrRXhhY3QpIHtcbiAgaWYoIHNlZWtGcmFtZSA8IDAgfHwgc2Vla0ZyYW1lID49IHRoaXMuZnJhbWVDb3VudCB8fCAhdGhpcy5pbnRyYUZyYW1lcy5sZW5ndGggKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gRmluZCB0aGUgbGFzdCBpbnRyYSBmcmFtZSBiZWZvcmUgb3IgZXF1YWwgdG8gc2VlayBmcmFtZVxuICB2YXIgdGFyZ2V0ID0gbnVsbDtcbiAgZm9yKCB2YXIgaSA9IDA7IGkgPCB0aGlzLmludHJhRnJhbWVzLmxlbmd0aCAmJiB0aGlzLmludHJhRnJhbWVzW2ldLmZyYW1lIDw9IHNlZWtGcmFtZTsgaSsrICkge1xuICAgIHRhcmdldCA9IHRoaXMuaW50cmFGcmFtZXNbaV07XG4gIH1cblxuICB0aGlzLmJ1ZmZlci5pbmRleCA9IHRhcmdldC5pbmRleDtcbiAgdGhpcy5jdXJyZW50RnJhbWUgPSB0YXJnZXQuZnJhbWUtMTtcblxuICAvLyBJZiB3ZSdyZSBzZWVraW5nIHRvIHRoZSBleGFjdCBmcmFtZSwgd2UgbWF5IGhhdmUgdG8gZGVjb2RlIHNvbWUgbW9yZSBmcmFtZXMgYmVmb3JlXG4gIC8vIHRoZSBvbmUgd2Ugd2FudFxuICBpZiggc2Vla0V4YWN0ICkge1xuICAgIGZvciggdmFyIGZyYW1lID0gdGFyZ2V0LmZyYW1lOyBmcmFtZSA8IHNlZWtGcmFtZTsgZnJhbWUrKyApIHtcbiAgICAgIHRoaXMuZGVjb2RlUGljdHVyZShERUNPREVfU0tJUF9PVVRQVVQpO1xuICAgICAgdGhpcy5maW5kU3RhcnRDb2RlKFNUQVJUX1BJQ1RVUkUpO1xuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRGcmFtZSA9IHNlZWtGcmFtZS0xO1xuICB9XG5cbiAgLy8gRGVjb2RlIGFuZCBkaXNwbGF5IHRoZSBwaWN0dXJlIHdlIGhhdmUgc2Vla2VkIHRvXG4gIHRoaXMuZGVjb2RlUGljdHVyZSgpO1xuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmpzbXBlZy5wcm90b3R5cGUuc2Vla1RvVGltZSA9IGZ1bmN0aW9uKHRpbWUsIHNlZWtFeGFjdCkge1xuICB0aGlzLnNlZWtUb0ZyYW1lKCAodGltZSAqIHRoaXMucGljdHVyZVJhdGUpfDAsIHNlZWtFeGFjdCApO1xufTtcblxuanNtcGVnLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24oZmlsZSkge1xuICBpZiggdGhpcy5wbGF5aW5nICkgeyByZXR1cm47IH1cbiAgdGhpcy50YXJnZXRUaW1lID0gdGhpcy5ub3coKTtcbiAgdGhpcy5wbGF5aW5nID0gdHJ1ZTtcbiAgdGhpcy5zY2hlZHVsZU5leHRGcmFtZSgpO1xufTtcblxuanNtcGVnLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uKGZpbGUpIHtcbiAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XG59O1xuXG5qc21wZWcucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbihmaWxlKSB7XG4gIHRoaXMuY3VycmVudEZyYW1lID0gLTE7XG4gIGlmKCB0aGlzLmJ1ZmZlciApIHtcbiAgICB0aGlzLmJ1ZmZlci5pbmRleCA9IHRoaXMuZmlyc3RTZXF1ZW5jZUhlYWRlcjtcbiAgfVxuICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgaWYoIHRoaXMuY2xpZW50ICkge1xuICAgIHRoaXMuY2xpZW50LmNsb3NlKCk7XG4gICAgdGhpcy5jbGllbnQgPSBudWxsO1xuICB9XG59O1xuXG5cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVXRpbGl0aWVzXG5cbmpzbXBlZy5wcm90b3R5cGUucmVhZENvZGUgPSBmdW5jdGlvbihjb2RlVGFibGUpIHtcbiAgdmFyIHN0YXRlID0gMDtcbiAgZG8ge1xuICAgIHN0YXRlID0gY29kZVRhYmxlW3N0YXRlICsgdGhpcy5idWZmZXIuZ2V0Qml0cygxKV07XG4gIH0gd2hpbGUoIHN0YXRlID49IDAgJiYgY29kZVRhYmxlW3N0YXRlXSAhPSAwICk7XG4gIHJldHVybiBjb2RlVGFibGVbc3RhdGUrMl07XG59O1xuXG5qc21wZWcucHJvdG90eXBlLmZpbmRTdGFydENvZGUgPSBmdW5jdGlvbiggY29kZSApIHtcbiAgdmFyIGN1cnJlbnQgPSAwO1xuICB3aGlsZSggdHJ1ZSApIHtcbiAgICBjdXJyZW50ID0gdGhpcy5idWZmZXIuZmluZE5leHRNUEVHU3RhcnRDb2RlKCk7XG4gICAgaWYoIGN1cnJlbnQgPT0gY29kZSB8fCBjdXJyZW50ID09IEJpdFJlYWRlci5OT1RfRk9VTkQgKSB7XG4gICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIEJpdFJlYWRlci5OT1RfRk9VTkQ7XG59O1xuXG5qc21wZWcucHJvdG90eXBlLmZpbGxBcnJheSA9IGZ1bmN0aW9uKGEsIHZhbHVlKSB7XG4gIGZvciggdmFyIGkgPSAwLCBsZW5ndGggPSBhLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrICkge1xuICAgIGFbaV0gPSB2YWx1ZTtcbiAgfVxufTtcblxuXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFNlcXVlbmNlIExheWVyXG5cbmpzbXBlZy5wcm90b3R5cGUucGljdHVyZVJhdGUgPSAzMDtcbmpzbXBlZy5wcm90b3R5cGUubGF0ZVRpbWUgPSAwO1xuanNtcGVnLnByb3RvdHlwZS5maXJzdFNlcXVlbmNlSGVhZGVyID0gMDtcbmpzbXBlZy5wcm90b3R5cGUudGFyZ2V0VGltZSA9IDA7XG5cbmpzbXBlZy5wcm90b3R5cGUuYmVuY2htYXJrID0gZmFsc2U7XG5qc21wZWcucHJvdG90eXBlLmJlbmNoRnJhbWUgPSAwO1xuanNtcGVnLnByb3RvdHlwZS5iZW5jaERlY29kZVRpbWVzID0gMDtcbmpzbXBlZy5wcm90b3R5cGUuYmVuY2hBdmdGcmFtZVRpbWUgPSAwO1xuXG5qc21wZWcucHJvdG90eXBlLm5vdyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gd2luZG93LnBlcmZvcm1hbmNlXG4gICAgPyB3aW5kb3cucGVyZm9ybWFuY2Uubm93KClcbiAgICA6IERhdGUubm93KCk7XG59XG5cbmpzbXBlZy5wcm90b3R5cGUubmV4dEZyYW1lID0gZnVuY3Rpb24oKSB7XG4gIGlmKCAhdGhpcy5idWZmZXIgKSB7IHJldHVybjsgfVxuXG4gIHZhciBmcmFtZVN0YXJ0ID0gdGhpcy5ub3coKTtcbiAgd2hpbGUodHJ1ZSkge1xuICAgIHZhciBjb2RlID0gdGhpcy5idWZmZXIuZmluZE5leHRNUEVHU3RhcnRDb2RlKCk7XG5cbiAgICBpZiggY29kZSA9PSBTVEFSVF9TRVFVRU5DRSApIHtcbiAgICAgIHRoaXMuZGVjb2RlU2VxdWVuY2VIZWFkZXIoKTtcbiAgICB9XG4gICAgZWxzZSBpZiggY29kZSA9PSBTVEFSVF9QSUNUVVJFICkge1xuICAgICAgaWYoIHRoaXMucGxheWluZyApIHtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU5leHRGcmFtZSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5kZWNvZGVQaWN0dXJlKCk7XG4gICAgICB0aGlzLmJlbmNoRGVjb2RlVGltZXMgKz0gdGhpcy5ub3coKSAtIGZyYW1lU3RhcnQ7XG4gICAgICByZXR1cm4gdGhpcy5jYW52YXM7XG4gICAgfVxuICAgIGVsc2UgaWYoIGNvZGUgPT0gQml0UmVhZGVyLk5PVF9GT1VORCApIHtcbiAgICAgIHRoaXMuc3RvcCgpOyAvLyBKdW1wIGJhY2sgdG8gdGhlIGJlZ2lubmluZ1xuXG4gICAgICBpZiggdGhpcy5leHRlcm5hbEZpbmlzaGVkQ2FsbGJhY2sgKSB7XG4gICAgICAgIHRoaXMuZXh0ZXJuYWxGaW5pc2hlZENhbGxiYWNrKHRoaXMpO1xuICAgICAgfVxuXG4gICAgICAvLyBPbmx5IGxvb3AgaWYgd2UgZm91bmQgYSBzZXF1ZW5jZSBoZWFkZXJcbiAgICAgIGlmKCB0aGlzLmxvb3AgJiYgdGhpcy5zZXF1ZW5jZVN0YXJ0ZWQgKSB7XG4gICAgICAgIHRoaXMucGxheSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gaWdub3JlIChHUk9VUCwgVVNFUl9EQVRBLCBFWFRFTlNJT04sIFNMSUNFUy4uLilcbiAgICB9XG4gIH1cbn07XG5cbmpzbXBlZy5wcm90b3R5cGUuc2NoZWR1bGVOZXh0RnJhbWUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5sYXRlVGltZSA9IHRoaXMubm93KCkgLSB0aGlzLnRhcmdldFRpbWU7XG4gIHZhciB3YWl0ID0gTWF0aC5tYXgoMCwgKDEwMDAvdGhpcy5waWN0dXJlUmF0ZSkgLSB0aGlzLmxhdGVUaW1lKTtcbiAgdGhpcy50YXJnZXRUaW1lID0gdGhpcy5ub3coKSArIHdhaXQ7XG5cbiAgaWYoIHRoaXMuYmVuY2htYXJrICkge1xuICAgIHRoaXMuYmVuY2hGcmFtZSsrO1xuICAgIGlmKCB0aGlzLmJlbmNoRnJhbWUgPj0gMTIwICkge1xuICAgICAgdGhpcy5iZW5jaEF2Z0ZyYW1lVGltZSA9IHRoaXMuYmVuY2hEZWNvZGVUaW1lcyAvIHRoaXMuYmVuY2hGcmFtZTtcbiAgICAgIHRoaXMuYmVuY2hGcmFtZSA9IDA7XG4gICAgICB0aGlzLmJlbmNoRGVjb2RlVGltZXMgPSAwO1xuICAgICAgaWYoIHdpbmRvdy5jb25zb2xlICkgeyBjb25zb2xlLmxvZyhcIkF2ZXJhZ2UgdGltZSBwZXIgZnJhbWU6XCIsIHRoaXMuYmVuY2hBdmdGcmFtZVRpbWUsICdtcycpOyB9XG4gICAgfVxuICAgIHNldFRpbWVvdXQoIHRoaXMubmV4dEZyYW1lLmJpbmQodGhpcyksIDApO1xuICB9XG4gIGVsc2UgaWYoIHdhaXQgPCAxOCkge1xuICAgIHRoaXMuc2NoZWR1bGVBbmltYXRpb24oKTtcbiAgfVxuICBlbHNlIHtcbiAgICBzZXRUaW1lb3V0KCB0aGlzLnNjaGVkdWxlQW5pbWF0aW9uLmJpbmQodGhpcyksIHdhaXQgKTtcbiAgfVxufTtcblxuanNtcGVnLnByb3RvdHlwZS5zY2hlZHVsZUFuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuICByZXF1ZXN0QW5pbUZyYW1lKCB0aGlzLm5leHRGcmFtZS5iaW5kKHRoaXMpLCB0aGlzLmNhbnZhcyApO1xufTtcblxuanNtcGVnLnByb3RvdHlwZS5kZWNvZGVTZXF1ZW5jZUhlYWRlciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLndpZHRoID0gdGhpcy5idWZmZXIuZ2V0Qml0cygxMik7XG4gIHRoaXMuaGVpZ2h0ID0gdGhpcy5idWZmZXIuZ2V0Qml0cygxMik7XG4gIHRoaXMuYnVmZmVyLmFkdmFuY2UoNCk7IC8vIHNraXAgcGl4ZWwgYXNwZWN0IHJhdGlvXG4gIHRoaXMucGljdHVyZVJhdGUgPSBQSUNUVVJFX1JBVEVbdGhpcy5idWZmZXIuZ2V0Qml0cyg0KV07XG4gIHRoaXMuYnVmZmVyLmFkdmFuY2UoMTggKyAxICsgMTAgKyAxKTsgLy8gc2tpcCBiaXRSYXRlLCBtYXJrZXIsIGJ1ZmZlclNpemUgYW5kIGNvbnN0cmFpbmVkIGJpdFxuXG4gIHRoaXMuaW5pdEJ1ZmZlcnMoKTtcblxuICBpZiggdGhpcy5idWZmZXIuZ2V0Qml0cygxKSApIHsgLy8gbG9hZCBjdXN0b20gaW50cmEgcXVhbnQgbWF0cml4P1xuICAgIGZvciggdmFyIGkgPSAwOyBpIDwgNjQ7IGkrKyApIHtcbiAgICAgIHRoaXMuY3VzdG9tSW50cmFRdWFudE1hdHJpeFtaSUdfWkFHW2ldXSA9IHRoaXMuYnVmZmVyLmdldEJpdHMoOCk7XG4gICAgfVxuICAgIHRoaXMuaW50cmFRdWFudE1hdHJpeCA9IHRoaXMuY3VzdG9tSW50cmFRdWFudE1hdHJpeDtcbiAgfVxuXG4gIGlmKCB0aGlzLmJ1ZmZlci5nZXRCaXRzKDEpICkgeyAvLyBsb2FkIGN1c3RvbSBub24gaW50cmEgcXVhbnQgbWF0cml4P1xuICAgIGZvciggdmFyIGkgPSAwOyBpIDwgNjQ7IGkrKyApIHtcbiAgICAgIHRoaXMuY3VzdG9tTm9uSW50cmFRdWFudE1hdHJpeFtaSUdfWkFHW2ldXSA9IHRoaXMuYnVmZmVyLmdldEJpdHMoOCk7XG4gICAgfVxuICAgIHRoaXMubm9uSW50cmFRdWFudE1hdHJpeCA9IHRoaXMuY3VzdG9tTm9uSW50cmFRdWFudE1hdHJpeDtcbiAgfVxufTtcblxuanNtcGVnLnByb3RvdHlwZS5pbml0QnVmZmVycyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmludHJhUXVhbnRNYXRyaXggPSBERUZBVUxUX0lOVFJBX1FVQU5UX01BVFJJWDtcbiAgdGhpcy5ub25JbnRyYVF1YW50TWF0cml4ID0gREVGQVVMVF9OT05fSU5UUkFfUVVBTlRfTUFUUklYO1xuXG4gIHRoaXMubWJXaWR0aCA9ICh0aGlzLndpZHRoICsgMTUpID4+IDQ7XG4gIHRoaXMubWJIZWlnaHQgPSAodGhpcy5oZWlnaHQgKyAxNSkgPj4gNDtcbiAgdGhpcy5tYlNpemUgPSB0aGlzLm1iV2lkdGggKiB0aGlzLm1iSGVpZ2h0O1xuXG4gIHRoaXMuY29kZWRXaWR0aCA9IHRoaXMubWJXaWR0aCA8PCA0O1xuICB0aGlzLmNvZGVkSGVpZ2h0ID0gdGhpcy5tYkhlaWdodCA8PCA0O1xuICB0aGlzLmNvZGVkU2l6ZSA9IHRoaXMuY29kZWRXaWR0aCAqIHRoaXMuY29kZWRIZWlnaHQ7XG5cbiAgdGhpcy5oYWxmV2lkdGggPSB0aGlzLm1iV2lkdGggPDwgMztcbiAgdGhpcy5oYWxmSGVpZ2h0ID0gdGhpcy5tYkhlaWdodCA8PCAzO1xuICB0aGlzLnF1YXJ0ZXJTaXplID0gdGhpcy5jb2RlZFNpemUgPj4gMjtcblxuICAvLyBTZXF1ZW5jZSBhbHJlYWR5IHN0YXJ0ZWQ/IERvbid0IGFsbG9jYXRlIGJ1ZmZlcnMgYWdhaW5cbiAgaWYoIHRoaXMuc2VxdWVuY2VTdGFydGVkICkgeyByZXR1cm47IH1cbiAgdGhpcy5zZXF1ZW5jZVN0YXJ0ZWQgPSB0cnVlO1xuXG5cbiAgLy8gTWFudWFsbHkgY2xhbXAgdmFsdWVzIHdoZW4gd3JpdGluZyBtYWNyb2Jsb2NrcyBmb3Igc2hpdHR5IGJyb3dzZXJzXG4gIC8vIHRoYXQgZG9uJ3Qgc3VwcG9ydCBVaW50OENsYW1wZWRBcnJheVxuICB2YXIgTWF5YmVDbGFtcGVkVWludDhBcnJheSA9IHdpbmRvdy5VaW50OENsYW1wZWRBcnJheSB8fCB3aW5kb3cuVWludDhBcnJheTtcbiAgaWYoICF3aW5kb3cuVWludDhDbGFtcGVkQXJyYXkgKSB7XG4gICAgdGhpcy5jb3B5QmxvY2tUb0Rlc3RpbmF0aW9uID0gdGhpcy5jb3B5QmxvY2tUb0Rlc3RpbmF0aW9uQ2xhbXA7XG4gICAgdGhpcy5hZGRCbG9ja1RvRGVzdGluYXRpb24gPSB0aGlzLmFkZEJsb2NrVG9EZXN0aW5hdGlvbkNsYW1wO1xuICB9XG5cbiAgLy8gQWxsb2NhdGVkIGJ1ZmZlcnMgYW5kIHJlc2l6ZSB0aGUgY2FudmFzXG4gIHRoaXMuY3VycmVudFkgPSBuZXcgTWF5YmVDbGFtcGVkVWludDhBcnJheSh0aGlzLmNvZGVkU2l6ZSk7XG4gIHRoaXMuY3VycmVudFkzMiA9IG5ldyBVaW50MzJBcnJheSh0aGlzLmN1cnJlbnRZLmJ1ZmZlcik7XG5cbiAgdGhpcy5jdXJyZW50Q3IgPSBuZXcgTWF5YmVDbGFtcGVkVWludDhBcnJheSh0aGlzLmNvZGVkU2l6ZSA+PiAyKTtcbiAgdGhpcy5jdXJyZW50Q3IzMiA9IG5ldyBVaW50MzJBcnJheSh0aGlzLmN1cnJlbnRDci5idWZmZXIpO1xuXG4gIHRoaXMuY3VycmVudENiID0gbmV3IE1heWJlQ2xhbXBlZFVpbnQ4QXJyYXkodGhpcy5jb2RlZFNpemUgPj4gMik7XG4gIHRoaXMuY3VycmVudENiMzIgPSBuZXcgVWludDMyQXJyYXkodGhpcy5jdXJyZW50Q2IuYnVmZmVyKTtcblxuXG4gIHRoaXMuZm9yd2FyZFkgPSBuZXcgTWF5YmVDbGFtcGVkVWludDhBcnJheSh0aGlzLmNvZGVkU2l6ZSk7XG4gIHRoaXMuZm9yd2FyZFkzMiA9IG5ldyBVaW50MzJBcnJheSh0aGlzLmZvcndhcmRZLmJ1ZmZlcik7XG5cbiAgdGhpcy5mb3J3YXJkQ3IgPSBuZXcgTWF5YmVDbGFtcGVkVWludDhBcnJheSh0aGlzLmNvZGVkU2l6ZSA+PiAyKTtcbiAgdGhpcy5mb3J3YXJkQ3IzMiA9IG5ldyBVaW50MzJBcnJheSh0aGlzLmZvcndhcmRDci5idWZmZXIpO1xuXG4gIHRoaXMuZm9yd2FyZENiID0gbmV3IE1heWJlQ2xhbXBlZFVpbnQ4QXJyYXkodGhpcy5jb2RlZFNpemUgPj4gMik7XG4gIHRoaXMuZm9yd2FyZENiMzIgPSBuZXcgVWludDMyQXJyYXkodGhpcy5mb3J3YXJkQ2IuYnVmZmVyKTtcblxuICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMud2lkdGg7XG4gIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuXG4gIGlmKCB0aGlzLmdsICkge1xuICAgIHRoaXMuZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuICAgIHRoaXMuZ2wudmlld3BvcnQoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICB9XG4gIGVsc2Uge1xuICAgIHRoaXMuY3VycmVudFJHQkEgPSB0aGlzLmNhbnZhc0NvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB0aGlzLmZpbGxBcnJheSh0aGlzLmN1cnJlbnRSR0JBLmRhdGEsIDI1NSk7XG4gIH1cbn07XG5cblxuXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFBpY3R1cmUgTGF5ZXJcblxuanNtcGVnLnByb3RvdHlwZS5jdXJyZW50WSA9IG51bGw7XG5qc21wZWcucHJvdG90eXBlLmN1cnJlbnRDciA9IG51bGw7XG5qc21wZWcucHJvdG90eXBlLmN1cnJlbnRDYiA9IG51bGw7XG5cbmpzbXBlZy5wcm90b3R5cGUuY3VycmVudFJHQkEgPSBudWxsO1xuXG5qc21wZWcucHJvdG90eXBlLnBpY3R1cmVDb2RpbmdUeXBlID0gMDtcblxuLy8gQnVmZmVycyBmb3IgbW90aW9uIGNvbXBlbnNhdGlvblxuanNtcGVnLnByb3RvdHlwZS5mb3J3YXJkWSA9IG51bGw7XG5qc21wZWcucHJvdG90eXBlLmZvcndhcmRDciA9IG51bGw7XG5qc21wZWcucHJvdG90eXBlLmZvcndhcmRDYiA9IG51bGw7XG5cbmpzbXBlZy5wcm90b3R5cGUuZnVsbFBlbEZvcndhcmQgPSBmYWxzZTtcbmpzbXBlZy5wcm90b3R5cGUuZm9yd2FyZEZDb2RlID0gMDtcbmpzbXBlZy5wcm90b3R5cGUuZm9yd2FyZFJTaXplID0gMDtcbmpzbXBlZy5wcm90b3R5cGUuZm9yd2FyZEYgPSAwO1xuXG5cbmpzbXBlZy5wcm90b3R5cGUuZGVjb2RlUGljdHVyZSA9IGZ1bmN0aW9uKHNraXBPdXRwdXQpIHtcbiAgdGhpcy5jdXJyZW50RnJhbWUrKztcbiAgdGhpcy5jdXJyZW50VGltZSA9IHRoaXMuY3VycmVudEZyYW1lIC8gdGhpcy5waWN0dXJlUmF0ZTtcblxuICB0aGlzLmJ1ZmZlci5hZHZhbmNlKDEwKTsgLy8gc2tpcCB0ZW1wb3JhbFJlZmVyZW5jZVxuICB0aGlzLnBpY3R1cmVDb2RpbmdUeXBlID0gdGhpcy5idWZmZXIuZ2V0Qml0cygzKTtcbiAgdGhpcy5idWZmZXIuYWR2YW5jZSgxNik7IC8vIHNraXAgdmJ2X2RlbGF5XG5cbiAgLy8gU2tpcCBCIGFuZCBEIGZyYW1lcyBvciB1bmtub3duIGNvZGluZyB0eXBlXG4gIGlmKCB0aGlzLnBpY3R1cmVDb2RpbmdUeXBlIDw9IDAgfHwgdGhpcy5waWN0dXJlQ29kaW5nVHlwZSA+PSBQSUNUVVJFX1RZUEVfQiApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBmdWxsX3BlbF9mb3J3YXJkLCBmb3J3YXJkX2ZfY29kZVxuICBpZiggdGhpcy5waWN0dXJlQ29kaW5nVHlwZSA9PSBQSUNUVVJFX1RZUEVfUCApIHtcbiAgICB0aGlzLmZ1bGxQZWxGb3J3YXJkID0gdGhpcy5idWZmZXIuZ2V0Qml0cygxKTtcbiAgICB0aGlzLmZvcndhcmRGQ29kZSA9IHRoaXMuYnVmZmVyLmdldEJpdHMoMyk7XG4gICAgaWYoIHRoaXMuZm9yd2FyZEZDb2RlID09IDAgKSB7XG4gICAgICAvLyBJZ25vcmUgcGljdHVyZSB3aXRoIHplcm8gZm9yd2FyZF9mX2NvZGVcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5mb3J3YXJkUlNpemUgPSB0aGlzLmZvcndhcmRGQ29kZSAtIDE7XG4gICAgdGhpcy5mb3J3YXJkRiA9IDEgPDwgdGhpcy5mb3J3YXJkUlNpemU7XG4gIH1cblxuICB2YXIgY29kZSA9IDA7XG4gIGRvIHtcbiAgICBjb2RlID0gdGhpcy5idWZmZXIuZmluZE5leHRNUEVHU3RhcnRDb2RlKCk7XG4gIH0gd2hpbGUoIGNvZGUgPT0gU1RBUlRfRVhURU5TSU9OIHx8IGNvZGUgPT0gU1RBUlRfVVNFUl9EQVRBICk7XG5cblxuICB3aGlsZSggY29kZSA+PSBTVEFSVF9TTElDRV9GSVJTVCAmJiBjb2RlIDw9IFNUQVJUX1NMSUNFX0xBU1QgKSB7XG4gICAgdGhpcy5kZWNvZGVTbGljZSggKGNvZGUgJiAweDAwMDAwMEZGKSApO1xuICAgIGNvZGUgPSB0aGlzLmJ1ZmZlci5maW5kTmV4dE1QRUdTdGFydENvZGUoKTtcbiAgfVxuXG4gIC8vIFdlIGZvdW5kIHRoZSBuZXh0IHN0YXJ0IGNvZGU7IHJld2luZCAzMmJpdHMgYW5kIGxldCB0aGUgbWFpbiBsb29wIGhhbmRsZSBpdC5cbiAgdGhpcy5idWZmZXIucmV3aW5kKDMyKTtcblxuICAvLyBSZWNvcmQgdGhpcyBmcmFtZSwgaWYgdGhlIHJlY29yZGVyIHdhbnRzIGl0XG4gIHRoaXMucmVjb3JkRnJhbWVGcm9tQ3VycmVudEJ1ZmZlcigpO1xuXG5cbiAgaWYoIHNraXBPdXRwdXQgIT0gREVDT0RFX1NLSVBfT1VUUFVUICkge1xuICAgIHRoaXMucmVuZGVyRnJhbWUoKTtcblxuICAgIGlmKHRoaXMuZXh0ZXJuYWxEZWNvZGVDYWxsYmFjaykge1xuICAgICAgdGhpcy5leHRlcm5hbERlY29kZUNhbGxiYWNrKHRoaXMsIHRoaXMuY2FudmFzKTtcbiAgICB9XG4gIH1cblxuICAvLyBJZiB0aGlzIGlzIGEgcmVmZXJlbmNlIHBpY3V0cmUgdGhlbiByb3RhdGUgdGhlIHByZWRpY3Rpb24gcG9pbnRlcnNcbiAgaWYoIHRoaXMucGljdHVyZUNvZGluZ1R5cGUgPT0gUElDVFVSRV9UWVBFX0kgfHwgdGhpcy5waWN0dXJlQ29kaW5nVHlwZSA9PSBQSUNUVVJFX1RZUEVfUCApIHtcbiAgICB2YXJcbiAgICAgIHRtcFkgPSB0aGlzLmZvcndhcmRZLFxuICAgICAgdG1wWTMyID0gdGhpcy5mb3J3YXJkWTMyLFxuICAgICAgdG1wQ3IgPSB0aGlzLmZvcndhcmRDcixcbiAgICAgIHRtcENyMzIgPSB0aGlzLmZvcndhcmRDcjMyLFxuICAgICAgdG1wQ2IgPSB0aGlzLmZvcndhcmRDYixcbiAgICAgIHRtcENiMzIgPSB0aGlzLmZvcndhcmRDYjMyO1xuXG4gICAgdGhpcy5mb3J3YXJkWSA9IHRoaXMuY3VycmVudFk7XG4gICAgdGhpcy5mb3J3YXJkWTMyID0gdGhpcy5jdXJyZW50WTMyO1xuICAgIHRoaXMuZm9yd2FyZENyID0gdGhpcy5jdXJyZW50Q3I7XG4gICAgdGhpcy5mb3J3YXJkQ3IzMiA9IHRoaXMuY3VycmVudENyMzI7XG4gICAgdGhpcy5mb3J3YXJkQ2IgPSB0aGlzLmN1cnJlbnRDYjtcbiAgICB0aGlzLmZvcndhcmRDYjMyID0gdGhpcy5jdXJyZW50Q2IzMjtcblxuICAgIHRoaXMuY3VycmVudFkgPSB0bXBZO1xuICAgIHRoaXMuY3VycmVudFkzMiA9IHRtcFkzMjtcbiAgICB0aGlzLmN1cnJlbnRDciA9IHRtcENyO1xuICAgIHRoaXMuY3VycmVudENyMzIgPSB0bXBDcjMyO1xuICAgIHRoaXMuY3VycmVudENiID0gdG1wQ2I7XG4gICAgdGhpcy5jdXJyZW50Q2IzMiA9IHRtcENiMzI7XG4gIH1cbn07XG5cbmpzbXBlZy5wcm90b3R5cGUuWUNiQ3JUb1JHQkEgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHBZID0gdGhpcy5jdXJyZW50WTtcbiAgdmFyIHBDYiA9IHRoaXMuY3VycmVudENiO1xuICB2YXIgcENyID0gdGhpcy5jdXJyZW50Q3I7XG4gIHZhciBwUkdCQSA9IHRoaXMuY3VycmVudFJHQkEuZGF0YTtcblxuICAvLyBDaHJvbWEgdmFsdWVzIGFyZSB0aGUgc2FtZSBmb3IgZWFjaCBibG9jayBvZiA0IHBpeGVscywgc28gd2UgcHJvY2Nlc3NcbiAgLy8gMiBsaW5lcyBhdCBhIHRpbWUsIDIgbmVpZ2hib3JpbmcgcGl4ZWxzIGVhY2guXG4gIC8vIEkgd2lzaCB3ZSBjb3VsZCB1c2UgMzJiaXQgd3JpdGVzIHRvIHRoZSBSR0JBIGJ1ZmZlciBpbnN0ZWFkIG9mIHdyaXRpbmdcbiAgLy8gZWFjaCBieXRlIHNlcGFyYXRlbHksIGJ1dCB3ZSBuZWVkIHRoZSBhdXRvbWF0aWMgY2xhbXBpbmcgb2YgdGhlIFJHQkFcbiAgLy8gYnVmZmVyLlxuXG4gIHZhciB5SW5kZXgxID0gMDtcbiAgdmFyIHlJbmRleDIgPSB0aGlzLmNvZGVkV2lkdGg7XG4gIHZhciB5TmV4dDJMaW5lcyA9IHRoaXMuY29kZWRXaWR0aCArICh0aGlzLmNvZGVkV2lkdGggLSB0aGlzLndpZHRoKTtcblxuICB2YXIgY0luZGV4ID0gMDtcbiAgdmFyIGNOZXh0TGluZSA9IHRoaXMuaGFsZldpZHRoIC0gKHRoaXMud2lkdGggPj4gMSk7XG5cbiAgdmFyIHJnYmFJbmRleDEgPSAwO1xuICB2YXIgcmdiYUluZGV4MiA9IHRoaXMud2lkdGggKiA0O1xuICB2YXIgcmdiYU5leHQyTGluZXMgPSB0aGlzLndpZHRoICogNDtcblxuICB2YXIgY29scyA9IHRoaXMud2lkdGggPj4gMTtcbiAgdmFyIHJvd3MgPSB0aGlzLmhlaWdodCA+PiAxO1xuXG4gIHZhciB5LCBjYiwgY3IsIHIsIGcsIGI7XG5cbiAgZm9yKCB2YXIgcm93ID0gMDsgcm93IDwgcm93czsgcm93KysgKSB7XG4gICAgZm9yKCB2YXIgY29sID0gMDsgY29sIDwgY29sczsgY29sKysgKSB7XG4gICAgICBjYiA9IHBDYltjSW5kZXhdO1xuICAgICAgY3IgPSBwQ3JbY0luZGV4XTtcbiAgICAgIGNJbmRleCsrO1xuXG4gICAgICByID0gKGNyICsgKChjciAqIDEwMykgPj4gOCkpIC0gMTc5O1xuICAgICAgZyA9ICgoY2IgKiA4OCkgPj4gOCkgLSA0NCArICgoY3IgKiAxODMpID4+IDgpIC0gOTE7XG4gICAgICBiID0gKGNiICsgKChjYiAqIDE5OCkgPj4gOCkpIC0gMjI3O1xuXG4gICAgICAvLyBMaW5lIDFcbiAgICAgIHZhciB5MSA9IHBZW3lJbmRleDErK107XG4gICAgICB2YXIgeTIgPSBwWVt5SW5kZXgxKytdO1xuICAgICAgcFJHQkFbcmdiYUluZGV4MV0gICA9IHkxICsgcjtcbiAgICAgIHBSR0JBW3JnYmFJbmRleDErMV0gPSB5MSAtIGc7XG4gICAgICBwUkdCQVtyZ2JhSW5kZXgxKzJdID0geTEgKyBiO1xuICAgICAgcFJHQkFbcmdiYUluZGV4MSs0XSA9IHkyICsgcjtcbiAgICAgIHBSR0JBW3JnYmFJbmRleDErNV0gPSB5MiAtIGc7XG4gICAgICBwUkdCQVtyZ2JhSW5kZXgxKzZdID0geTIgKyBiO1xuICAgICAgcmdiYUluZGV4MSArPSA4O1xuXG4gICAgICAvLyBMaW5lIDJcbiAgICAgIHZhciB5MyA9IHBZW3lJbmRleDIrK107XG4gICAgICB2YXIgeTQgPSBwWVt5SW5kZXgyKytdO1xuICAgICAgcFJHQkFbcmdiYUluZGV4Ml0gICA9IHkzICsgcjtcbiAgICAgIHBSR0JBW3JnYmFJbmRleDIrMV0gPSB5MyAtIGc7XG4gICAgICBwUkdCQVtyZ2JhSW5kZXgyKzJdID0geTMgKyBiO1xuICAgICAgcFJHQkFbcmdiYUluZGV4Mis0XSA9IHk0ICsgcjtcbiAgICAgIHBSR0JBW3JnYmFJbmRleDIrNV0gPSB5NCAtIGc7XG4gICAgICBwUkdCQVtyZ2JhSW5kZXgyKzZdID0geTQgKyBiO1xuICAgICAgcmdiYUluZGV4MiArPSA4O1xuICAgIH1cblxuICAgIHlJbmRleDEgKz0geU5leHQyTGluZXM7XG4gICAgeUluZGV4MiArPSB5TmV4dDJMaW5lcztcbiAgICByZ2JhSW5kZXgxICs9IHJnYmFOZXh0MkxpbmVzO1xuICAgIHJnYmFJbmRleDIgKz0gcmdiYU5leHQyTGluZXM7XG4gICAgY0luZGV4ICs9IGNOZXh0TGluZTtcbiAgfVxufTtcblxuanNtcGVnLnByb3RvdHlwZS5yZW5kZXJGcmFtZTJEID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuWUNiQ3JUb1JHQkEoKTtcbiAgdGhpcy5jYW52YXNDb250ZXh0LnB1dEltYWdlRGF0YSh0aGlzLmN1cnJlbnRSR0JBLCAwLCAwKTtcbn07XG5cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQWNjZWxlcmF0ZWQgV2ViR0wgWUNiQ3JUb1JHQkEgY29udmVyc2lvblxuXG5qc21wZWcucHJvdG90eXBlLmdsID0gbnVsbDtcbmpzbXBlZy5wcm90b3R5cGUucHJvZ3JhbSA9IG51bGw7XG5qc21wZWcucHJvdG90eXBlLllUZXh0dXJlID0gbnVsbDtcbmpzbXBlZy5wcm90b3R5cGUuQ0JUZXh0dXJlID0gbnVsbDtcbmpzbXBlZy5wcm90b3R5cGUuQ1JUZXh0dXJlID0gbnVsbDtcblxuanNtcGVnLnByb3RvdHlwZS5jcmVhdGVUZXh0dXJlID0gZnVuY3Rpb24oaW5kZXgsIG5hbWUpIHtcbiAgdmFyIGdsID0gdGhpcy5nbDtcbiAgdmFyIHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG5cbiAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xuICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTElORUFSKTtcbiAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICBnbC51bmlmb3JtMWkoZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgbmFtZSksIGluZGV4KTtcblxuICByZXR1cm4gdGV4dHVyZTtcbn07XG5cbmpzbXBlZy5wcm90b3R5cGUuY29tcGlsZVNoYWRlciA9IGZ1bmN0aW9uKHR5cGUsIHNvdXJjZSkge1xuICB2YXIgZ2wgPSB0aGlzLmdsO1xuICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xuICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzb3VyY2UpO1xuICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG5cbiAgaWYoICFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykgKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XG4gIH1cblxuICByZXR1cm4gc2hhZGVyO1xufTtcblxuanNtcGVnLnByb3RvdHlwZS5pbml0V2ViR0wgPSBmdW5jdGlvbigpIHtcbiAgLy8gYXR0ZW1wdCB0byBnZXQgYSB3ZWJnbCBjb250ZXh0XG4gIHRyeSB7XG4gICAgdmFyIGdsID0gdGhpcy5nbCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJykgfHwgdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoIWdsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gaW5pdCBidWZmZXJzXG4gIHRoaXMuYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLmJ1ZmZlcik7XG4gIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAwLCAxLCAxLCAwLCAxLCAxXSksIGdsLlNUQVRJQ19EUkFXKTtcblxuICAvLyBUaGUgbWFpbiBZQ2JDclRvUkdCQSBTaGFkZXJcbiAgdGhpcy5wcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuICBnbC5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLCB0aGlzLmNvbXBpbGVTaGFkZXIoZ2wuVkVSVEVYX1NIQURFUiwgU0hBREVSX1ZFUlRFWF9JREVOVElUWSkpO1xuICBnbC5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLCB0aGlzLmNvbXBpbGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSLCBTSEFERVJfRlJBR01FTlRfWUNCQ1JUT1JHQkEpKTtcbiAgZ2wubGlua1Byb2dyYW0odGhpcy5wcm9ncmFtKTtcblxuICBpZiggIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5wcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykgKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGdsLmdldFByb2dyYW1JbmZvTG9nKHRoaXMucHJvZ3JhbSkpO1xuICB9XG5cbiAgZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuXG4gIC8vIHNldHVwIHRleHR1cmVzXG4gIHRoaXMuWVRleHR1cmUgPSB0aGlzLmNyZWF0ZVRleHR1cmUoMCwgJ1lUZXh0dXJlJyk7XG4gIHRoaXMuQ0JUZXh0dXJlID0gdGhpcy5jcmVhdGVUZXh0dXJlKDEsICdDQlRleHR1cmUnKTtcbiAgdGhpcy5DUlRleHR1cmUgPSB0aGlzLmNyZWF0ZVRleHR1cmUoMiwgJ0NSVGV4dHVyZScpO1xuXG4gIHZhciB2ZXJ0ZXhBdHRyID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5wcm9ncmFtLCAndmVydGV4Jyk7XG4gIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHZlcnRleEF0dHIpO1xuICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHZlcnRleEF0dHIsIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG5cblxuICAvLyBTaGFkZXIgZm9yIHRoZSBsb2FkaW5nIHNjcmVlblxuICB0aGlzLmxvYWRpbmdQcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuICBnbC5hdHRhY2hTaGFkZXIodGhpcy5sb2FkaW5nUHJvZ3JhbSwgdGhpcy5jb21waWxlU2hhZGVyKGdsLlZFUlRFWF9TSEFERVIsIFNIQURFUl9WRVJURVhfSURFTlRJVFkpKTtcbiAgZ2wuYXR0YWNoU2hhZGVyKHRoaXMubG9hZGluZ1Byb2dyYW0sIHRoaXMuY29tcGlsZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIsIFNIQURFUl9GUkFHTUVOVF9MT0FESU5HKSk7XG4gIGdsLmxpbmtQcm9ncmFtKHRoaXMubG9hZGluZ1Byb2dyYW0pO1xuXG4gIGdsLnVzZVByb2dyYW0odGhpcy5sb2FkaW5nUHJvZ3JhbSk7XG5cbiAgdmVydGV4QXR0ciA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMubG9hZGluZ1Byb2dyYW0sICd2ZXJ0ZXgnKTtcbiAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodmVydGV4QXR0cik7XG4gIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodmVydGV4QXR0ciwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmpzbXBlZy5wcm90b3R5cGUucmVuZGVyRnJhbWVHTCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gIC8vIFdlYkdMIGRvZXNuJ3QgbGlrZSBVaW50OENsYW1wZWRBcnJheXMsIHNvIHdlIGhhdmUgdG8gY3JlYXRlIGEgVWludDhBcnJheSB2aWV3IGZvclxuICAvLyBlYWNoIHBsYW5lXG4gIHZhciB1aW50OFkgPSBuZXcgVWludDhBcnJheSh0aGlzLmN1cnJlbnRZLmJ1ZmZlciksXG4gICAgdWludDhDciA9IG5ldyBVaW50OEFycmF5KHRoaXMuY3VycmVudENyLmJ1ZmZlciksXG4gICAgdWludDhDYiA9IG5ldyBVaW50OEFycmF5KHRoaXMuY3VycmVudENiLmJ1ZmZlcik7XG5cbiAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7XG4gIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuWVRleHR1cmUpO1xuXG4gIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuTFVNSU5BTkNFLCB0aGlzLmNvZGVkV2lkdGgsIHRoaXMuaGVpZ2h0LCAwLCBnbC5MVU1JTkFOQ0UsIGdsLlVOU0lHTkVEX0JZVEUsIHVpbnQ4WSk7XG5cbiAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMSk7XG4gIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuQ0JUZXh0dXJlKTtcbiAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5MVU1JTkFOQ0UsIHRoaXMuaGFsZldpZHRoLCB0aGlzLmhlaWdodC8yLCAwLCBnbC5MVU1JTkFOQ0UsIGdsLlVOU0lHTkVEX0JZVEUsIHVpbnQ4Q3IpO1xuXG4gIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTIpO1xuICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLkNSVGV4dHVyZSk7XG4gIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuTFVNSU5BTkNFLCB0aGlzLmhhbGZXaWR0aCwgdGhpcy5oZWlnaHQvMiwgMCwgZ2wuTFVNSU5BTkNFLCBnbC5VTlNJR05FRF9CWVRFLCB1aW50OENiKTtcblxuICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbn07XG5cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU2xpY2UgTGF5ZXJcblxuanNtcGVnLnByb3RvdHlwZS5xdWFudGl6ZXJTY2FsZSA9IDA7XG5qc21wZWcucHJvdG90eXBlLnNsaWNlQmVnaW4gPSBmYWxzZTtcblxuanNtcGVnLnByb3RvdHlwZS5kZWNvZGVTbGljZSA9IGZ1bmN0aW9uKHNsaWNlKSB7XG4gIHRoaXMuc2xpY2VCZWdpbiA9IHRydWU7XG4gIHRoaXMubWFjcm9ibG9ja0FkZHJlc3MgPSAoc2xpY2UgLSAxKSAqIHRoaXMubWJXaWR0aCAtIDE7XG5cbiAgLy8gUmVzZXQgbW90aW9uIHZlY3RvcnMgYW5kIERDIHByZWRpY3RvcnNcbiAgdGhpcy5tb3Rpb25Gd0ggPSB0aGlzLm1vdGlvbkZ3SFByZXYgPSAwO1xuICB0aGlzLm1vdGlvbkZ3ViA9IHRoaXMubW90aW9uRndWUHJldiA9IDA7XG4gIHRoaXMuZGNQcmVkaWN0b3JZICA9IDEyODtcbiAgdGhpcy5kY1ByZWRpY3RvckNyID0gMTI4O1xuICB0aGlzLmRjUHJlZGljdG9yQ2IgPSAxMjg7XG5cbiAgdGhpcy5xdWFudGl6ZXJTY2FsZSA9IHRoaXMuYnVmZmVyLmdldEJpdHMoNSk7XG5cbiAgLy8gc2tpcCBleHRyYSBiaXRzXG4gIHdoaWxlKCB0aGlzLmJ1ZmZlci5nZXRCaXRzKDEpICkge1xuICAgIHRoaXMuYnVmZmVyLmFkdmFuY2UoOCk7XG4gIH1cblxuICBkbyB7XG4gICAgdGhpcy5kZWNvZGVNYWNyb2Jsb2NrKCk7XG4gICAgLy8gV2UgbWF5IGhhdmUgdG8gaWdub3JlIFZpZGVvIFN0cmVhbSBTdGFydCBDb2RlcyBoZXJlICgweEUwKSE/XG4gIH0gd2hpbGUoICF0aGlzLmJ1ZmZlci5uZXh0Qnl0ZXNBcmVTdGFydENvZGUoKSApO1xufVxuXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIE1hY3JvYmxvY2sgTGF5ZXJcblxuanNtcGVnLnByb3RvdHlwZS5tYWNyb2Jsb2NrQWRkcmVzcyA9IDA7XG5qc21wZWcucHJvdG90eXBlLm1iUm93ID0gMDtcbmpzbXBlZy5wcm90b3R5cGUubWJDb2wgPSAwO1xuXG5qc21wZWcucHJvdG90eXBlLm1hY3JvYmxvY2tUeXBlID0gMDtcbmpzbXBlZy5wcm90b3R5cGUubWFjcm9ibG9ja0ludHJhID0gZmFsc2U7XG5qc21wZWcucHJvdG90eXBlLm1hY3JvYmxvY2tNb3RGdyA9IGZhbHNlO1xuXG5qc21wZWcucHJvdG90eXBlLm1vdGlvbkZ3SCA9IDA7XG5qc21wZWcucHJvdG90eXBlLm1vdGlvbkZ3ViA9IDA7XG5qc21wZWcucHJvdG90eXBlLm1vdGlvbkZ3SFByZXYgPSAwO1xuanNtcGVnLnByb3RvdHlwZS5tb3Rpb25Gd1ZQcmV2ID0gMDtcblxuanNtcGVnLnByb3RvdHlwZS5kZWNvZGVNYWNyb2Jsb2NrID0gZnVuY3Rpb24oKSB7XG4gIC8vIERlY29kZSBtYWNyb2Jsb2NrX2FkZHJlc3NfaW5jcmVtZW50XG4gIHZhclxuICAgIGluY3JlbWVudCA9IDAsXG4gICAgdCA9IHRoaXMucmVhZENvZGUoTUFDUk9CTE9DS19BRERSRVNTX0lOQ1JFTUVOVCk7XG5cbiAgd2hpbGUoIHQgPT0gMzQgKSB7XG4gICAgLy8gbWFjcm9ibG9ja19zdHVmZmluZ1xuICAgIHQgPSB0aGlzLnJlYWRDb2RlKE1BQ1JPQkxPQ0tfQUREUkVTU19JTkNSRU1FTlQpO1xuICB9XG4gIHdoaWxlKCB0ID09IDM1ICkge1xuICAgIC8vIG1hY3JvYmxvY2tfZXNjYXBlXG4gICAgaW5jcmVtZW50ICs9IDMzO1xuICAgIHQgPSB0aGlzLnJlYWRDb2RlKE1BQ1JPQkxPQ0tfQUREUkVTU19JTkNSRU1FTlQpO1xuICB9XG4gIGluY3JlbWVudCArPSB0O1xuXG4gIC8vIFByb2Nlc3MgYW55IHNraXBwZWQgbWFjcm9ibG9ja3NcbiAgaWYoIHRoaXMuc2xpY2VCZWdpbiApIHtcbiAgICAvLyBUaGUgZmlyc3QgbWFjcm9ibG9ja19hZGRyZXNzX2luY3JlbWVudCBvZiBlYWNoIHNsaWNlIGlzIHJlbGF0aXZlXG4gICAgLy8gdG8gYmVnaW5uaW5nIG9mIHRoZSBwcmV2ZXJpb3VzIHJvdywgbm90IHRoZSBwcmV2ZXJpb3VzIG1hY3JvYmxvY2tcbiAgICB0aGlzLnNsaWNlQmVnaW4gPSBmYWxzZTtcbiAgICB0aGlzLm1hY3JvYmxvY2tBZGRyZXNzICs9IGluY3JlbWVudDtcbiAgfVxuICBlbHNlIHtcbiAgICBpZiggdGhpcy5tYWNyb2Jsb2NrQWRkcmVzcyArIGluY3JlbWVudCA+PSB0aGlzLm1iU2l6ZSApIHtcbiAgICAgIC8vIElsbGVnYWwgKHRvbyBsYXJnZSkgbWFjcm9ibG9ja19hZGRyZXNzX2luY3JlbWVudFxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiggaW5jcmVtZW50ID4gMSApIHtcbiAgICAgIC8vIFNraXBwZWQgbWFjcm9ibG9ja3MgcmVzZXQgREMgcHJlZGljdG9yc1xuICAgICAgdGhpcy5kY1ByZWRpY3RvclkgID0gMTI4O1xuICAgICAgdGhpcy5kY1ByZWRpY3RvckNyID0gMTI4O1xuICAgICAgdGhpcy5kY1ByZWRpY3RvckNiID0gMTI4O1xuXG4gICAgICAvLyBTa2lwcGVkIG1hY3JvYmxvY2tzIGluIFAtcGljdHVyZXMgcmVzZXQgbW90aW9uIHZlY3RvcnNcbiAgICAgIGlmKCB0aGlzLnBpY3R1cmVDb2RpbmdUeXBlID09IFBJQ1RVUkVfVFlQRV9QICkge1xuICAgICAgICB0aGlzLm1vdGlvbkZ3SCA9IHRoaXMubW90aW9uRndIUHJldiA9IDA7XG4gICAgICAgIHRoaXMubW90aW9uRndWID0gdGhpcy5tb3Rpb25Gd1ZQcmV2ID0gMDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBQcmVkaWN0IHNraXBwZWQgbWFjcm9ibG9ja3NcbiAgICB3aGlsZSggaW5jcmVtZW50ID4gMSkge1xuICAgICAgdGhpcy5tYWNyb2Jsb2NrQWRkcmVzcysrO1xuICAgICAgdGhpcy5tYlJvdyA9ICh0aGlzLm1hY3JvYmxvY2tBZGRyZXNzIC8gdGhpcy5tYldpZHRoKXwwO1xuICAgICAgdGhpcy5tYkNvbCA9IHRoaXMubWFjcm9ibG9ja0FkZHJlc3MgJSB0aGlzLm1iV2lkdGg7XG4gICAgICB0aGlzLmNvcHlNYWNyb2Jsb2NrKHRoaXMubW90aW9uRndILCB0aGlzLm1vdGlvbkZ3ViwgdGhpcy5mb3J3YXJkWSwgdGhpcy5mb3J3YXJkQ3IsIHRoaXMuZm9yd2FyZENiKTtcbiAgICAgIGluY3JlbWVudC0tO1xuICAgIH1cbiAgICB0aGlzLm1hY3JvYmxvY2tBZGRyZXNzKys7XG4gIH1cbiAgdGhpcy5tYlJvdyA9ICh0aGlzLm1hY3JvYmxvY2tBZGRyZXNzIC8gdGhpcy5tYldpZHRoKXwwO1xuICB0aGlzLm1iQ29sID0gdGhpcy5tYWNyb2Jsb2NrQWRkcmVzcyAlIHRoaXMubWJXaWR0aDtcblxuICAvLyBQcm9jZXNzIHRoZSBjdXJyZW50IG1hY3JvYmxvY2tcbiAgdGhpcy5tYWNyb2Jsb2NrVHlwZSA9IHRoaXMucmVhZENvZGUoTUFDUk9CTE9DS19UWVBFX1RBQkxFU1t0aGlzLnBpY3R1cmVDb2RpbmdUeXBlXSk7XG4gIHRoaXMubWFjcm9ibG9ja0ludHJhID0gKHRoaXMubWFjcm9ibG9ja1R5cGUgJiAweDAxKTtcbiAgdGhpcy5tYWNyb2Jsb2NrTW90RncgPSAodGhpcy5tYWNyb2Jsb2NrVHlwZSAmIDB4MDgpO1xuXG4gIC8vIFF1YW50aXplciBzY2FsZVxuICBpZiggKHRoaXMubWFjcm9ibG9ja1R5cGUgJiAweDEwKSAhPSAwICkge1xuICAgIHRoaXMucXVhbnRpemVyU2NhbGUgPSB0aGlzLmJ1ZmZlci5nZXRCaXRzKDUpO1xuICB9XG5cbiAgaWYoIHRoaXMubWFjcm9ibG9ja0ludHJhICkge1xuICAgIC8vIEludHJhLWNvZGVkIG1hY3JvYmxvY2tzIHJlc2V0IG1vdGlvbiB2ZWN0b3JzXG4gICAgdGhpcy5tb3Rpb25Gd0ggPSB0aGlzLm1vdGlvbkZ3SFByZXYgPSAwO1xuICAgIHRoaXMubW90aW9uRndWID0gdGhpcy5tb3Rpb25Gd1ZQcmV2ID0gMDtcbiAgfVxuICBlbHNlIHtcbiAgICAvLyBOb24taW50cmEgbWFjcm9ibG9ja3MgcmVzZXQgREMgcHJlZGljdG9yc1xuICAgIHRoaXMuZGNQcmVkaWN0b3JZID0gMTI4O1xuICAgIHRoaXMuZGNQcmVkaWN0b3JDciA9IDEyODtcbiAgICB0aGlzLmRjUHJlZGljdG9yQ2IgPSAxMjg7XG5cbiAgICB0aGlzLmRlY29kZU1vdGlvblZlY3RvcnMoKTtcbiAgICB0aGlzLmNvcHlNYWNyb2Jsb2NrKHRoaXMubW90aW9uRndILCB0aGlzLm1vdGlvbkZ3ViwgdGhpcy5mb3J3YXJkWSwgdGhpcy5mb3J3YXJkQ3IsIHRoaXMuZm9yd2FyZENiKTtcbiAgfVxuXG4gIC8vIERlY29kZSBibG9ja3NcbiAgdmFyIGNicCA9ICgodGhpcy5tYWNyb2Jsb2NrVHlwZSAmIDB4MDIpICE9IDApXG4gICAgPyB0aGlzLnJlYWRDb2RlKENPREVfQkxPQ0tfUEFUVEVSTilcbiAgICA6ICh0aGlzLm1hY3JvYmxvY2tJbnRyYSA/IDB4M2YgOiAwKTtcblxuICBmb3IoIHZhciBibG9jayA9IDAsIG1hc2sgPSAweDIwOyBibG9jayA8IDY7IGJsb2NrKysgKSB7XG4gICAgaWYoIChjYnAgJiBtYXNrKSAhPSAwICkge1xuICAgICAgdGhpcy5kZWNvZGVCbG9jayhibG9jayk7XG4gICAgfVxuICAgIG1hc2sgPj49IDE7XG4gIH1cbn07XG5cblxuanNtcGVnLnByb3RvdHlwZS5kZWNvZGVNb3Rpb25WZWN0b3JzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBjb2RlLCBkLCByID0gMDtcblxuICAvLyBGb3J3YXJkXG4gIGlmKCB0aGlzLm1hY3JvYmxvY2tNb3RGdyApIHtcbiAgICAvLyBIb3Jpem9udGFsIGZvcndhcmRcbiAgICBjb2RlID0gdGhpcy5yZWFkQ29kZShNT1RJT04pO1xuICAgIGlmKCAoY29kZSAhPSAwKSAmJiAodGhpcy5mb3J3YXJkRiAhPSAxKSApIHtcbiAgICAgIHIgPSB0aGlzLmJ1ZmZlci5nZXRCaXRzKHRoaXMuZm9yd2FyZFJTaXplKTtcbiAgICAgIGQgPSAoKE1hdGguYWJzKGNvZGUpIC0gMSkgPDwgdGhpcy5mb3J3YXJkUlNpemUpICsgciArIDE7XG4gICAgICBpZiggY29kZSA8IDAgKSB7XG4gICAgICAgIGQgPSAtZDtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBkID0gY29kZTtcbiAgICB9XG5cbiAgICB0aGlzLm1vdGlvbkZ3SFByZXYgKz0gZDtcbiAgICBpZiggdGhpcy5tb3Rpb25Gd0hQcmV2ID4gKHRoaXMuZm9yd2FyZEYgPDwgNCkgLSAxICkge1xuICAgICAgdGhpcy5tb3Rpb25Gd0hQcmV2IC09IHRoaXMuZm9yd2FyZEYgPDwgNTtcbiAgICB9XG4gICAgZWxzZSBpZiggdGhpcy5tb3Rpb25Gd0hQcmV2IDwgKCgtdGhpcy5mb3J3YXJkRikgPDwgNCkgKSB7XG4gICAgICB0aGlzLm1vdGlvbkZ3SFByZXYgKz0gdGhpcy5mb3J3YXJkRiA8PCA1O1xuICAgIH1cblxuICAgIHRoaXMubW90aW9uRndIID0gdGhpcy5tb3Rpb25Gd0hQcmV2O1xuICAgIGlmKCB0aGlzLmZ1bGxQZWxGb3J3YXJkICkge1xuICAgICAgdGhpcy5tb3Rpb25Gd0ggPDw9IDE7XG4gICAgfVxuXG4gICAgLy8gVmVydGljYWwgZm9yd2FyZFxuICAgIGNvZGUgPSB0aGlzLnJlYWRDb2RlKE1PVElPTik7XG4gICAgaWYoIChjb2RlICE9IDApICYmICh0aGlzLmZvcndhcmRGICE9IDEpICkge1xuICAgICAgciA9IHRoaXMuYnVmZmVyLmdldEJpdHModGhpcy5mb3J3YXJkUlNpemUpO1xuICAgICAgZCA9ICgoTWF0aC5hYnMoY29kZSkgLSAxKSA8PCB0aGlzLmZvcndhcmRSU2l6ZSkgKyByICsgMTtcbiAgICAgIGlmKCBjb2RlIDwgMCApIHtcbiAgICAgICAgZCA9IC1kO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGQgPSBjb2RlO1xuICAgIH1cblxuICAgIHRoaXMubW90aW9uRndWUHJldiArPSBkO1xuICAgIGlmKCB0aGlzLm1vdGlvbkZ3VlByZXYgPiAodGhpcy5mb3J3YXJkRiA8PCA0KSAtIDEgKSB7XG4gICAgICB0aGlzLm1vdGlvbkZ3VlByZXYgLT0gdGhpcy5mb3J3YXJkRiA8PCA1O1xuICAgIH1cbiAgICBlbHNlIGlmKCB0aGlzLm1vdGlvbkZ3VlByZXYgPCAoKC10aGlzLmZvcndhcmRGKSA8PCA0KSApIHtcbiAgICAgIHRoaXMubW90aW9uRndWUHJldiArPSB0aGlzLmZvcndhcmRGIDw8IDU7XG4gICAgfVxuXG4gICAgdGhpcy5tb3Rpb25Gd1YgPSB0aGlzLm1vdGlvbkZ3VlByZXY7XG4gICAgaWYoIHRoaXMuZnVsbFBlbEZvcndhcmQgKSB7XG4gICAgICB0aGlzLm1vdGlvbkZ3ViA8PD0gMTtcbiAgICB9XG4gIH1cbiAgZWxzZSBpZiggdGhpcy5waWN0dXJlQ29kaW5nVHlwZSA9PSBQSUNUVVJFX1RZUEVfUCApIHtcbiAgICAvLyBObyBtb3Rpb24gaW5mb3JtYXRpb24gaW4gUC1waWN0dXJlLCByZXNldCB2ZWN0b3JzXG4gICAgdGhpcy5tb3Rpb25Gd0ggPSB0aGlzLm1vdGlvbkZ3SFByZXYgPSAwO1xuICAgIHRoaXMubW90aW9uRndWID0gdGhpcy5tb3Rpb25Gd1ZQcmV2ID0gMDtcbiAgfVxufTtcblxuanNtcGVnLnByb3RvdHlwZS5jb3B5TWFjcm9ibG9jayA9IGZ1bmN0aW9uKG1vdGlvbkgsIG1vdGlvblYsIHNZLCBzQ3IsIHNDYiApIHtcbiAgdmFyXG4gICAgd2lkdGgsIHNjYW4sXG4gICAgSCwgViwgb2RkSCwgb2RkVixcbiAgICBzcmMsIGRlc3QsIGxhc3Q7XG5cbiAgLy8gV2UgdXNlIDMyYml0IHdyaXRlcyBoZXJlXG4gIHZhciBkWSA9IHRoaXMuY3VycmVudFkzMjtcbiAgdmFyIGRDYiA9IHRoaXMuY3VycmVudENiMzI7XG4gIHZhciBkQ3IgPSB0aGlzLmN1cnJlbnRDcjMyO1xuXG4gIC8vIEx1bWluYW5jZVxuICB3aWR0aCA9IHRoaXMuY29kZWRXaWR0aDtcbiAgc2NhbiA9IHdpZHRoIC0gMTY7XG5cbiAgSCA9IG1vdGlvbkggPj4gMTtcbiAgViA9IG1vdGlvblYgPj4gMTtcbiAgb2RkSCA9IChtb3Rpb25IICYgMSkgPT0gMTtcbiAgb2RkViA9IChtb3Rpb25WICYgMSkgPT0gMTtcblxuICBzcmMgPSAoKHRoaXMubWJSb3cgPDwgNCkgKyBWKSAqIHdpZHRoICsgKHRoaXMubWJDb2wgPDwgNCkgKyBIO1xuICBkZXN0ID0gKHRoaXMubWJSb3cgKiB3aWR0aCArIHRoaXMubWJDb2wpIDw8IDI7XG4gIGxhc3QgPSBkZXN0ICsgKHdpZHRoIDw8IDIpO1xuXG4gIHZhciB5MSwgeTIsIHk7XG4gIGlmKCBvZGRIICkge1xuICAgIGlmKCBvZGRWICkge1xuICAgICAgd2hpbGUoIGRlc3QgPCBsYXN0ICkge1xuICAgICAgICB5MSA9IHNZW3NyY10gKyBzWVtzcmMrd2lkdGhdOyBzcmMrKztcbiAgICAgICAgZm9yKCB2YXIgeCA9IDA7IHggPCA0OyB4KysgKSB7XG4gICAgICAgICAgeTIgPSBzWVtzcmNdICsgc1lbc3JjK3dpZHRoXTsgc3JjKys7XG4gICAgICAgICAgeSA9ICgoKHkxICsgeTIgKyAyKSA+PiAyKSAmIDB4ZmYpO1xuXG4gICAgICAgICAgeTEgPSBzWVtzcmNdICsgc1lbc3JjK3dpZHRoXTsgc3JjKys7XG4gICAgICAgICAgeSB8PSAoKCh5MSArIHkyICsgMikgPDwgNikgJiAweGZmMDApO1xuXG4gICAgICAgICAgeTIgPSBzWVtzcmNdICsgc1lbc3JjK3dpZHRoXTsgc3JjKys7XG4gICAgICAgICAgeSB8PSAoKCh5MSArIHkyICsgMikgPDwgMTQpICYgMHhmZjAwMDApO1xuXG4gICAgICAgICAgeTEgPSBzWVtzcmNdICsgc1lbc3JjK3dpZHRoXTsgc3JjKys7XG4gICAgICAgICAgeSB8PSAoKCh5MSArIHkyICsgMikgPDwgMjIpICYgMHhmZjAwMDAwMCk7XG5cbiAgICAgICAgICBkWVtkZXN0KytdID0geTtcbiAgICAgICAgfVxuICAgICAgICBkZXN0ICs9IHNjYW4gPj4gMjsgc3JjICs9IHNjYW4tMTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB3aGlsZSggZGVzdCA8IGxhc3QgKSB7XG4gICAgICAgIHkxID0gc1lbc3JjKytdO1xuICAgICAgICBmb3IoIHZhciB4ID0gMDsgeCA8IDQ7IHgrKyApIHtcbiAgICAgICAgICB5MiA9IHNZW3NyYysrXTtcbiAgICAgICAgICB5ID0gKCgoeTEgKyB5MiArIDEpID4+IDEpICYgMHhmZik7XG5cbiAgICAgICAgICB5MSA9IHNZW3NyYysrXTtcbiAgICAgICAgICB5IHw9ICgoKHkxICsgeTIgKyAxKSA8PCA3KSAmIDB4ZmYwMCk7XG5cbiAgICAgICAgICB5MiA9IHNZW3NyYysrXTtcbiAgICAgICAgICB5IHw9ICgoKHkxICsgeTIgKyAxKSA8PCAxNSkgJiAweGZmMDAwMCk7XG5cbiAgICAgICAgICB5MSA9IHNZW3NyYysrXTtcbiAgICAgICAgICB5IHw9ICgoKHkxICsgeTIgKyAxKSA8PCAyMykgJiAweGZmMDAwMDAwKTtcblxuICAgICAgICAgIGRZW2Rlc3QrK10gPSB5O1xuICAgICAgICB9XG4gICAgICAgIGRlc3QgKz0gc2NhbiA+PiAyOyBzcmMgKz0gc2Nhbi0xO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICBpZiggb2RkViApIHtcbiAgICAgIHdoaWxlKCBkZXN0IDwgbGFzdCApIHtcbiAgICAgICAgZm9yKCB2YXIgeCA9IDA7IHggPCA0OyB4KysgKSB7XG4gICAgICAgICAgeSA9ICgoKHNZW3NyY10gKyBzWVtzcmMrd2lkdGhdICsgMSkgPj4gMSkgJiAweGZmKTsgc3JjKys7XG4gICAgICAgICAgeSB8PSAoKChzWVtzcmNdICsgc1lbc3JjK3dpZHRoXSArIDEpIDw8IDcpICYgMHhmZjAwKTsgc3JjKys7XG4gICAgICAgICAgeSB8PSAoKChzWVtzcmNdICsgc1lbc3JjK3dpZHRoXSArIDEpIDw8IDE1KSAmIDB4ZmYwMDAwKTsgc3JjKys7XG4gICAgICAgICAgeSB8PSAoKChzWVtzcmNdICsgc1lbc3JjK3dpZHRoXSArIDEpIDw8IDIzKSAmIDB4ZmYwMDAwMDApOyBzcmMrKztcblxuICAgICAgICAgIGRZW2Rlc3QrK10gPSB5O1xuICAgICAgICB9XG4gICAgICAgIGRlc3QgKz0gc2NhbiA+PiAyOyBzcmMgKz0gc2NhbjtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB3aGlsZSggZGVzdCA8IGxhc3QgKSB7XG4gICAgICAgIGZvciggdmFyIHggPSAwOyB4IDwgNDsgeCsrICkge1xuICAgICAgICAgIHkgPSBzWVtzcmNdOyBzcmMrKztcbiAgICAgICAgICB5IHw9IHNZW3NyY10gPDwgODsgc3JjKys7XG4gICAgICAgICAgeSB8PSBzWVtzcmNdIDw8IDE2OyBzcmMrKztcbiAgICAgICAgICB5IHw9IHNZW3NyY10gPDwgMjQ7IHNyYysrO1xuXG4gICAgICAgICAgZFlbZGVzdCsrXSA9IHk7XG4gICAgICAgIH1cbiAgICAgICAgZGVzdCArPSBzY2FuID4+IDI7IHNyYyArPSBzY2FuO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIENocm9taW5hbmNlXG5cbiAgd2lkdGggPSB0aGlzLmhhbGZXaWR0aDtcbiAgc2NhbiA9IHdpZHRoIC0gODtcblxuICBIID0gKG1vdGlvbkgvMikgPj4gMTtcbiAgViA9IChtb3Rpb25WLzIpID4+IDE7XG4gIG9kZEggPSAoKG1vdGlvbkgvMikgJiAxKSA9PSAxO1xuICBvZGRWID0gKChtb3Rpb25WLzIpICYgMSkgPT0gMTtcblxuICBzcmMgPSAoKHRoaXMubWJSb3cgPDwgMykgKyBWKSAqIHdpZHRoICsgKHRoaXMubWJDb2wgPDwgMykgKyBIO1xuICBkZXN0ID0gKHRoaXMubWJSb3cgKiB3aWR0aCArIHRoaXMubWJDb2wpIDw8IDE7XG4gIGxhc3QgPSBkZXN0ICsgKHdpZHRoIDw8IDEpO1xuXG4gIHZhciBjcjEsIGNyMiwgY3I7XG4gIHZhciBjYjEsIGNiMiwgY2I7XG4gIGlmKCBvZGRIICkge1xuICAgIGlmKCBvZGRWICkge1xuICAgICAgd2hpbGUoIGRlc3QgPCBsYXN0ICkge1xuICAgICAgICBjcjEgPSBzQ3Jbc3JjXSArIHNDcltzcmMrd2lkdGhdO1xuICAgICAgICBjYjEgPSBzQ2Jbc3JjXSArIHNDYltzcmMrd2lkdGhdO1xuICAgICAgICBzcmMrKztcbiAgICAgICAgZm9yKCB2YXIgeCA9IDA7IHggPCAyOyB4KysgKSB7XG4gICAgICAgICAgY3IyID0gc0NyW3NyY10gKyBzQ3Jbc3JjK3dpZHRoXTtcbiAgICAgICAgICBjYjIgPSBzQ2Jbc3JjXSArIHNDYltzcmMrd2lkdGhdOyBzcmMrKztcbiAgICAgICAgICBjciA9ICgoKGNyMSArIGNyMiArIDIpID4+IDIpICYgMHhmZik7XG4gICAgICAgICAgY2IgPSAoKChjYjEgKyBjYjIgKyAyKSA+PiAyKSAmIDB4ZmYpO1xuXG4gICAgICAgICAgY3IxID0gc0NyW3NyY10gKyBzQ3Jbc3JjK3dpZHRoXTtcbiAgICAgICAgICBjYjEgPSBzQ2Jbc3JjXSArIHNDYltzcmMrd2lkdGhdOyBzcmMrKztcbiAgICAgICAgICBjciB8PSAoKChjcjEgKyBjcjIgKyAyKSA8PCA2KSAmIDB4ZmYwMCk7XG4gICAgICAgICAgY2IgfD0gKCgoY2IxICsgY2IyICsgMikgPDwgNikgJiAweGZmMDApO1xuXG4gICAgICAgICAgY3IyID0gc0NyW3NyY10gKyBzQ3Jbc3JjK3dpZHRoXTtcbiAgICAgICAgICBjYjIgPSBzQ2Jbc3JjXSArIHNDYltzcmMrd2lkdGhdOyBzcmMrKztcbiAgICAgICAgICBjciB8PSAoKChjcjEgKyBjcjIgKyAyKSA8PCAxNCkgJiAweGZmMDAwMCk7XG4gICAgICAgICAgY2IgfD0gKCgoY2IxICsgY2IyICsgMikgPDwgMTQpICYgMHhmZjAwMDApO1xuXG4gICAgICAgICAgY3IxID0gc0NyW3NyY10gKyBzQ3Jbc3JjK3dpZHRoXTtcbiAgICAgICAgICBjYjEgPSBzQ2Jbc3JjXSArIHNDYltzcmMrd2lkdGhdOyBzcmMrKztcbiAgICAgICAgICBjciB8PSAoKChjcjEgKyBjcjIgKyAyKSA8PCAyMikgJiAweGZmMDAwMDAwKTtcbiAgICAgICAgICBjYiB8PSAoKChjYjEgKyBjYjIgKyAyKSA8PCAyMikgJiAweGZmMDAwMDAwKTtcblxuICAgICAgICAgIGRDcltkZXN0XSA9IGNyO1xuICAgICAgICAgIGRDYltkZXN0XSA9IGNiO1xuICAgICAgICAgIGRlc3QrKztcbiAgICAgICAgfVxuICAgICAgICBkZXN0ICs9IHNjYW4gPj4gMjsgc3JjICs9IHNjYW4tMTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB3aGlsZSggZGVzdCA8IGxhc3QgKSB7XG4gICAgICAgIGNyMSA9IHNDcltzcmNdO1xuICAgICAgICBjYjEgPSBzQ2Jbc3JjXTtcbiAgICAgICAgc3JjKys7XG4gICAgICAgIGZvciggdmFyIHggPSAwOyB4IDwgMjsgeCsrICkge1xuICAgICAgICAgIGNyMiA9IHNDcltzcmNdO1xuICAgICAgICAgIGNiMiA9IHNDYltzcmMrK107XG4gICAgICAgICAgY3IgPSAoKChjcjEgKyBjcjIgKyAxKSA+PiAxKSAmIDB4ZmYpO1xuICAgICAgICAgIGNiID0gKCgoY2IxICsgY2IyICsgMSkgPj4gMSkgJiAweGZmKTtcblxuICAgICAgICAgIGNyMSA9IHNDcltzcmNdO1xuICAgICAgICAgIGNiMSA9IHNDYltzcmMrK107XG4gICAgICAgICAgY3IgfD0gKCgoY3IxICsgY3IyICsgMSkgPDwgNykgJiAweGZmMDApO1xuICAgICAgICAgIGNiIHw9ICgoKGNiMSArIGNiMiArIDEpIDw8IDcpICYgMHhmZjAwKTtcblxuICAgICAgICAgIGNyMiA9IHNDcltzcmNdO1xuICAgICAgICAgIGNiMiA9IHNDYltzcmMrK107XG4gICAgICAgICAgY3IgfD0gKCgoY3IxICsgY3IyICsgMSkgPDwgMTUpICYgMHhmZjAwMDApO1xuICAgICAgICAgIGNiIHw9ICgoKGNiMSArIGNiMiArIDEpIDw8IDE1KSAmIDB4ZmYwMDAwKTtcblxuICAgICAgICAgIGNyMSA9IHNDcltzcmNdO1xuICAgICAgICAgIGNiMSA9IHNDYltzcmMrK107XG4gICAgICAgICAgY3IgfD0gKCgoY3IxICsgY3IyICsgMSkgPDwgMjMpICYgMHhmZjAwMDAwMCk7XG4gICAgICAgICAgY2IgfD0gKCgoY2IxICsgY2IyICsgMSkgPDwgMjMpICYgMHhmZjAwMDAwMCk7XG5cbiAgICAgICAgICBkQ3JbZGVzdF0gPSBjcjtcbiAgICAgICAgICBkQ2JbZGVzdF0gPSBjYjtcbiAgICAgICAgICBkZXN0Kys7XG4gICAgICAgIH1cbiAgICAgICAgZGVzdCArPSBzY2FuID4+IDI7IHNyYyArPSBzY2FuLTE7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIGlmKCBvZGRWICkge1xuICAgICAgd2hpbGUoIGRlc3QgPCBsYXN0ICkge1xuICAgICAgICBmb3IoIHZhciB4ID0gMDsgeCA8IDI7IHgrKyApIHtcbiAgICAgICAgICBjciA9ICgoKHNDcltzcmNdICsgc0NyW3NyYyt3aWR0aF0gKyAxKSA+PiAxKSAmIDB4ZmYpO1xuICAgICAgICAgIGNiID0gKCgoc0NiW3NyY10gKyBzQ2Jbc3JjK3dpZHRoXSArIDEpID4+IDEpICYgMHhmZik7IHNyYysrO1xuXG4gICAgICAgICAgY3IgfD0gKCgoc0NyW3NyY10gKyBzQ3Jbc3JjK3dpZHRoXSArIDEpIDw8IDcpICYgMHhmZjAwKTtcbiAgICAgICAgICBjYiB8PSAoKChzQ2Jbc3JjXSArIHNDYltzcmMrd2lkdGhdICsgMSkgPDwgNykgJiAweGZmMDApOyBzcmMrKztcblxuICAgICAgICAgIGNyIHw9ICgoKHNDcltzcmNdICsgc0NyW3NyYyt3aWR0aF0gKyAxKSA8PCAxNSkgJiAweGZmMDAwMCk7XG4gICAgICAgICAgY2IgfD0gKCgoc0NiW3NyY10gKyBzQ2Jbc3JjK3dpZHRoXSArIDEpIDw8IDE1KSAmIDB4ZmYwMDAwKTsgc3JjKys7XG5cbiAgICAgICAgICBjciB8PSAoKChzQ3Jbc3JjXSArIHNDcltzcmMrd2lkdGhdICsgMSkgPDwgMjMpICYgMHhmZjAwMDAwMCk7XG4gICAgICAgICAgY2IgfD0gKCgoc0NiW3NyY10gKyBzQ2Jbc3JjK3dpZHRoXSArIDEpIDw8IDIzKSAmIDB4ZmYwMDAwMDApOyBzcmMrKztcblxuICAgICAgICAgIGRDcltkZXN0XSA9IGNyO1xuICAgICAgICAgIGRDYltkZXN0XSA9IGNiO1xuICAgICAgICAgIGRlc3QrKztcbiAgICAgICAgfVxuICAgICAgICBkZXN0ICs9IHNjYW4gPj4gMjsgc3JjICs9IHNjYW47XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgd2hpbGUoIGRlc3QgPCBsYXN0ICkge1xuICAgICAgICBmb3IoIHZhciB4ID0gMDsgeCA8IDI7IHgrKyApIHtcbiAgICAgICAgICBjciA9IHNDcltzcmNdO1xuICAgICAgICAgIGNiID0gc0NiW3NyY107IHNyYysrO1xuXG4gICAgICAgICAgY3IgfD0gc0NyW3NyY10gPDwgODtcbiAgICAgICAgICBjYiB8PSBzQ2Jbc3JjXSA8PCA4OyBzcmMrKztcblxuICAgICAgICAgIGNyIHw9IHNDcltzcmNdIDw8IDE2O1xuICAgICAgICAgIGNiIHw9IHNDYltzcmNdIDw8IDE2OyBzcmMrKztcblxuICAgICAgICAgIGNyIHw9IHNDcltzcmNdIDw8IDI0O1xuICAgICAgICAgIGNiIHw9IHNDYltzcmNdIDw8IDI0OyBzcmMrKztcblxuICAgICAgICAgIGRDcltkZXN0XSA9IGNyO1xuICAgICAgICAgIGRDYltkZXN0XSA9IGNiO1xuICAgICAgICAgIGRlc3QrKztcbiAgICAgICAgfVxuICAgICAgICBkZXN0ICs9IHNjYW4gPj4gMjsgc3JjICs9IHNjYW47XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEJsb2NrIGxheWVyXG5cbmpzbXBlZy5wcm90b3R5cGUuZGNQcmVkaWN0b3JZO1xuanNtcGVnLnByb3RvdHlwZS5kY1ByZWRpY3RvckNyO1xuanNtcGVnLnByb3RvdHlwZS5kY1ByZWRpY3RvckNiO1xuXG5qc21wZWcucHJvdG90eXBlLmJsb2NrRGF0YSA9IG51bGw7XG5qc21wZWcucHJvdG90eXBlLmRlY29kZUJsb2NrID0gZnVuY3Rpb24oYmxvY2spIHtcblxuICB2YXJcbiAgICBuID0gMCxcbiAgICBxdWFudE1hdHJpeDtcblxuICAvLyBEZWNvZGUgREMgY29lZmZpY2llbnQgb2YgaW50cmEtY29kZWQgYmxvY2tzXG4gIGlmKCB0aGlzLm1hY3JvYmxvY2tJbnRyYSApIHtcbiAgICB2YXJcbiAgICAgIHByZWRpY3RvcixcbiAgICAgIGRjdFNpemU7XG5cbiAgICAvLyBEQyBwcmVkaWN0aW9uXG5cbiAgICBpZiggYmxvY2sgPCA0ICkge1xuICAgICAgcHJlZGljdG9yID0gdGhpcy5kY1ByZWRpY3Rvclk7XG4gICAgICBkY3RTaXplID0gdGhpcy5yZWFkQ29kZShEQ1RfRENfU0laRV9MVU1JTkFOQ0UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHByZWRpY3RvciA9IChibG9jayA9PSA0ID8gdGhpcy5kY1ByZWRpY3RvckNyIDogdGhpcy5kY1ByZWRpY3RvckNiKTtcbiAgICAgIGRjdFNpemUgPSB0aGlzLnJlYWRDb2RlKERDVF9EQ19TSVpFX0NIUk9NSU5BTkNFKTtcbiAgICB9XG5cbiAgICAvLyBSZWFkIERDIGNvZWZmXG4gICAgaWYoIGRjdFNpemUgPiAwICkge1xuICAgICAgdmFyIGRpZmZlcmVudGlhbCA9IHRoaXMuYnVmZmVyLmdldEJpdHMoZGN0U2l6ZSk7XG4gICAgICBpZiggKGRpZmZlcmVudGlhbCAmICgxIDw8IChkY3RTaXplIC0gMSkpKSAhPSAwICkge1xuICAgICAgICB0aGlzLmJsb2NrRGF0YVswXSA9IHByZWRpY3RvciArIGRpZmZlcmVudGlhbDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmJsb2NrRGF0YVswXSA9IHByZWRpY3RvciArICgoLTEgPDwgZGN0U2l6ZSl8KGRpZmZlcmVudGlhbCsxKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5ibG9ja0RhdGFbMF0gPSBwcmVkaWN0b3I7XG4gICAgfVxuXG4gICAgLy8gU2F2ZSBwcmVkaWN0b3IgdmFsdWVcbiAgICBpZiggYmxvY2sgPCA0ICkge1xuICAgICAgdGhpcy5kY1ByZWRpY3RvclkgPSB0aGlzLmJsb2NrRGF0YVswXTtcbiAgICB9XG4gICAgZWxzZSBpZiggYmxvY2sgPT0gNCApIHtcbiAgICAgIHRoaXMuZGNQcmVkaWN0b3JDciA9IHRoaXMuYmxvY2tEYXRhWzBdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuZGNQcmVkaWN0b3JDYiA9IHRoaXMuYmxvY2tEYXRhWzBdO1xuICAgIH1cblxuICAgIC8vIERlcXVhbnRpemUgKyBwcmVtdWx0aXBseVxuICAgIHRoaXMuYmxvY2tEYXRhWzBdIDw8PSAoMyArIDUpO1xuXG4gICAgcXVhbnRNYXRyaXggPSB0aGlzLmludHJhUXVhbnRNYXRyaXg7XG4gICAgbiA9IDE7XG4gIH1cbiAgZWxzZSB7XG4gICAgcXVhbnRNYXRyaXggPSB0aGlzLm5vbkludHJhUXVhbnRNYXRyaXg7XG4gIH1cblxuICAvLyBEZWNvZGUgQUMgY29lZmZpY2llbnRzICgrREMgZm9yIG5vbi1pbnRyYSlcbiAgdmFyIGxldmVsID0gMDtcbiAgd2hpbGUoIHRydWUgKSB7XG4gICAgdmFyXG4gICAgICBydW4gPSAwLFxuICAgICAgY29lZmYgPSB0aGlzLnJlYWRDb2RlKERDVF9DT0VGRik7XG5cbiAgICBpZiggKGNvZWZmID09IDB4MDAwMSkgJiYgKG4gPiAwKSAmJiAodGhpcy5idWZmZXIuZ2V0Qml0cygxKSA9PSAwKSApIHtcbiAgICAgIC8vIGVuZF9vZl9ibG9ja1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmKCBjb2VmZiA9PSAweGZmZmYgKSB7XG4gICAgICAvLyBlc2NhcGVcbiAgICAgIHJ1biA9IHRoaXMuYnVmZmVyLmdldEJpdHMoNik7XG4gICAgICBsZXZlbCA9IHRoaXMuYnVmZmVyLmdldEJpdHMoOCk7XG4gICAgICBpZiggbGV2ZWwgPT0gMCApIHtcbiAgICAgICAgbGV2ZWwgPSB0aGlzLmJ1ZmZlci5nZXRCaXRzKDgpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiggbGV2ZWwgPT0gMTI4ICkge1xuICAgICAgICBsZXZlbCA9IHRoaXMuYnVmZmVyLmdldEJpdHMoOCkgLSAyNTY7XG4gICAgICB9XG4gICAgICBlbHNlIGlmKCBsZXZlbCA+IDEyOCApIHtcbiAgICAgICAgbGV2ZWwgPSBsZXZlbCAtIDI1NjtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBydW4gPSBjb2VmZiA+PiA4O1xuICAgICAgbGV2ZWwgPSBjb2VmZiAmIDB4ZmY7XG4gICAgICBpZiggdGhpcy5idWZmZXIuZ2V0Qml0cygxKSApIHtcbiAgICAgICAgbGV2ZWwgPSAtbGV2ZWw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbiArPSBydW47XG4gICAgdmFyIGRlemlnWmFnZ2VkID0gWklHX1pBR1tuXTtcbiAgICBuKys7XG5cbiAgICAvLyBEZXF1YW50aXplLCBvZGRpZnksIGNsaXBcbiAgICBsZXZlbCA8PD0gMTtcbiAgICBpZiggIXRoaXMubWFjcm9ibG9ja0ludHJhICkge1xuICAgICAgbGV2ZWwgKz0gKGxldmVsIDwgMCA/IC0xIDogMSk7XG4gICAgfVxuICAgIGxldmVsID0gKGxldmVsICogdGhpcy5xdWFudGl6ZXJTY2FsZSAqIHF1YW50TWF0cml4W2RlemlnWmFnZ2VkXSkgPj4gNDtcbiAgICBpZiggKGxldmVsICYgMSkgPT0gMCApIHtcbiAgICAgIGxldmVsIC09IGxldmVsID4gMCA/IDEgOiAtMTtcbiAgICB9XG4gICAgaWYoIGxldmVsID4gMjA0NyApIHtcbiAgICAgIGxldmVsID0gMjA0NztcbiAgICB9XG4gICAgZWxzZSBpZiggbGV2ZWwgPCAtMjA0OCApIHtcbiAgICAgIGxldmVsID0gLTIwNDg7XG4gICAgfVxuXG4gICAgLy8gU2F2ZSBwcmVtdWx0aXBsaWVkIGNvZWZmaWNpZW50XG4gICAgdGhpcy5ibG9ja0RhdGFbZGV6aWdaYWdnZWRdID0gbGV2ZWwgKiBQUkVNVUxUSVBMSUVSX01BVFJJWFtkZXppZ1phZ2dlZF07XG4gIH07XG5cbiAgLy8gTW92ZSBibG9jayB0byBpdHMgcGxhY2VcbiAgdmFyXG4gICAgZGVzdEFycmF5LFxuICAgIGRlc3RJbmRleCxcbiAgICBzY2FuO1xuXG4gIGlmKCBibG9jayA8IDQgKSB7XG4gICAgZGVzdEFycmF5ID0gdGhpcy5jdXJyZW50WTtcbiAgICBzY2FuID0gdGhpcy5jb2RlZFdpZHRoIC0gODtcbiAgICBkZXN0SW5kZXggPSAodGhpcy5tYlJvdyAqIHRoaXMuY29kZWRXaWR0aCArIHRoaXMubWJDb2wpIDw8IDQ7XG4gICAgaWYoIChibG9jayAmIDEpICE9IDAgKSB7XG4gICAgICBkZXN0SW5kZXggKz0gODtcbiAgICB9XG4gICAgaWYoIChibG9jayAmIDIpICE9IDAgKSB7XG4gICAgICBkZXN0SW5kZXggKz0gdGhpcy5jb2RlZFdpZHRoIDw8IDM7XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIGRlc3RBcnJheSA9IChibG9jayA9PSA0KSA/IHRoaXMuY3VycmVudENiIDogdGhpcy5jdXJyZW50Q3I7XG4gICAgc2NhbiA9ICh0aGlzLmNvZGVkV2lkdGggPj4gMSkgLSA4O1xuICAgIGRlc3RJbmRleCA9ICgodGhpcy5tYlJvdyAqIHRoaXMuY29kZWRXaWR0aCkgPDwgMikgKyAodGhpcy5tYkNvbCA8PCAzKTtcbiAgfVxuXG4gIGlmKCB0aGlzLm1hY3JvYmxvY2tJbnRyYSApIHtcbiAgICAvLyBPdmVyd3JpdGUgKG5vIHByZWRpY3Rpb24pXG4gICAgaWYgKG4gPT0gMSkge1xuICAgICAgdGhpcy5jb3B5VmFsdWVUb0Rlc3RpbmF0aW9uKCh0aGlzLmJsb2NrRGF0YVswXSArIDEyOCkgPj4gOCwgZGVzdEFycmF5LCBkZXN0SW5kZXgsIHNjYW4pO1xuICAgICAgdGhpcy5ibG9ja0RhdGFbMF0gPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLklEQ1QoKTtcbiAgICAgIHRoaXMuY29weUJsb2NrVG9EZXN0aW5hdGlvbih0aGlzLmJsb2NrRGF0YSwgZGVzdEFycmF5LCBkZXN0SW5kZXgsIHNjYW4pO1xuICAgICAgdGhpcy5ibG9ja0RhdGEuc2V0KHRoaXMuemVyb0Jsb2NrRGF0YSk7XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIC8vIEFkZCBkYXRhIHRvIHRoZSBwcmVkaWN0ZWQgbWFjcm9ibG9ja1xuICAgIGlmIChuID09IDEpIHtcbiAgICAgIHRoaXMuYWRkVmFsdWVUb0Rlc3RpbmF0aW9uKCh0aGlzLmJsb2NrRGF0YVswXSArIDEyOCkgPj4gOCwgZGVzdEFycmF5LCBkZXN0SW5kZXgsIHNjYW4pO1xuICAgICAgdGhpcy5ibG9ja0RhdGFbMF0gPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLklEQ1QoKTtcbiAgICAgIHRoaXMuYWRkQmxvY2tUb0Rlc3RpbmF0aW9uKHRoaXMuYmxvY2tEYXRhLCBkZXN0QXJyYXksIGRlc3RJbmRleCwgc2Nhbik7XG4gICAgICB0aGlzLmJsb2NrRGF0YS5zZXQodGhpcy56ZXJvQmxvY2tEYXRhKTtcbiAgICB9XG4gIH1cblxuICBuID0gMDtcbn07XG5cbmpzbXBlZy5wcm90b3R5cGUuY29weUJsb2NrVG9EZXN0aW5hdGlvbiA9IGZ1bmN0aW9uKGJsb2NrRGF0YSwgZGVzdEFycmF5LCBkZXN0SW5kZXgsIHNjYW4pIHtcbiAgZm9yKCB2YXIgbiA9IDA7IG4gPCA2NDsgbiArPSA4LCBkZXN0SW5kZXggKz0gc2Nhbis4ICkge1xuICAgIGRlc3RBcnJheVtkZXN0SW5kZXgrMF0gPSBibG9ja0RhdGFbbiswXTtcbiAgICBkZXN0QXJyYXlbZGVzdEluZGV4KzFdID0gYmxvY2tEYXRhW24rMV07XG4gICAgZGVzdEFycmF5W2Rlc3RJbmRleCsyXSA9IGJsb2NrRGF0YVtuKzJdO1xuICAgIGRlc3RBcnJheVtkZXN0SW5kZXgrM10gPSBibG9ja0RhdGFbbiszXTtcbiAgICBkZXN0QXJyYXlbZGVzdEluZGV4KzRdID0gYmxvY2tEYXRhW24rNF07XG4gICAgZGVzdEFycmF5W2Rlc3RJbmRleCs1XSA9IGJsb2NrRGF0YVtuKzVdO1xuICAgIGRlc3RBcnJheVtkZXN0SW5kZXgrNl0gPSBibG9ja0RhdGFbbis2XTtcbiAgICBkZXN0QXJyYXlbZGVzdEluZGV4KzddID0gYmxvY2tEYXRhW24rN107XG4gIH1cbn07XG5cbmpzbXBlZy5wcm90b3R5cGUuYWRkQmxvY2tUb0Rlc3RpbmF0aW9uID0gZnVuY3Rpb24oYmxvY2tEYXRhLCBkZXN0QXJyYXksIGRlc3RJbmRleCwgc2Nhbikge1xuICBmb3IoIHZhciBuID0gMDsgbiA8IDY0OyBuICs9IDgsIGRlc3RJbmRleCArPSBzY2FuKzggKSB7XG4gICAgZGVzdEFycmF5W2Rlc3RJbmRleCswXSArPSBibG9ja0RhdGFbbiswXTtcbiAgICBkZXN0QXJyYXlbZGVzdEluZGV4KzFdICs9IGJsb2NrRGF0YVtuKzFdO1xuICAgIGRlc3RBcnJheVtkZXN0SW5kZXgrMl0gKz0gYmxvY2tEYXRhW24rMl07XG4gICAgZGVzdEFycmF5W2Rlc3RJbmRleCszXSArPSBibG9ja0RhdGFbbiszXTtcbiAgICBkZXN0QXJyYXlbZGVzdEluZGV4KzRdICs9IGJsb2NrRGF0YVtuKzRdO1xuICAgIGRlc3RBcnJheVtkZXN0SW5kZXgrNV0gKz0gYmxvY2tEYXRhW24rNV07XG4gICAgZGVzdEFycmF5W2Rlc3RJbmRleCs2XSArPSBibG9ja0RhdGFbbis2XTtcbiAgICBkZXN0QXJyYXlbZGVzdEluZGV4KzddICs9IGJsb2NrRGF0YVtuKzddO1xuICB9XG59O1xuXG5qc21wZWcucHJvdG90eXBlLmNvcHlWYWx1ZVRvRGVzdGluYXRpb24gPSBmdW5jdGlvbih2YWx1ZSwgZGVzdEFycmF5LCBkZXN0SW5kZXgsIHNjYW4pIHtcbiAgZm9yKCB2YXIgbiA9IDA7IG4gPCA2NDsgbiArPSA4LCBkZXN0SW5kZXggKz0gc2Nhbis4ICkge1xuICAgIGRlc3RBcnJheVtkZXN0SW5kZXgrMF0gPSB2YWx1ZTtcbiAgICBkZXN0QXJyYXlbZGVzdEluZGV4KzFdID0gdmFsdWU7XG4gICAgZGVzdEFycmF5W2Rlc3RJbmRleCsyXSA9IHZhbHVlO1xuICAgIGRlc3RBcnJheVtkZXN0SW5kZXgrM10gPSB2YWx1ZTtcbiAgICBkZXN0QXJyYXlbZGVzdEluZGV4KzRdID0gdmFsdWU7XG4gICAgZGVzdEFycmF5W2Rlc3RJbmRleCs1XSA9IHZhbHVlO1xuICAgIGRlc3RBcnJheVtkZXN0SW5kZXgrNl0gPSB2YWx1ZTtcbiAgICBkZXN0QXJyYXlbZGVzdEluZGV4KzddID0gdmFsdWU7XG4gIH1cbn07XG5cbmpzbXBlZy5wcm90b3R5cGUuYWRkVmFsdWVUb0Rlc3RpbmF0aW9uID0gZnVuY3Rpb24odmFsdWUsIGRlc3RBcnJheSwgZGVzdEluZGV4LCBzY2FuKSB7XG4gIGZvciggdmFyIG4gPSAwOyBuIDwgNjQ7IG4gKz0gOCwgZGVzdEluZGV4ICs9IHNjYW4rOCApIHtcbiAgICBkZXN0QXJyYXlbZGVzdEluZGV4KzBdICs9IHZhbHVlO1xuICAgIGRlc3RBcnJheVtkZXN0SW5kZXgrMV0gKz0gdmFsdWU7XG4gICAgZGVzdEFycmF5W2Rlc3RJbmRleCsyXSArPSB2YWx1ZTtcbiAgICBkZXN0QXJyYXlbZGVzdEluZGV4KzNdICs9IHZhbHVlO1xuICAgIGRlc3RBcnJheVtkZXN0SW5kZXgrNF0gKz0gdmFsdWU7XG4gICAgZGVzdEFycmF5W2Rlc3RJbmRleCs1XSArPSB2YWx1ZTtcbiAgICBkZXN0QXJyYXlbZGVzdEluZGV4KzZdICs9IHZhbHVlO1xuICAgIGRlc3RBcnJheVtkZXN0SW5kZXgrN10gKz0gdmFsdWU7XG4gIH1cbn07XG5cbi8vIENsYW1waW5nIHZlcnNpb24gZm9yIHNoaXR0eSBicm93c2VycyAoSUUpIHRoYXQgZG9uJ3Qgc3VwcG9ydCBVaW50OENsYW1wZWRBcnJheVxuanNtcGVnLnByb3RvdHlwZS5jb3B5QmxvY2tUb0Rlc3RpbmF0aW9uQ2xhbXAgPSBmdW5jdGlvbihibG9ja0RhdGEsIGRlc3RBcnJheSwgZGVzdEluZGV4LCBzY2FuKSB7XG4gIHZhciBuID0gMDtcbiAgZm9yKCB2YXIgaSA9IDA7IGkgPCA4OyBpKysgKSB7XG4gICAgZm9yKCB2YXIgaiA9IDA7IGogPCA4OyBqKysgKSB7XG4gICAgICB2YXIgcCA9IGJsb2NrRGF0YVtuKytdO1xuICAgICAgZGVzdEFycmF5W2Rlc3RJbmRleCsrXSA9IHAgPiAyNTUgPyAyNTUgOiAocCA8IDAgPyAwIDogcCk7XG4gICAgfVxuICAgIGRlc3RJbmRleCArPSBzY2FuO1xuICB9XG59O1xuXG5qc21wZWcucHJvdG90eXBlLmFkZEJsb2NrVG9EZXN0aW5hdGlvbkNsYW1wID0gZnVuY3Rpb24oYmxvY2tEYXRhLCBkZXN0QXJyYXksIGRlc3RJbmRleCwgc2Nhbikge1xuICB2YXIgbiA9IDA7XG4gIGZvciggdmFyIGkgPSAwOyBpIDwgODsgaSsrICkge1xuICAgIGZvciggdmFyIGogPSAwOyBqIDwgODsgaisrICkge1xuICAgICAgdmFyIHAgPSBibG9ja0RhdGFbbisrXSArIGRlc3RBcnJheVtkZXN0SW5kZXhdO1xuICAgICAgZGVzdEFycmF5W2Rlc3RJbmRleCsrXSA9IHAgPiAyNTUgPyAyNTUgOiAocCA8IDAgPyAwIDogcCk7XG4gICAgfVxuICAgIGRlc3RJbmRleCArPSBzY2FuO1xuICB9XG59O1xuXG5qc21wZWcucHJvdG90eXBlLklEQ1QgPSBmdW5jdGlvbigpIHtcbiAgLy8gU2VlIGh0dHA6Ly92c3IuaW5mb3JtYXRpay50dS1jaGVtbml0ei5kZS9+amFuL01QRUcvSFRNTC9JRENULmh0bWxcbiAgLy8gZm9yIG1vcmUgaW5mby5cblxuICB2YXJcbiAgICBiMSwgYjMsIGI0LCBiNiwgYjcsIHRtcDEsIHRtcDIsIG0wLFxuICAgIHgwLCB4MSwgeDIsIHgzLCB4NCwgeTMsIHk0LCB5NSwgeTYsIHk3LFxuICAgIGksXG4gICAgYmxvY2tEYXRhID0gdGhpcy5ibG9ja0RhdGE7XG5cbiAgLy8gVHJhbnNmb3JtIGNvbHVtbnNcbiAgZm9yKCBpID0gMDsgaSA8IDg7ICsraSApIHtcbiAgICBiMSA9ICBibG9ja0RhdGFbNCo4K2ldO1xuICAgIGIzID0gIGJsb2NrRGF0YVsyKjgraV0gKyBibG9ja0RhdGFbNio4K2ldO1xuICAgIGI0ID0gIGJsb2NrRGF0YVs1KjgraV0gLSBibG9ja0RhdGFbMyo4K2ldO1xuICAgIHRtcDEgPSBibG9ja0RhdGFbMSo4K2ldICsgYmxvY2tEYXRhWzcqOCtpXTtcbiAgICB0bXAyID0gYmxvY2tEYXRhWzMqOCtpXSArIGJsb2NrRGF0YVs1KjgraV07XG4gICAgYjYgPSBibG9ja0RhdGFbMSo4K2ldIC0gYmxvY2tEYXRhWzcqOCtpXTtcbiAgICBiNyA9IHRtcDEgKyB0bXAyO1xuICAgIG0wID0gIGJsb2NrRGF0YVswKjgraV07XG4gICAgeDQgPSAgKChiNio0NzMgLSBiNCoxOTYgKyAxMjgpID4+IDgpIC0gYjc7XG4gICAgeDAgPSAgeDQgLSAoKCh0bXAxIC0gdG1wMikqMzYyICsgMTI4KSA+PiA4KTtcbiAgICB4MSA9ICBtMCAtIGIxO1xuICAgIHgyID0gICgoKGJsb2NrRGF0YVsyKjgraV0gLSBibG9ja0RhdGFbNio4K2ldKSozNjIgKyAxMjgpID4+IDgpIC0gYjM7XG4gICAgeDMgPSAgbTAgKyBiMTtcbiAgICB5MyA9ICB4MSArIHgyO1xuICAgIHk0ID0gIHgzICsgYjM7XG4gICAgeTUgPSAgeDEgLSB4MjtcbiAgICB5NiA9ICB4MyAtIGIzO1xuICAgIHk3ID0gLXgwIC0gKChiNCo0NzMgKyBiNioxOTYgKyAxMjgpID4+IDgpO1xuICAgIGJsb2NrRGF0YVswKjgraV0gPSAgYjcgKyB5NDtcbiAgICBibG9ja0RhdGFbMSo4K2ldID0gIHg0ICsgeTM7XG4gICAgYmxvY2tEYXRhWzIqOCtpXSA9ICB5NSAtIHgwO1xuICAgIGJsb2NrRGF0YVszKjgraV0gPSAgeTYgLSB5NztcbiAgICBibG9ja0RhdGFbNCo4K2ldID0gIHk2ICsgeTc7XG4gICAgYmxvY2tEYXRhWzUqOCtpXSA9ICB4MCArIHk1O1xuICAgIGJsb2NrRGF0YVs2KjgraV0gPSAgeTMgLSB4NDtcbiAgICBibG9ja0RhdGFbNyo4K2ldID0gIHk0IC0gYjc7XG4gIH1cblxuICAvLyBUcmFuc2Zvcm0gcm93c1xuICBmb3IoIGkgPSAwOyBpIDwgNjQ7IGkgKz0gOCApIHtcbiAgICBiMSA9ICBibG9ja0RhdGFbNCtpXTtcbiAgICBiMyA9ICBibG9ja0RhdGFbMitpXSArIGJsb2NrRGF0YVs2K2ldO1xuICAgIGI0ID0gIGJsb2NrRGF0YVs1K2ldIC0gYmxvY2tEYXRhWzMraV07XG4gICAgdG1wMSA9IGJsb2NrRGF0YVsxK2ldICsgYmxvY2tEYXRhWzcraV07XG4gICAgdG1wMiA9IGJsb2NrRGF0YVszK2ldICsgYmxvY2tEYXRhWzUraV07XG4gICAgYjYgPSBibG9ja0RhdGFbMStpXSAtIGJsb2NrRGF0YVs3K2ldO1xuICAgIGI3ID0gdG1wMSArIHRtcDI7XG4gICAgbTAgPSAgYmxvY2tEYXRhWzAraV07XG4gICAgeDQgPSAgKChiNio0NzMgLSBiNCoxOTYgKyAxMjgpID4+IDgpIC0gYjc7XG4gICAgeDAgPSAgeDQgLSAoKCh0bXAxIC0gdG1wMikqMzYyICsgMTI4KSA+PiA4KTtcbiAgICB4MSA9ICBtMCAtIGIxO1xuICAgIHgyID0gICgoKGJsb2NrRGF0YVsyK2ldIC0gYmxvY2tEYXRhWzYraV0pKjM2MiArIDEyOCkgPj4gOCkgLSBiMztcbiAgICB4MyA9ICBtMCArIGIxO1xuICAgIHkzID0gIHgxICsgeDI7XG4gICAgeTQgPSAgeDMgKyBiMztcbiAgICB5NSA9ICB4MSAtIHgyO1xuICAgIHk2ID0gIHgzIC0gYjM7XG4gICAgeTcgPSAteDAgLSAoKGI0KjQ3MyArIGI2KjE5NiArIDEyOCkgPj4gOCk7XG4gICAgYmxvY2tEYXRhWzAraV0gPSAgKGI3ICsgeTQgKyAxMjgpID4+IDg7XG4gICAgYmxvY2tEYXRhWzEraV0gPSAgKHg0ICsgeTMgKyAxMjgpID4+IDg7XG4gICAgYmxvY2tEYXRhWzIraV0gPSAgKHk1IC0geDAgKyAxMjgpID4+IDg7XG4gICAgYmxvY2tEYXRhWzMraV0gPSAgKHk2IC0geTcgKyAxMjgpID4+IDg7XG4gICAgYmxvY2tEYXRhWzQraV0gPSAgKHk2ICsgeTcgKyAxMjgpID4+IDg7XG4gICAgYmxvY2tEYXRhWzUraV0gPSAgKHgwICsgeTUgKyAxMjgpID4+IDg7XG4gICAgYmxvY2tEYXRhWzYraV0gPSAgKHkzIC0geDQgKyAxMjgpID4+IDg7XG4gICAgYmxvY2tEYXRhWzcraV0gPSAgKHk0IC0gYjcgKyAxMjgpID4+IDg7XG4gIH1cbn07XG5cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVkxDIFRhYmxlcyBhbmQgQ29uc3RhbnRzXG5cbnZhclxuICBTT0NLRVRfTUFHSUNfQllURVMgPSAnanNtcCcsXG4gIERFQ09ERV9TS0lQX09VVFBVVCA9IDEsXG4gIFBJQ1RVUkVfUkFURSA9IFtcbiAgICAwLjAwMCwgMjMuOTc2LCAyNC4wMDAsIDI1LjAwMCwgMjkuOTcwLCAzMC4wMDAsIDUwLjAwMCwgNTkuOTQwLFxuICAgIDYwLjAwMCwgIDAuMDAwLCAgMC4wMDAsICAwLjAwMCwgIDAuMDAwLCAgMC4wMDAsICAwLjAwMCwgIDAuMDAwXG4gIF0sXG4gIFpJR19aQUcgPSBuZXcgVWludDhBcnJheShbXG4gICAgIDAsICAxLCAgOCwgMTYsICA5LCAgMiwgIDMsIDEwLFxuICAgIDE3LCAyNCwgMzIsIDI1LCAxOCwgMTEsICA0LCAgNSxcbiAgICAxMiwgMTksIDI2LCAzMywgNDAsIDQ4LCA0MSwgMzQsXG4gICAgMjcsIDIwLCAxMywgIDYsICA3LCAxNCwgMjEsIDI4LFxuICAgIDM1LCA0MiwgNDksIDU2LCA1NywgNTAsIDQzLCAzNixcbiAgICAyOSwgMjIsIDE1LCAyMywgMzAsIDM3LCA0NCwgNTEsXG4gICAgNTgsIDU5LCA1MiwgNDUsIDM4LCAzMSwgMzksIDQ2LFxuICAgIDUzLCA2MCwgNjEsIDU0LCA0NywgNTUsIDYyLCA2M1xuICBdKSxcbiAgREVGQVVMVF9JTlRSQV9RVUFOVF9NQVRSSVggPSBuZXcgVWludDhBcnJheShbXG4gICAgIDgsIDE2LCAxOSwgMjIsIDI2LCAyNywgMjksIDM0LFxuICAgIDE2LCAxNiwgMjIsIDI0LCAyNywgMjksIDM0LCAzNyxcbiAgICAxOSwgMjIsIDI2LCAyNywgMjksIDM0LCAzNCwgMzgsXG4gICAgMjIsIDIyLCAyNiwgMjcsIDI5LCAzNCwgMzcsIDQwLFxuICAgIDIyLCAyNiwgMjcsIDI5LCAzMiwgMzUsIDQwLCA0OCxcbiAgICAyNiwgMjcsIDI5LCAzMiwgMzUsIDQwLCA0OCwgNTgsXG4gICAgMjYsIDI3LCAyOSwgMzQsIDM4LCA0NiwgNTYsIDY5LFxuICAgIDI3LCAyOSwgMzUsIDM4LCA0NiwgNTYsIDY5LCA4M1xuICBdKSxcbiAgREVGQVVMVF9OT05fSU5UUkFfUVVBTlRfTUFUUklYID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNixcbiAgICAxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTYsXG4gICAgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LFxuICAgIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNixcbiAgICAxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTYsXG4gICAgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LFxuICAgIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNixcbiAgICAxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTZcbiAgXSksXG5cbiAgUFJFTVVMVElQTElFUl9NQVRSSVggPSBuZXcgVWludDhBcnJheShbXG4gICAgMzIsIDQ0LCA0MiwgMzgsIDMyLCAyNSwgMTcsICA5LFxuICAgIDQ0LCA2MiwgNTgsIDUyLCA0NCwgMzUsIDI0LCAxMixcbiAgICA0MiwgNTgsIDU1LCA0OSwgNDIsIDMzLCAyMywgMTIsXG4gICAgMzgsIDUyLCA0OSwgNDQsIDM4LCAzMCwgMjAsIDEwLFxuICAgIDMyLCA0NCwgNDIsIDM4LCAzMiwgMjUsIDE3LCAgOSxcbiAgICAyNSwgMzUsIDMzLCAzMCwgMjUsIDIwLCAxNCwgIDcsXG4gICAgMTcsIDI0LCAyMywgMjAsIDE3LCAxNCwgIDksICA1LFxuICAgICA5LCAxMiwgMTIsIDEwLCAgOSwgIDcsICA1LCAgMlxuICBdKSxcblxuICAvLyBNUEVHLTEgVkxDXG5cbiAgLy8gIG1hY3JvYmxvY2tfc3R1ZmZpbmcgZGVjb2RlcyBhcyAzNC5cbiAgLy8gIG1hY3JvYmxvY2tfZXNjYXBlIGRlY29kZXMgYXMgMzUuXG5cbiAgTUFDUk9CTE9DS19BRERSRVNTX0lOQ1JFTUVOVCA9IG5ldyBJbnQxNkFycmF5KFtcbiAgICAgMSozLCAgMiozLCAgMCwgLy8gICAwXG4gICAgIDMqMywgIDQqMywgIDAsIC8vICAgMSAgMFxuICAgICAgIDAsICAgIDAsICAxLCAvLyAgIDIgIDEuXG4gICAgIDUqMywgIDYqMywgIDAsIC8vICAgMyAgMDBcbiAgICAgNyozLCAgOCozLCAgMCwgLy8gICA0ICAwMVxuICAgICA5KjMsIDEwKjMsICAwLCAvLyAgIDUgIDAwMFxuICAgIDExKjMsIDEyKjMsICAwLCAvLyAgIDYgIDAwMVxuICAgICAgIDAsICAgIDAsICAzLCAvLyAgIDcgIDAxMC5cbiAgICAgICAwLCAgICAwLCAgMiwgLy8gICA4ICAwMTEuXG4gICAgMTMqMywgMTQqMywgIDAsIC8vICAgOSAgMDAwMFxuICAgIDE1KjMsIDE2KjMsICAwLCAvLyAgMTAgIDAwMDFcbiAgICAgICAwLCAgICAwLCAgNSwgLy8gIDExICAwMDEwLlxuICAgICAgIDAsICAgIDAsICA0LCAvLyAgMTIgIDAwMTEuXG4gICAgMTcqMywgMTgqMywgIDAsIC8vICAxMyAgMDAwMCAwXG4gICAgMTkqMywgMjAqMywgIDAsIC8vICAxNCAgMDAwMCAxXG4gICAgICAgMCwgICAgMCwgIDcsIC8vICAxNSAgMDAwMSAwLlxuICAgICAgIDAsICAgIDAsICA2LCAvLyAgMTYgIDAwMDEgMS5cbiAgICAyMSozLCAyMiozLCAgMCwgLy8gIDE3ICAwMDAwIDAwXG4gICAgMjMqMywgMjQqMywgIDAsIC8vICAxOCAgMDAwMCAwMVxuICAgIDI1KjMsIDI2KjMsICAwLCAvLyAgMTkgIDAwMDAgMTBcbiAgICAyNyozLCAyOCozLCAgMCwgLy8gIDIwICAwMDAwIDExXG4gICAgICAtMSwgMjkqMywgIDAsIC8vICAyMSAgMDAwMCAwMDBcbiAgICAgIC0xLCAzMCozLCAgMCwgLy8gIDIyICAwMDAwIDAwMVxuICAgIDMxKjMsIDMyKjMsICAwLCAvLyAgMjMgIDAwMDAgMDEwXG4gICAgMzMqMywgMzQqMywgIDAsIC8vICAyNCAgMDAwMCAwMTFcbiAgICAzNSozLCAzNiozLCAgMCwgLy8gIDI1ICAwMDAwIDEwMFxuICAgIDM3KjMsIDM4KjMsICAwLCAvLyAgMjYgIDAwMDAgMTAxXG4gICAgICAgMCwgICAgMCwgIDksIC8vICAyNyAgMDAwMCAxMTAuXG4gICAgICAgMCwgICAgMCwgIDgsIC8vICAyOCAgMDAwMCAxMTEuXG4gICAgMzkqMywgNDAqMywgIDAsIC8vICAyOSAgMDAwMCAwMDAxXG4gICAgNDEqMywgNDIqMywgIDAsIC8vICAzMCAgMDAwMCAwMDExXG4gICAgNDMqMywgNDQqMywgIDAsIC8vICAzMSAgMDAwMCAwMTAwXG4gICAgNDUqMywgNDYqMywgIDAsIC8vICAzMiAgMDAwMCAwMTAxXG4gICAgICAgMCwgICAgMCwgMTUsIC8vICAzMyAgMDAwMCAwMTEwLlxuICAgICAgIDAsICAgIDAsIDE0LCAvLyAgMzQgIDAwMDAgMDExMS5cbiAgICAgICAwLCAgICAwLCAxMywgLy8gIDM1ICAwMDAwIDEwMDAuXG4gICAgICAgMCwgICAgMCwgMTIsIC8vICAzNiAgMDAwMCAxMDAxLlxuICAgICAgIDAsICAgIDAsIDExLCAvLyAgMzcgIDAwMDAgMTAxMC5cbiAgICAgICAwLCAgICAwLCAxMCwgLy8gIDM4ICAwMDAwIDEwMTEuXG4gICAgNDcqMywgICAtMSwgIDAsIC8vICAzOSAgMDAwMCAwMDAxIDBcbiAgICAgIC0xLCA0OCozLCAgMCwgLy8gIDQwICAwMDAwIDAwMDEgMVxuICAgIDQ5KjMsIDUwKjMsICAwLCAvLyAgNDEgIDAwMDAgMDAxMSAwXG4gICAgNTEqMywgNTIqMywgIDAsIC8vICA0MiAgMDAwMCAwMDExIDFcbiAgICA1MyozLCA1NCozLCAgMCwgLy8gIDQzICAwMDAwIDAxMDAgMFxuICAgIDU1KjMsIDU2KjMsICAwLCAvLyAgNDQgIDAwMDAgMDEwMCAxXG4gICAgNTcqMywgNTgqMywgIDAsIC8vICA0NSAgMDAwMCAwMTAxIDBcbiAgICA1OSozLCA2MCozLCAgMCwgLy8gIDQ2ICAwMDAwIDAxMDEgMVxuICAgIDYxKjMsICAgLTEsICAwLCAvLyAgNDcgIDAwMDAgMDAwMSAwMFxuICAgICAgLTEsIDYyKjMsICAwLCAvLyAgNDggIDAwMDAgMDAwMSAxMVxuICAgIDYzKjMsIDY0KjMsICAwLCAvLyAgNDkgIDAwMDAgMDAxMSAwMFxuICAgIDY1KjMsIDY2KjMsICAwLCAvLyAgNTAgIDAwMDAgMDAxMSAwMVxuICAgIDY3KjMsIDY4KjMsICAwLCAvLyAgNTEgIDAwMDAgMDAxMSAxMFxuICAgIDY5KjMsIDcwKjMsICAwLCAvLyAgNTIgIDAwMDAgMDAxMSAxMVxuICAgIDcxKjMsIDcyKjMsICAwLCAvLyAgNTMgIDAwMDAgMDEwMCAwMFxuICAgIDczKjMsIDc0KjMsICAwLCAvLyAgNTQgIDAwMDAgMDEwMCAwMVxuICAgICAgIDAsICAgIDAsIDIxLCAvLyAgNTUgIDAwMDAgMDEwMCAxMC5cbiAgICAgICAwLCAgICAwLCAyMCwgLy8gIDU2ICAwMDAwIDAxMDAgMTEuXG4gICAgICAgMCwgICAgMCwgMTksIC8vICA1NyAgMDAwMCAwMTAxIDAwLlxuICAgICAgIDAsICAgIDAsIDE4LCAvLyAgNTggIDAwMDAgMDEwMSAwMS5cbiAgICAgICAwLCAgICAwLCAxNywgLy8gIDU5ICAwMDAwIDAxMDEgMTAuXG4gICAgICAgMCwgICAgMCwgMTYsIC8vICA2MCAgMDAwMCAwMTAxIDExLlxuICAgICAgIDAsICAgIDAsIDM1LCAvLyAgNjEgIDAwMDAgMDAwMSAwMDAuIC0tIG1hY3JvYmxvY2tfZXNjYXBlXG4gICAgICAgMCwgICAgMCwgMzQsIC8vICA2MiAgMDAwMCAwMDAxIDExMS4gLS0gbWFjcm9ibG9ja19zdHVmZmluZ1xuICAgICAgIDAsICAgIDAsIDMzLCAvLyAgNjMgIDAwMDAgMDAxMSAwMDAuXG4gICAgICAgMCwgICAgMCwgMzIsIC8vICA2NCAgMDAwMCAwMDExIDAwMS5cbiAgICAgICAwLCAgICAwLCAzMSwgLy8gIDY1ICAwMDAwIDAwMTEgMDEwLlxuICAgICAgIDAsICAgIDAsIDMwLCAvLyAgNjYgIDAwMDAgMDAxMSAwMTEuXG4gICAgICAgMCwgICAgMCwgMjksIC8vICA2NyAgMDAwMCAwMDExIDEwMC5cbiAgICAgICAwLCAgICAwLCAyOCwgLy8gIDY4ICAwMDAwIDAwMTEgMTAxLlxuICAgICAgIDAsICAgIDAsIDI3LCAvLyAgNjkgIDAwMDAgMDAxMSAxMTAuXG4gICAgICAgMCwgICAgMCwgMjYsIC8vICA3MCAgMDAwMCAwMDExIDExMS5cbiAgICAgICAwLCAgICAwLCAyNSwgLy8gIDcxICAwMDAwIDAxMDAgMDAwLlxuICAgICAgIDAsICAgIDAsIDI0LCAvLyAgNzIgIDAwMDAgMDEwMCAwMDEuXG4gICAgICAgMCwgICAgMCwgMjMsIC8vICA3MyAgMDAwMCAwMTAwIDAxMC5cbiAgICAgICAwLCAgICAwLCAyMiAgLy8gIDc0ICAwMDAwIDAxMDAgMDExLlxuICBdKSxcblxuICAvLyAgbWFjcm9ibG9ja190eXBlIGJpdG1hcDpcbiAgLy8gICAgMHgxMCAgbWFjcm9ibG9ja19xdWFudFxuICAvLyAgICAweDA4ICBtYWNyb2Jsb2NrX21vdGlvbl9mb3J3YXJkXG4gIC8vICAgIDB4MDQgIG1hY3JvYmxvY2tfbW90aW9uX2JhY2t3YXJkXG4gIC8vICAgIDB4MDIgIG1hY3JvYmtvY2tfcGF0dGVyblxuICAvLyAgICAweDAxICBtYWNyb2Jsb2NrX2ludHJhXG4gIC8vXG5cbiAgTUFDUk9CTE9DS19UWVBFX0kgPSBuZXcgSW50OEFycmF5KFtcbiAgICAgMSozLCAgMiozLCAgICAgMCwgLy8gICAwXG4gICAgICAtMSwgIDMqMywgICAgIDAsIC8vICAgMSAgMFxuICAgICAgIDAsICAgIDAsICAweDAxLCAvLyAgIDIgIDEuXG4gICAgICAgMCwgICAgMCwgIDB4MTEgIC8vICAgMyAgMDEuXG4gIF0pLFxuXG4gIE1BQ1JPQkxPQ0tfVFlQRV9QID0gbmV3IEludDhBcnJheShbXG4gICAgIDEqMywgIDIqMywgICAgIDAsIC8vICAwXG4gICAgIDMqMywgIDQqMywgICAgIDAsIC8vICAxICAwXG4gICAgICAgMCwgICAgMCwgIDB4MGEsIC8vICAyICAxLlxuICAgICA1KjMsICA2KjMsICAgICAwLCAvLyAgMyAgMDBcbiAgICAgICAwLCAgICAwLCAgMHgwMiwgLy8gIDQgIDAxLlxuICAgICA3KjMsICA4KjMsICAgICAwLCAvLyAgNSAgMDAwXG4gICAgICAgMCwgICAgMCwgIDB4MDgsIC8vICA2ICAwMDEuXG4gICAgIDkqMywgMTAqMywgICAgIDAsIC8vICA3ICAwMDAwXG4gICAgMTEqMywgMTIqMywgICAgIDAsIC8vICA4ICAwMDAxXG4gICAgICAtMSwgMTMqMywgICAgIDAsIC8vICA5ICAwMDAwMFxuICAgICAgIDAsICAgIDAsICAweDEyLCAvLyAxMCAgMDAwMDEuXG4gICAgICAgMCwgICAgMCwgIDB4MWEsIC8vIDExICAwMDAxMC5cbiAgICAgICAwLCAgICAwLCAgMHgwMSwgLy8gMTIgIDAwMDExLlxuICAgICAgIDAsICAgIDAsICAweDExICAvLyAxMyAgMDAwMDAxLlxuICBdKSxcblxuICBNQUNST0JMT0NLX1RZUEVfQiA9IG5ldyBJbnQ4QXJyYXkoW1xuICAgICAxKjMsICAyKjMsICAgICAwLCAgLy8gIDBcbiAgICAgMyozLCAgNSozLCAgICAgMCwgIC8vICAxICAwXG4gICAgIDQqMywgIDYqMywgICAgIDAsICAvLyAgMiAgMVxuICAgICA4KjMsICA3KjMsICAgICAwLCAgLy8gIDMgIDAwXG4gICAgICAgMCwgICAgMCwgIDB4MGMsICAvLyAgNCAgMTAuXG4gICAgIDkqMywgMTAqMywgICAgIDAsICAvLyAgNSAgMDFcbiAgICAgICAwLCAgICAwLCAgMHgwZSwgIC8vICA2ICAxMS5cbiAgICAxMyozLCAxNCozLCAgICAgMCwgIC8vICA3ICAwMDFcbiAgICAxMiozLCAxMSozLCAgICAgMCwgIC8vICA4ICAwMDBcbiAgICAgICAwLCAgICAwLCAgMHgwNCwgIC8vICA5ICAwMTAuXG4gICAgICAgMCwgICAgMCwgIDB4MDYsICAvLyAxMCAgMDExLlxuICAgIDE4KjMsIDE2KjMsICAgICAwLCAgLy8gMTEgIDAwMDFcbiAgICAxNSozLCAxNyozLCAgICAgMCwgIC8vIDEyICAwMDAwXG4gICAgICAgMCwgICAgMCwgIDB4MDgsICAvLyAxMyAgMDAxMC5cbiAgICAgICAwLCAgICAwLCAgMHgwYSwgIC8vIDE0ICAwMDExLlxuICAgICAgLTEsIDE5KjMsICAgICAwLCAgLy8gMTUgIDAwMDAwXG4gICAgICAgMCwgICAgMCwgIDB4MDEsICAvLyAxNiAgMDAwMTEuXG4gICAgMjAqMywgMjEqMywgICAgIDAsICAvLyAxNyAgMDAwMDFcbiAgICAgICAwLCAgICAwLCAgMHgxZSwgIC8vIDE4ICAwMDAxMC5cbiAgICAgICAwLCAgICAwLCAgMHgxMSwgIC8vIDE5ICAwMDAwMDEuXG4gICAgICAgMCwgICAgMCwgIDB4MTYsICAvLyAyMCAgMDAwMDEwLlxuICAgICAgIDAsICAgIDAsICAweDFhICAgLy8gMjEgIDAwMDAxMS5cbiAgXSksXG5cbiAgQ09ERV9CTE9DS19QQVRURVJOID0gbmV3IEludDE2QXJyYXkoW1xuICAgICAgMiozLCAgIDEqMywgICAwLCAgLy8gICAwXG4gICAgICAzKjMsICAgNiozLCAgIDAsICAvLyAgIDEgIDFcbiAgICAgIDQqMywgICA1KjMsICAgMCwgIC8vICAgMiAgMFxuICAgICAgOCozLCAgMTEqMywgICAwLCAgLy8gICAzICAxMFxuICAgICAxMiozLCAgMTMqMywgICAwLCAgLy8gICA0ICAwMFxuICAgICAgOSozLCAgIDcqMywgICAwLCAgLy8gICA1ICAwMVxuICAgICAxMCozLCAgMTQqMywgICAwLCAgLy8gICA2ICAxMVxuICAgICAyMCozLCAgMTkqMywgICAwLCAgLy8gICA3ICAwMTFcbiAgICAgMTgqMywgIDE2KjMsICAgMCwgIC8vICAgOCAgMTAwXG4gICAgIDIzKjMsICAxNyozLCAgIDAsICAvLyAgIDkgIDAxMFxuICAgICAyNyozLCAgMjUqMywgICAwLCAgLy8gIDEwICAxMTBcbiAgICAgMjEqMywgIDI4KjMsICAgMCwgIC8vICAxMSAgMTAxXG4gICAgIDE1KjMsICAyMiozLCAgIDAsICAvLyAgMTIgIDAwMFxuICAgICAyNCozLCAgMjYqMywgICAwLCAgLy8gIDEzICAwMDFcbiAgICAgICAgMCwgICAgIDAsICA2MCwgIC8vICAxNCAgMTExLlxuICAgICAzNSozLCAgNDAqMywgICAwLCAgLy8gIDE1ICAwMDAwXG4gICAgIDQ0KjMsICA0OCozLCAgIDAsICAvLyAgMTYgIDEwMDFcbiAgICAgMzgqMywgIDM2KjMsICAgMCwgIC8vICAxNyAgMDEwMVxuICAgICA0MiozLCAgNDcqMywgICAwLCAgLy8gIDE4ICAxMDAwXG4gICAgIDI5KjMsICAzMSozLCAgIDAsICAvLyAgMTkgIDAxMTFcbiAgICAgMzkqMywgIDMyKjMsICAgMCwgIC8vICAyMCAgMDExMFxuICAgICAgICAwLCAgICAgMCwgIDMyLCAgLy8gIDIxICAxMDEwLlxuICAgICA0NSozLCAgNDYqMywgICAwLCAgLy8gIDIyICAwMDAxXG4gICAgIDMzKjMsICA0MSozLCAgIDAsICAvLyAgMjMgIDAxMDBcbiAgICAgNDMqMywgIDM0KjMsICAgMCwgIC8vICAyNCAgMDAxMFxuICAgICAgICAwLCAgICAgMCwgICA0LCAgLy8gIDI1ICAxMTAxLlxuICAgICAzMCozLCAgMzcqMywgICAwLCAgLy8gIDI2ICAwMDExXG4gICAgICAgIDAsICAgICAwLCAgIDgsICAvLyAgMjcgIDExMDAuXG4gICAgICAgIDAsICAgICAwLCAgMTYsICAvLyAgMjggIDEwMTEuXG4gICAgICAgIDAsICAgICAwLCAgNDQsICAvLyAgMjkgIDAxMTEgMC5cbiAgICAgNTAqMywgIDU2KjMsICAgMCwgIC8vICAzMCAgMDAxMSAwXG4gICAgICAgIDAsICAgICAwLCAgMjgsICAvLyAgMzEgIDAxMTEgMS5cbiAgICAgICAgMCwgICAgIDAsICA1MiwgIC8vICAzMiAgMDExMCAxLlxuICAgICAgICAwLCAgICAgMCwgIDYyLCAgLy8gIDMzICAwMTAwIDAuXG4gICAgIDYxKjMsICA1OSozLCAgIDAsICAvLyAgMzQgIDAwMTAgMVxuICAgICA1MiozLCAgNjAqMywgICAwLCAgLy8gIDM1ICAwMDAwIDBcbiAgICAgICAgMCwgICAgIDAsICAgMSwgIC8vICAzNiAgMDEwMSAxLlxuICAgICA1NSozLCAgNTQqMywgICAwLCAgLy8gIDM3ICAwMDExIDFcbiAgICAgICAgMCwgICAgIDAsICA2MSwgIC8vICAzOCAgMDEwMSAwLlxuICAgICAgICAwLCAgICAgMCwgIDU2LCAgLy8gIDM5ICAwMTEwIDAuXG4gICAgIDU3KjMsICA1OCozLCAgIDAsICAvLyAgNDAgIDAwMDAgMVxuICAgICAgICAwLCAgICAgMCwgICAyLCAgLy8gIDQxICAwMTAwIDEuXG4gICAgICAgIDAsICAgICAwLCAgNDAsICAvLyAgNDIgIDEwMDAgMC5cbiAgICAgNTEqMywgIDYyKjMsICAgMCwgIC8vICA0MyAgMDAxMCAwXG4gICAgICAgIDAsICAgICAwLCAgNDgsICAvLyAgNDQgIDEwMDEgMC5cbiAgICAgNjQqMywgIDYzKjMsICAgMCwgIC8vICA0NSAgMDAwMSAwXG4gICAgIDQ5KjMsICA1MyozLCAgIDAsICAvLyAgNDYgIDAwMDEgMVxuICAgICAgICAwLCAgICAgMCwgIDIwLCAgLy8gIDQ3ICAxMDAwIDEuXG4gICAgICAgIDAsICAgICAwLCAgMTIsICAvLyAgNDggIDEwMDEgMS5cbiAgICAgODAqMywgIDgzKjMsICAgMCwgIC8vICA0OSAgMDAwMSAxMFxuICAgICAgICAwLCAgICAgMCwgIDYzLCAgLy8gIDUwICAwMDExIDAwLlxuICAgICA3NyozLCAgNzUqMywgICAwLCAgLy8gIDUxICAwMDEwIDAwXG4gICAgIDY1KjMsICA3MyozLCAgIDAsICAvLyAgNTIgIDAwMDAgMDBcbiAgICAgODQqMywgIDY2KjMsICAgMCwgIC8vICA1MyAgMDAwMSAxMVxuICAgICAgICAwLCAgICAgMCwgIDI0LCAgLy8gIDU0ICAwMDExIDExLlxuICAgICAgICAwLCAgICAgMCwgIDM2LCAgLy8gIDU1ICAwMDExIDEwLlxuICAgICAgICAwLCAgICAgMCwgICAzLCAgLy8gIDU2ICAwMDExIDAxLlxuICAgICA2OSozLCAgODcqMywgICAwLCAgLy8gIDU3ICAwMDAwIDEwXG4gICAgIDgxKjMsICA3OSozLCAgIDAsICAvLyAgNTggIDAwMDAgMTFcbiAgICAgNjgqMywgIDcxKjMsICAgMCwgIC8vICA1OSAgMDAxMCAxMVxuICAgICA3MCozLCAgNzgqMywgICAwLCAgLy8gIDYwICAwMDAwIDAxXG4gICAgIDY3KjMsICA3NiozLCAgIDAsICAvLyAgNjEgIDAwMTAgMTBcbiAgICAgNzIqMywgIDc0KjMsICAgMCwgIC8vICA2MiAgMDAxMCAwMVxuICAgICA4NiozLCAgODUqMywgICAwLCAgLy8gIDYzICAwMDAxIDAxXG4gICAgIDg4KjMsICA4MiozLCAgIDAsICAvLyAgNjQgIDAwMDEgMDBcbiAgICAgICAtMSwgIDk0KjMsICAgMCwgIC8vICA2NSAgMDAwMCAwMDBcbiAgICAgOTUqMywgIDk3KjMsICAgMCwgIC8vICA2NiAgMDAwMSAxMTFcbiAgICAgICAgMCwgICAgIDAsICAzMywgIC8vICA2NyAgMDAxMCAxMDAuXG4gICAgICAgIDAsICAgICAwLCAgIDksICAvLyAgNjggIDAwMTAgMTEwLlxuICAgIDEwNiozLCAxMTAqMywgICAwLCAgLy8gIDY5ICAwMDAwIDEwMFxuICAgIDEwMiozLCAxMTYqMywgICAwLCAgLy8gIDcwICAwMDAwIDAxMFxuICAgICAgICAwLCAgICAgMCwgICA1LCAgLy8gIDcxICAwMDEwIDExMS5cbiAgICAgICAgMCwgICAgIDAsICAxMCwgIC8vICA3MiAgMDAxMCAwMTAuXG4gICAgIDkzKjMsICA4OSozLCAgIDAsICAvLyAgNzMgIDAwMDAgMDAxXG4gICAgICAgIDAsICAgICAwLCAgIDYsICAvLyAgNzQgIDAwMTAgMDExLlxuICAgICAgICAwLCAgICAgMCwgIDE4LCAgLy8gIDc1ICAwMDEwIDAwMS5cbiAgICAgICAgMCwgICAgIDAsICAxNywgIC8vICA3NiAgMDAxMCAxMDEuXG4gICAgICAgIDAsICAgICAwLCAgMzQsICAvLyAgNzcgIDAwMTAgMDAwLlxuICAgIDExMyozLCAxMTkqMywgICAwLCAgLy8gIDc4ICAwMDAwIDAxMVxuICAgIDEwMyozLCAxMDQqMywgICAwLCAgLy8gIDc5ICAwMDAwIDExMVxuICAgICA5MCozLCAgOTIqMywgICAwLCAgLy8gIDgwICAwMDAxIDEwMFxuICAgIDEwOSozLCAxMDcqMywgICAwLCAgLy8gIDgxICAwMDAwIDExMFxuICAgIDExNyozLCAxMTgqMywgICAwLCAgLy8gIDgyICAwMDAxIDAwMVxuICAgIDEwMSozLCAgOTkqMywgICAwLCAgLy8gIDgzICAwMDAxIDEwMVxuICAgICA5OCozLCAgOTYqMywgICAwLCAgLy8gIDg0ICAwMDAxIDExMFxuICAgIDEwMCozLCAgOTEqMywgICAwLCAgLy8gIDg1ICAwMDAxIDAxMVxuICAgIDExNCozLCAxMTUqMywgICAwLCAgLy8gIDg2ICAwMDAxIDAxMFxuICAgIDEwNSozLCAxMDgqMywgICAwLCAgLy8gIDg3ICAwMDAwIDEwMVxuICAgIDExMiozLCAxMTEqMywgICAwLCAgLy8gIDg4ICAwMDAxIDAwMFxuICAgIDEyMSozLCAxMjUqMywgICAwLCAgLy8gIDg5ICAwMDAwIDAwMTFcbiAgICAgICAgMCwgICAgIDAsICA0MSwgIC8vICA5MCAgMDAwMSAxMDAwLlxuICAgICAgICAwLCAgICAgMCwgIDE0LCAgLy8gIDkxICAwMDAxIDAxMTEuXG4gICAgICAgIDAsICAgICAwLCAgMjEsICAvLyAgOTIgIDAwMDEgMTAwMS5cbiAgICAxMjQqMywgMTIyKjMsICAgMCwgIC8vICA5MyAgMDAwMCAwMDEwXG4gICAgMTIwKjMsIDEyMyozLCAgIDAsICAvLyAgOTQgIDAwMDAgMDAwMVxuICAgICAgICAwLCAgICAgMCwgIDExLCAgLy8gIDk1ICAwMDAxIDExMTAuXG4gICAgICAgIDAsICAgICAwLCAgMTksICAvLyAgOTYgIDAwMDEgMTEwMS5cbiAgICAgICAgMCwgICAgIDAsICAgNywgIC8vICA5NyAgMDAwMSAxMTExLlxuICAgICAgICAwLCAgICAgMCwgIDM1LCAgLy8gIDk4ICAwMDAxIDExMDAuXG4gICAgICAgIDAsICAgICAwLCAgMTMsICAvLyAgOTkgIDAwMDEgMTAxMS5cbiAgICAgICAgMCwgICAgIDAsICA1MCwgIC8vIDEwMCAgMDAwMSAwMTEwLlxuICAgICAgICAwLCAgICAgMCwgIDQ5LCAgLy8gMTAxICAwMDAxIDEwMTAuXG4gICAgICAgIDAsICAgICAwLCAgNTgsICAvLyAxMDIgIDAwMDAgMDEwMC5cbiAgICAgICAgMCwgICAgIDAsICAzNywgIC8vIDEwMyAgMDAwMCAxMTEwLlxuICAgICAgICAwLCAgICAgMCwgIDI1LCAgLy8gMTA0ICAwMDAwIDExMTEuXG4gICAgICAgIDAsICAgICAwLCAgNDUsICAvLyAxMDUgIDAwMDAgMTAxMC5cbiAgICAgICAgMCwgICAgIDAsICA1NywgIC8vIDEwNiAgMDAwMCAxMDAwLlxuICAgICAgICAwLCAgICAgMCwgIDI2LCAgLy8gMTA3ICAwMDAwIDExMDEuXG4gICAgICAgIDAsICAgICAwLCAgMjksICAvLyAxMDggIDAwMDAgMTAxMS5cbiAgICAgICAgMCwgICAgIDAsICAzOCwgIC8vIDEwOSAgMDAwMCAxMTAwLlxuICAgICAgICAwLCAgICAgMCwgIDUzLCAgLy8gMTEwICAwMDAwIDEwMDEuXG4gICAgICAgIDAsICAgICAwLCAgMjMsICAvLyAxMTEgIDAwMDEgMDAwMS5cbiAgICAgICAgMCwgICAgIDAsICA0MywgIC8vIDExMiAgMDAwMSAwMDAwLlxuICAgICAgICAwLCAgICAgMCwgIDQ2LCAgLy8gMTEzICAwMDAwIDAxMTAuXG4gICAgICAgIDAsICAgICAwLCAgNDIsICAvLyAxMTQgIDAwMDEgMDEwMC5cbiAgICAgICAgMCwgICAgIDAsICAyMiwgIC8vIDExNSAgMDAwMSAwMTAxLlxuICAgICAgICAwLCAgICAgMCwgIDU0LCAgLy8gMTE2ICAwMDAwIDAxMDEuXG4gICAgICAgIDAsICAgICAwLCAgNTEsICAvLyAxMTcgIDAwMDEgMDAxMC5cbiAgICAgICAgMCwgICAgIDAsICAxNSwgIC8vIDExOCAgMDAwMSAwMDExLlxuICAgICAgICAwLCAgICAgMCwgIDMwLCAgLy8gMTE5ICAwMDAwIDAxMTEuXG4gICAgICAgIDAsICAgICAwLCAgMzksICAvLyAxMjAgIDAwMDAgMDAwMSAwLlxuICAgICAgICAwLCAgICAgMCwgIDQ3LCAgLy8gMTIxICAwMDAwIDAwMTEgMC5cbiAgICAgICAgMCwgICAgIDAsICA1NSwgIC8vIDEyMiAgMDAwMCAwMDEwIDEuXG4gICAgICAgIDAsICAgICAwLCAgMjcsICAvLyAxMjMgIDAwMDAgMDAwMSAxLlxuICAgICAgICAwLCAgICAgMCwgIDU5LCAgLy8gMTI0ICAwMDAwIDAwMTAgMC5cbiAgICAgICAgMCwgICAgIDAsICAzMSAgIC8vIDEyNSAgMDAwMCAwMDExIDEuXG4gIF0pLFxuXG4gIE1PVElPTiA9IG5ldyBJbnQxNkFycmF5KFtcbiAgICAgIDEqMywgICAyKjMsICAgMCwgIC8vICAgMFxuICAgICAgNCozLCAgIDMqMywgICAwLCAgLy8gICAxICAwXG4gICAgICAgIDAsICAgICAwLCAgIDAsICAvLyAgIDIgIDEuXG4gICAgICA2KjMsICAgNSozLCAgIDAsICAvLyAgIDMgIDAxXG4gICAgICA4KjMsICAgNyozLCAgIDAsICAvLyAgIDQgIDAwXG4gICAgICAgIDAsICAgICAwLCAgLTEsICAvLyAgIDUgIDAxMS5cbiAgICAgICAgMCwgICAgIDAsICAgMSwgIC8vICAgNiAgMDEwLlxuICAgICAgOSozLCAgMTAqMywgICAwLCAgLy8gICA3ICAwMDFcbiAgICAgMTIqMywgIDExKjMsICAgMCwgIC8vICAgOCAgMDAwXG4gICAgICAgIDAsICAgICAwLCAgIDIsICAvLyAgIDkgIDAwMTAuXG4gICAgICAgIDAsICAgICAwLCAgLTIsICAvLyAgMTAgIDAwMTEuXG4gICAgIDE0KjMsICAxNSozLCAgIDAsICAvLyAgMTEgIDAwMDFcbiAgICAgMTYqMywgIDEzKjMsICAgMCwgIC8vICAxMiAgMDAwMFxuICAgICAyMCozLCAgMTgqMywgICAwLCAgLy8gIDEzICAwMDAwIDFcbiAgICAgICAgMCwgICAgIDAsICAgMywgIC8vICAxNCAgMDAwMSAwLlxuICAgICAgICAwLCAgICAgMCwgIC0zLCAgLy8gIDE1ICAwMDAxIDEuXG4gICAgIDE3KjMsICAxOSozLCAgIDAsICAvLyAgMTYgIDAwMDAgMFxuICAgICAgIC0xLCAgMjMqMywgICAwLCAgLy8gIDE3ICAwMDAwIDAwXG4gICAgIDI3KjMsICAyNSozLCAgIDAsICAvLyAgMTggIDAwMDAgMTFcbiAgICAgMjYqMywgIDIxKjMsICAgMCwgIC8vICAxOSAgMDAwMCAwMVxuICAgICAyNCozLCAgMjIqMywgICAwLCAgLy8gIDIwICAwMDAwIDEwXG4gICAgIDMyKjMsICAyOCozLCAgIDAsICAvLyAgMjEgIDAwMDAgMDExXG4gICAgIDI5KjMsICAzMSozLCAgIDAsICAvLyAgMjIgIDAwMDAgMTAxXG4gICAgICAgLTEsICAzMyozLCAgIDAsICAvLyAgMjMgIDAwMDAgMDAxXG4gICAgIDM2KjMsICAzNSozLCAgIDAsICAvLyAgMjQgIDAwMDAgMTAwXG4gICAgICAgIDAsICAgICAwLCAgLTQsICAvLyAgMjUgIDAwMDAgMTExLlxuICAgICAzMCozLCAgMzQqMywgICAwLCAgLy8gIDI2ICAwMDAwIDAxMFxuICAgICAgICAwLCAgICAgMCwgICA0LCAgLy8gIDI3ICAwMDAwIDExMC5cbiAgICAgICAgMCwgICAgIDAsICAtNywgIC8vICAyOCAgMDAwMCAwMTExLlxuICAgICAgICAwLCAgICAgMCwgICA1LCAgLy8gIDI5ICAwMDAwIDEwMTAuXG4gICAgIDM3KjMsICA0MSozLCAgIDAsICAvLyAgMzAgIDAwMDAgMDEwMFxuICAgICAgICAwLCAgICAgMCwgIC01LCAgLy8gIDMxICAwMDAwIDEwMTEuXG4gICAgICAgIDAsICAgICAwLCAgIDcsICAvLyAgMzIgIDAwMDAgMDExMC5cbiAgICAgMzgqMywgIDQwKjMsICAgMCwgIC8vICAzMyAgMDAwMCAwMDExXG4gICAgIDQyKjMsICAzOSozLCAgIDAsICAvLyAgMzQgIDAwMDAgMDEwMVxuICAgICAgICAwLCAgICAgMCwgIC02LCAgLy8gIDM1ICAwMDAwIDEwMDEuXG4gICAgICAgIDAsICAgICAwLCAgIDYsICAvLyAgMzYgIDAwMDAgMTAwMC5cbiAgICAgNTEqMywgIDU0KjMsICAgMCwgIC8vICAzNyAgMDAwMCAwMTAwIDBcbiAgICAgNTAqMywgIDQ5KjMsICAgMCwgIC8vICAzOCAgMDAwMCAwMDExIDBcbiAgICAgNDUqMywgIDQ2KjMsICAgMCwgIC8vICAzOSAgMDAwMCAwMTAxIDFcbiAgICAgNTIqMywgIDQ3KjMsICAgMCwgIC8vICA0MCAgMDAwMCAwMDExIDFcbiAgICAgNDMqMywgIDUzKjMsICAgMCwgIC8vICA0MSAgMDAwMCAwMTAwIDFcbiAgICAgNDQqMywgIDQ4KjMsICAgMCwgIC8vICA0MiAgMDAwMCAwMTAxIDBcbiAgICAgICAgMCwgICAgIDAsICAxMCwgIC8vICA0MyAgMDAwMCAwMTAwIDEwLlxuICAgICAgICAwLCAgICAgMCwgICA5LCAgLy8gIDQ0ICAwMDAwIDAxMDEgMDAuXG4gICAgICAgIDAsICAgICAwLCAgIDgsICAvLyAgNDUgIDAwMDAgMDEwMSAxMC5cbiAgICAgICAgMCwgICAgIDAsICAtOCwgIC8vICA0NiAgMDAwMCAwMTAxIDExLlxuICAgICA1NyozLCAgNjYqMywgICAwLCAgLy8gIDQ3ICAwMDAwIDAwMTEgMTFcbiAgICAgICAgMCwgICAgIDAsICAtOSwgIC8vICA0OCAgMDAwMCAwMTAxIDAxLlxuICAgICA2MCozLCAgNjQqMywgICAwLCAgLy8gIDQ5ICAwMDAwIDAwMTEgMDFcbiAgICAgNTYqMywgIDYxKjMsICAgMCwgIC8vICA1MCAgMDAwMCAwMDExIDAwXG4gICAgIDU1KjMsICA2MiozLCAgIDAsICAvLyAgNTEgIDAwMDAgMDEwMCAwMFxuICAgICA1OCozLCAgNjMqMywgICAwLCAgLy8gIDUyICAwMDAwIDAwMTEgMTBcbiAgICAgICAgMCwgICAgIDAsIC0xMCwgIC8vICA1MyAgMDAwMCAwMTAwIDExLlxuICAgICA1OSozLCAgNjUqMywgICAwLCAgLy8gIDU0ICAwMDAwIDAxMDAgMDFcbiAgICAgICAgMCwgICAgIDAsICAxMiwgIC8vICA1NSAgMDAwMCAwMTAwIDAwMC5cbiAgICAgICAgMCwgICAgIDAsICAxNiwgIC8vICA1NiAgMDAwMCAwMDExIDAwMC5cbiAgICAgICAgMCwgICAgIDAsICAxMywgIC8vICA1NyAgMDAwMCAwMDExIDExMC5cbiAgICAgICAgMCwgICAgIDAsICAxNCwgIC8vICA1OCAgMDAwMCAwMDExIDEwMC5cbiAgICAgICAgMCwgICAgIDAsICAxMSwgIC8vICA1OSAgMDAwMCAwMTAwIDAxMC5cbiAgICAgICAgMCwgICAgIDAsICAxNSwgIC8vICA2MCAgMDAwMCAwMDExIDAxMC5cbiAgICAgICAgMCwgICAgIDAsIC0xNiwgIC8vICA2MSAgMDAwMCAwMDExIDAwMS5cbiAgICAgICAgMCwgICAgIDAsIC0xMiwgIC8vICA2MiAgMDAwMCAwMTAwIDAwMS5cbiAgICAgICAgMCwgICAgIDAsIC0xNCwgIC8vICA2MyAgMDAwMCAwMDExIDEwMS5cbiAgICAgICAgMCwgICAgIDAsIC0xNSwgIC8vICA2NCAgMDAwMCAwMDExIDAxMS5cbiAgICAgICAgMCwgICAgIDAsIC0xMSwgIC8vICA2NSAgMDAwMCAwMTAwIDAxMS5cbiAgICAgICAgMCwgICAgIDAsIC0xMyAgIC8vICA2NiAgMDAwMCAwMDExIDExMS5cbiAgXSksXG5cbiAgRENUX0RDX1NJWkVfTFVNSU5BTkNFID0gbmV3IEludDhBcnJheShbXG4gICAgICAyKjMsICAgMSozLCAwLCAgLy8gICAwXG4gICAgICA2KjMsICAgNSozLCAwLCAgLy8gICAxICAxXG4gICAgICAzKjMsICAgNCozLCAwLCAgLy8gICAyICAwXG4gICAgICAgIDAsICAgICAwLCAxLCAgLy8gICAzICAwMC5cbiAgICAgICAgMCwgICAgIDAsIDIsICAvLyAgIDQgIDAxLlxuICAgICAgOSozLCAgIDgqMywgMCwgIC8vICAgNSAgMTFcbiAgICAgIDcqMywgIDEwKjMsIDAsICAvLyAgIDYgIDEwXG4gICAgICAgIDAsICAgICAwLCAwLCAgLy8gICA3ICAxMDAuXG4gICAgIDEyKjMsICAxMSozLCAwLCAgLy8gICA4ICAxMTFcbiAgICAgICAgMCwgICAgIDAsIDQsICAvLyAgIDkgIDExMC5cbiAgICAgICAgMCwgICAgIDAsIDMsICAvLyAgMTAgIDEwMS5cbiAgICAgMTMqMywgIDE0KjMsIDAsICAvLyAgMTEgIDExMTFcbiAgICAgICAgMCwgICAgIDAsIDUsICAvLyAgMTIgIDExMTAuXG4gICAgICAgIDAsICAgICAwLCA2LCAgLy8gIDEzICAxMTExIDAuXG4gICAgIDE2KjMsICAxNSozLCAwLCAgLy8gIDE0ICAxMTExIDFcbiAgICAgMTcqMywgICAgLTEsIDAsICAvLyAgMTUgIDExMTEgMTFcbiAgICAgICAgMCwgICAgIDAsIDcsICAvLyAgMTYgIDExMTEgMTAuXG4gICAgICAgIDAsICAgICAwLCA4ICAgLy8gIDE3ICAxMTExIDExMC5cbiAgXSksXG5cbiAgRENUX0RDX1NJWkVfQ0hST01JTkFOQ0UgPSBuZXcgSW50OEFycmF5KFtcbiAgICAgIDIqMywgICAxKjMsIDAsICAvLyAgIDBcbiAgICAgIDQqMywgICAzKjMsIDAsICAvLyAgIDEgIDFcbiAgICAgIDYqMywgICA1KjMsIDAsICAvLyAgIDIgIDBcbiAgICAgIDgqMywgICA3KjMsIDAsICAvLyAgIDMgIDExXG4gICAgICAgIDAsICAgICAwLCAyLCAgLy8gICA0ICAxMC5cbiAgICAgICAgMCwgICAgIDAsIDEsICAvLyAgIDUgIDAxLlxuICAgICAgICAwLCAgICAgMCwgMCwgIC8vICAgNiAgMDAuXG4gICAgIDEwKjMsICAgOSozLCAwLCAgLy8gICA3ICAxMTFcbiAgICAgICAgMCwgICAgIDAsIDMsICAvLyAgIDggIDExMC5cbiAgICAgMTIqMywgIDExKjMsIDAsICAvLyAgIDkgIDExMTFcbiAgICAgICAgMCwgICAgIDAsIDQsICAvLyAgMTAgIDExMTAuXG4gICAgIDE0KjMsICAxMyozLCAwLCAgLy8gIDExICAxMTExIDFcbiAgICAgICAgMCwgICAgIDAsIDUsICAvLyAgMTIgIDExMTEgMC5cbiAgICAgMTYqMywgIDE1KjMsIDAsICAvLyAgMTMgIDExMTEgMTFcbiAgICAgICAgMCwgICAgIDAsIDYsICAvLyAgMTQgIDExMTEgMTAuXG4gICAgIDE3KjMsICAgIC0xLCAwLCAgLy8gIDE1ICAxMTExIDExMVxuICAgICAgICAwLCAgICAgMCwgNywgIC8vICAxNiAgMTExMSAxMTAuXG4gICAgICAgIDAsICAgICAwLCA4ICAgLy8gIDE3ICAxMTExIDExMTAuXG4gIF0pLFxuXG4gIC8vICBkY3RfY29lZmYgYml0bWFwOlxuICAvLyAgICAweGZmMDAgIHJ1blxuICAvLyAgICAweDAwZmYgIGxldmVsXG5cbiAgLy8gIERlY29kZWQgdmFsdWVzIGFyZSB1bnNpZ25lZC4gU2lnbiBiaXQgZm9sbG93cyBpbiB0aGUgc3RyZWFtLlxuXG4gIC8vICBJbnRlcnByZXRhdGlvbiBvZiB0aGUgdmFsdWUgMHgwMDAxXG4gIC8vICAgIGZvciBkY19jb2VmZl9maXJzdDogIHJ1bj0wLCBsZXZlbD0xXG4gIC8vICAgIGZvciBkY19jb2VmZl9uZXh0OiAgIElmIHRoZSBuZXh0IGJpdCBpcyAxOiBydW49MCwgbGV2ZWw9MVxuICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBJZiB0aGUgbmV4dCBiaXQgaXMgMDogZW5kX29mX2Jsb2NrXG5cbiAgLy8gIGVzY2FwZSBkZWNvZGVzIGFzIDB4ZmZmZi5cblxuICBEQ1RfQ09FRkYgPSBuZXcgSW50MzJBcnJheShbXG4gICAgICAxKjMsICAgMiozLCAgICAgIDAsICAvLyAgIDBcbiAgICAgIDQqMywgICAzKjMsICAgICAgMCwgIC8vICAgMSAgMFxuICAgICAgICAwLCAgICAgMCwgMHgwMDAxLCAgLy8gICAyICAxLlxuICAgICAgNyozLCAgIDgqMywgICAgICAwLCAgLy8gICAzICAwMVxuICAgICAgNiozLCAgIDUqMywgICAgICAwLCAgLy8gICA0ICAwMFxuICAgICAxMyozLCAgIDkqMywgICAgICAwLCAgLy8gICA1ICAwMDFcbiAgICAgMTEqMywgIDEwKjMsICAgICAgMCwgIC8vICAgNiAgMDAwXG4gICAgIDE0KjMsICAxMiozLCAgICAgIDAsICAvLyAgIDcgIDAxMFxuICAgICAgICAwLCAgICAgMCwgMHgwMTAxLCAgLy8gICA4ICAwMTEuXG4gICAgIDIwKjMsICAyMiozLCAgICAgIDAsICAvLyAgIDkgIDAwMTFcbiAgICAgMTgqMywgIDIxKjMsICAgICAgMCwgIC8vICAxMCAgMDAwMVxuICAgICAxNiozLCAgMTkqMywgICAgICAwLCAgLy8gIDExICAwMDAwXG4gICAgICAgIDAsICAgICAwLCAweDAyMDEsICAvLyAgMTIgIDAxMDEuXG4gICAgIDE3KjMsICAxNSozLCAgICAgIDAsICAvLyAgMTMgIDAwMTBcbiAgICAgICAgMCwgICAgIDAsIDB4MDAwMiwgIC8vICAxNCAgMDEwMC5cbiAgICAgICAgMCwgICAgIDAsIDB4MDAwMywgIC8vICAxNSAgMDAxMCAxLlxuICAgICAyNyozLCAgMjUqMywgICAgICAwLCAgLy8gIDE2ICAwMDAwIDBcbiAgICAgMjkqMywgIDMxKjMsICAgICAgMCwgIC8vICAxNyAgMDAxMCAwXG4gICAgIDI0KjMsICAyNiozLCAgICAgIDAsICAvLyAgMTggIDAwMDEgMFxuICAgICAzMiozLCAgMzAqMywgICAgICAwLCAgLy8gIDE5ICAwMDAwIDFcbiAgICAgICAgMCwgICAgIDAsIDB4MDQwMSwgIC8vICAyMCAgMDAxMSAwLlxuICAgICAyMyozLCAgMjgqMywgICAgICAwLCAgLy8gIDIxICAwMDAxIDFcbiAgICAgICAgMCwgICAgIDAsIDB4MDMwMSwgIC8vICAyMiAgMDAxMSAxLlxuICAgICAgICAwLCAgICAgMCwgMHgwMTAyLCAgLy8gIDIzICAwMDAxIDEwLlxuICAgICAgICAwLCAgICAgMCwgMHgwNzAxLCAgLy8gIDI0ICAwMDAxIDAwLlxuICAgICAgICAwLCAgICAgMCwgMHhmZmZmLCAgLy8gIDI1ICAwMDAwIDAxLiAtLSBlc2NhcGVcbiAgICAgICAgMCwgICAgIDAsIDB4MDYwMSwgIC8vICAyNiAgMDAwMSAwMS5cbiAgICAgMzcqMywgIDM2KjMsICAgICAgMCwgIC8vICAyNyAgMDAwMCAwMFxuICAgICAgICAwLCAgICAgMCwgMHgwNTAxLCAgLy8gIDI4ICAwMDAxIDExLlxuICAgICAzNSozLCAgMzQqMywgICAgICAwLCAgLy8gIDI5ICAwMDEwIDAwXG4gICAgIDM5KjMsICAzOCozLCAgICAgIDAsICAvLyAgMzAgIDAwMDAgMTFcbiAgICAgMzMqMywgIDQyKjMsICAgICAgMCwgIC8vICAzMSAgMDAxMCAwMVxuICAgICA0MCozLCAgNDEqMywgICAgICAwLCAgLy8gIDMyICAwMDAwIDEwXG4gICAgIDUyKjMsICA1MCozLCAgICAgIDAsICAvLyAgMzMgIDAwMTAgMDEwXG4gICAgIDU0KjMsICA1MyozLCAgICAgIDAsICAvLyAgMzQgIDAwMTAgMDAxXG4gICAgIDQ4KjMsICA0OSozLCAgICAgIDAsICAvLyAgMzUgIDAwMTAgMDAwXG4gICAgIDQzKjMsICA0NSozLCAgICAgIDAsICAvLyAgMzYgIDAwMDAgMDAxXG4gICAgIDQ2KjMsICA0NCozLCAgICAgIDAsICAvLyAgMzcgIDAwMDAgMDAwXG4gICAgICAgIDAsICAgICAwLCAweDA4MDEsICAvLyAgMzggIDAwMDAgMTExLlxuICAgICAgICAwLCAgICAgMCwgMHgwMDA0LCAgLy8gIDM5ICAwMDAwIDExMC5cbiAgICAgICAgMCwgICAgIDAsIDB4MDIwMiwgIC8vICA0MCAgMDAwMCAxMDAuXG4gICAgICAgIDAsICAgICAwLCAweDA5MDEsICAvLyAgNDEgIDAwMDAgMTAxLlxuICAgICA1MSozLCAgNDcqMywgICAgICAwLCAgLy8gIDQyICAwMDEwIDAxMVxuICAgICA1NSozLCAgNTcqMywgICAgICAwLCAgLy8gIDQzICAwMDAwIDAwMTBcbiAgICAgNjAqMywgIDU2KjMsICAgICAgMCwgIC8vICA0NCAgMDAwMCAwMDAxXG4gICAgIDU5KjMsICA1OCozLCAgICAgIDAsICAvLyAgNDUgIDAwMDAgMDAxMVxuICAgICA2MSozLCAgNjIqMywgICAgICAwLCAgLy8gIDQ2ICAwMDAwIDAwMDBcbiAgICAgICAgMCwgICAgIDAsIDB4MGEwMSwgIC8vICA0NyAgMDAxMCAwMTExLlxuICAgICAgICAwLCAgICAgMCwgMHgwZDAxLCAgLy8gIDQ4ICAwMDEwIDAwMDAuXG4gICAgICAgIDAsICAgICAwLCAweDAwMDYsICAvLyAgNDkgIDAwMTAgMDAwMS5cbiAgICAgICAgMCwgICAgIDAsIDB4MDEwMywgIC8vICA1MCAgMDAxMCAwMTAxLlxuICAgICAgICAwLCAgICAgMCwgMHgwMDA1LCAgLy8gIDUxICAwMDEwIDAxMTAuXG4gICAgICAgIDAsICAgICAwLCAweDAzMDIsICAvLyAgNTIgIDAwMTAgMDEwMC5cbiAgICAgICAgMCwgICAgIDAsIDB4MGIwMSwgIC8vICA1MyAgMDAxMCAwMDExLlxuICAgICAgICAwLCAgICAgMCwgMHgwYzAxLCAgLy8gIDU0ICAwMDEwIDAwMTAuXG4gICAgIDc2KjMsICA3NSozLCAgICAgIDAsICAvLyAgNTUgIDAwMDAgMDAxMCAwXG4gICAgIDY3KjMsICA3MCozLCAgICAgIDAsICAvLyAgNTYgIDAwMDAgMDAwMSAxXG4gICAgIDczKjMsICA3MSozLCAgICAgIDAsICAvLyAgNTcgIDAwMDAgMDAxMCAxXG4gICAgIDc4KjMsICA3NCozLCAgICAgIDAsICAvLyAgNTggIDAwMDAgMDAxMSAxXG4gICAgIDcyKjMsICA3NyozLCAgICAgIDAsICAvLyAgNTkgIDAwMDAgMDAxMSAwXG4gICAgIDY5KjMsICA2NCozLCAgICAgIDAsICAvLyAgNjAgIDAwMDAgMDAwMSAwXG4gICAgIDY4KjMsICA2MyozLCAgICAgIDAsICAvLyAgNjEgIDAwMDAgMDAwMCAwXG4gICAgIDY2KjMsICA2NSozLCAgICAgIDAsICAvLyAgNjIgIDAwMDAgMDAwMCAxXG4gICAgIDgxKjMsICA4NyozLCAgICAgIDAsICAvLyAgNjMgIDAwMDAgMDAwMCAwMVxuICAgICA5MSozLCAgODAqMywgICAgICAwLCAgLy8gIDY0ICAwMDAwIDAwMDEgMDFcbiAgICAgODIqMywgIDc5KjMsICAgICAgMCwgIC8vICA2NSAgMDAwMCAwMDAwIDExXG4gICAgIDgzKjMsICA4NiozLCAgICAgIDAsICAvLyAgNjYgIDAwMDAgMDAwMCAxMFxuICAgICA5MyozLCAgOTIqMywgICAgICAwLCAgLy8gIDY3ICAwMDAwIDAwMDEgMTBcbiAgICAgODQqMywgIDg1KjMsICAgICAgMCwgIC8vICA2OCAgMDAwMCAwMDAwIDAwXG4gICAgIDkwKjMsICA5NCozLCAgICAgIDAsICAvLyAgNjkgIDAwMDAgMDAwMSAwMFxuICAgICA4OCozLCAgODkqMywgICAgICAwLCAgLy8gIDcwICAwMDAwIDAwMDEgMTFcbiAgICAgICAgMCwgICAgIDAsIDB4MDIwMywgIC8vICA3MSAgMDAwMCAwMDEwIDExLlxuICAgICAgICAwLCAgICAgMCwgMHgwMTA0LCAgLy8gIDcyICAwMDAwIDAwMTEgMDAuXG4gICAgICAgIDAsICAgICAwLCAweDAwMDcsICAvLyAgNzMgIDAwMDAgMDAxMCAxMC5cbiAgICAgICAgMCwgICAgIDAsIDB4MDQwMiwgIC8vICA3NCAgMDAwMCAwMDExIDExLlxuICAgICAgICAwLCAgICAgMCwgMHgwNTAyLCAgLy8gIDc1ICAwMDAwIDAwMTAgMDEuXG4gICAgICAgIDAsICAgICAwLCAweDEwMDEsICAvLyAgNzYgIDAwMDAgMDAxMCAwMC5cbiAgICAgICAgMCwgICAgIDAsIDB4MGYwMSwgIC8vICA3NyAgMDAwMCAwMDExIDAxLlxuICAgICAgICAwLCAgICAgMCwgMHgwZTAxLCAgLy8gIDc4ICAwMDAwIDAwMTEgMTAuXG4gICAgMTA1KjMsIDEwNyozLCAgICAgIDAsICAvLyAgNzkgIDAwMDAgMDAwMCAxMTFcbiAgICAxMTEqMywgMTE0KjMsICAgICAgMCwgIC8vICA4MCAgMDAwMCAwMDAxIDAxMVxuICAgIDEwNCozLCAgOTcqMywgICAgICAwLCAgLy8gIDgxICAwMDAwIDAwMDAgMDEwXG4gICAgMTI1KjMsIDExOSozLCAgICAgIDAsICAvLyAgODIgIDAwMDAgMDAwMCAxMTBcbiAgICAgOTYqMywgIDk4KjMsICAgICAgMCwgIC8vICA4MyAgMDAwMCAwMDAwIDEwMFxuICAgICAgIC0xLCAxMjMqMywgICAgICAwLCAgLy8gIDg0ICAwMDAwIDAwMDAgMDAwXG4gICAgIDk1KjMsIDEwMSozLCAgICAgIDAsICAvLyAgODUgIDAwMDAgMDAwMCAwMDFcbiAgICAxMDYqMywgMTIxKjMsICAgICAgMCwgIC8vICA4NiAgMDAwMCAwMDAwIDEwMVxuICAgICA5OSozLCAxMDIqMywgICAgICAwLCAgLy8gIDg3ICAwMDAwIDAwMDAgMDExXG4gICAgMTEzKjMsIDEwMyozLCAgICAgIDAsICAvLyAgODggIDAwMDAgMDAwMSAxMTBcbiAgICAxMTIqMywgMTE2KjMsICAgICAgMCwgIC8vICA4OSAgMDAwMCAwMDAxIDExMVxuICAgIDExMCozLCAxMDAqMywgICAgICAwLCAgLy8gIDkwICAwMDAwIDAwMDEgMDAwXG4gICAgMTI0KjMsIDExNSozLCAgICAgIDAsICAvLyAgOTEgIDAwMDAgMDAwMSAwMTBcbiAgICAxMTcqMywgMTIyKjMsICAgICAgMCwgIC8vICA5MiAgMDAwMCAwMDAxIDEwMVxuICAgIDEwOSozLCAxMTgqMywgICAgICAwLCAgLy8gIDkzICAwMDAwIDAwMDEgMTAwXG4gICAgMTIwKjMsIDEwOCozLCAgICAgIDAsICAvLyAgOTQgIDAwMDAgMDAwMSAwMDFcbiAgICAxMjcqMywgMTM2KjMsICAgICAgMCwgIC8vICA5NSAgMDAwMCAwMDAwIDAwMTBcbiAgICAxMzkqMywgMTQwKjMsICAgICAgMCwgIC8vICA5NiAgMDAwMCAwMDAwIDEwMDBcbiAgICAxMzAqMywgMTI2KjMsICAgICAgMCwgIC8vICA5NyAgMDAwMCAwMDAwIDAxMDFcbiAgICAxNDUqMywgMTQ2KjMsICAgICAgMCwgIC8vICA5OCAgMDAwMCAwMDAwIDEwMDFcbiAgICAxMjgqMywgMTI5KjMsICAgICAgMCwgIC8vICA5OSAgMDAwMCAwMDAwIDAxMTBcbiAgICAgICAgMCwgICAgIDAsIDB4MDgwMiwgIC8vIDEwMCAgMDAwMCAwMDAxIDAwMDEuXG4gICAgMTMyKjMsIDEzNCozLCAgICAgIDAsICAvLyAxMDEgIDAwMDAgMDAwMCAwMDExXG4gICAgMTU1KjMsIDE1NCozLCAgICAgIDAsICAvLyAxMDIgIDAwMDAgMDAwMCAwMTExXG4gICAgICAgIDAsICAgICAwLCAweDAwMDgsICAvLyAxMDMgIDAwMDAgMDAwMSAxMTAxLlxuICAgIDEzNyozLCAxMzMqMywgICAgICAwLCAgLy8gMTA0ICAwMDAwIDAwMDAgMDEwMFxuICAgIDE0MyozLCAxNDQqMywgICAgICAwLCAgLy8gMTA1ICAwMDAwIDAwMDAgMTExMFxuICAgIDE1MSozLCAxMzgqMywgICAgICAwLCAgLy8gMTA2ICAwMDAwIDAwMDAgMTAxMFxuICAgIDE0MiozLCAxNDEqMywgICAgICAwLCAgLy8gMTA3ICAwMDAwIDAwMDAgMTExMVxuICAgICAgICAwLCAgICAgMCwgMHgwMDBhLCAgLy8gMTA4ICAwMDAwIDAwMDEgMDAxMS5cbiAgICAgICAgMCwgICAgIDAsIDB4MDAwOSwgIC8vIDEwOSAgMDAwMCAwMDAxIDEwMDAuXG4gICAgICAgIDAsICAgICAwLCAweDAwMGIsICAvLyAxMTAgIDAwMDAgMDAwMSAwMDAwLlxuICAgICAgICAwLCAgICAgMCwgMHgxNTAxLCAgLy8gMTExICAwMDAwIDAwMDEgMDExMC5cbiAgICAgICAgMCwgICAgIDAsIDB4MDYwMiwgIC8vIDExMiAgMDAwMCAwMDAxIDExMTAuXG4gICAgICAgIDAsICAgICAwLCAweDAzMDMsICAvLyAxMTMgIDAwMDAgMDAwMSAxMTAwLlxuICAgICAgICAwLCAgICAgMCwgMHgxNDAxLCAgLy8gMTE0ICAwMDAwIDAwMDEgMDExMS5cbiAgICAgICAgMCwgICAgIDAsIDB4MDcwMiwgIC8vIDExNSAgMDAwMCAwMDAxIDAxMDEuXG4gICAgICAgIDAsICAgICAwLCAweDExMDEsICAvLyAxMTYgIDAwMDAgMDAwMSAxMTExLlxuICAgICAgICAwLCAgICAgMCwgMHgxMjAxLCAgLy8gMTE3ICAwMDAwIDAwMDEgMTAxMC5cbiAgICAgICAgMCwgICAgIDAsIDB4MTMwMSwgIC8vIDExOCAgMDAwMCAwMDAxIDEwMDEuXG4gICAgMTQ4KjMsIDE1MiozLCAgICAgIDAsICAvLyAxMTkgIDAwMDAgMDAwMCAxMTAxXG4gICAgICAgIDAsICAgICAwLCAweDA0MDMsICAvLyAxMjAgIDAwMDAgMDAwMSAwMDEwLlxuICAgIDE1MyozLCAxNTAqMywgICAgICAwLCAgLy8gMTIxICAwMDAwIDAwMDAgMTAxMVxuICAgICAgICAwLCAgICAgMCwgMHgwMTA1LCAgLy8gMTIyICAwMDAwIDAwMDEgMTAxMS5cbiAgICAxMzEqMywgMTM1KjMsICAgICAgMCwgIC8vIDEyMyAgMDAwMCAwMDAwIDAwMDFcbiAgICAgICAgMCwgICAgIDAsIDB4MDIwNCwgIC8vIDEyNCAgMDAwMCAwMDAxIDAxMDAuXG4gICAgMTQ5KjMsIDE0NyozLCAgICAgIDAsICAvLyAxMjUgIDAwMDAgMDAwMCAxMTAwXG4gICAgMTcyKjMsIDE3MyozLCAgICAgIDAsICAvLyAxMjYgIDAwMDAgMDAwMCAwMTAxIDFcbiAgICAxNjIqMywgMTU4KjMsICAgICAgMCwgIC8vIDEyNyAgMDAwMCAwMDAwIDAwMTAgMFxuICAgIDE3MCozLCAxNjEqMywgICAgICAwLCAgLy8gMTI4ICAwMDAwIDAwMDAgMDExMCAwXG4gICAgMTY4KjMsIDE2NiozLCAgICAgIDAsICAvLyAxMjkgIDAwMDAgMDAwMCAwMTEwIDFcbiAgICAxNTcqMywgMTc5KjMsICAgICAgMCwgIC8vIDEzMCAgMDAwMCAwMDAwIDAxMDEgMFxuICAgIDE2OSozLCAxNjcqMywgICAgICAwLCAgLy8gMTMxICAwMDAwIDAwMDAgMDAwMSAwXG4gICAgMTc0KjMsIDE3MSozLCAgICAgIDAsICAvLyAxMzIgIDAwMDAgMDAwMCAwMDExIDBcbiAgICAxNzgqMywgMTc3KjMsICAgICAgMCwgIC8vIDEzMyAgMDAwMCAwMDAwIDAxMDAgMVxuICAgIDE1NiozLCAxNTkqMywgICAgICAwLCAgLy8gMTM0ICAwMDAwIDAwMDAgMDAxMSAxXG4gICAgMTY0KjMsIDE2NSozLCAgICAgIDAsICAvLyAxMzUgIDAwMDAgMDAwMCAwMDAxIDFcbiAgICAxODMqMywgMTgyKjMsICAgICAgMCwgIC8vIDEzNiAgMDAwMCAwMDAwIDAwMTAgMVxuICAgIDE3NSozLCAxNzYqMywgICAgICAwLCAgLy8gMTM3ICAwMDAwIDAwMDAgMDEwMCAwXG4gICAgICAgIDAsICAgICAwLCAweDAxMDcsICAvLyAxMzggIDAwMDAgMDAwMCAxMDEwIDEuXG4gICAgICAgIDAsICAgICAwLCAweDBhMDIsICAvLyAxMzkgIDAwMDAgMDAwMCAxMDAwIDAuXG4gICAgICAgIDAsICAgICAwLCAweDA5MDIsICAvLyAxNDAgIDAwMDAgMDAwMCAxMDAwIDEuXG4gICAgICAgIDAsICAgICAwLCAweDE2MDEsICAvLyAxNDEgIDAwMDAgMDAwMCAxMTExIDEuXG4gICAgICAgIDAsICAgICAwLCAweDE3MDEsICAvLyAxNDIgIDAwMDAgMDAwMCAxMTExIDAuXG4gICAgICAgIDAsICAgICAwLCAweDE5MDEsICAvLyAxNDMgIDAwMDAgMDAwMCAxMTEwIDAuXG4gICAgICAgIDAsICAgICAwLCAweDE4MDEsICAvLyAxNDQgIDAwMDAgMDAwMCAxMTEwIDEuXG4gICAgICAgIDAsICAgICAwLCAweDA1MDMsICAvLyAxNDUgIDAwMDAgMDAwMCAxMDAxIDAuXG4gICAgICAgIDAsICAgICAwLCAweDAzMDQsICAvLyAxNDYgIDAwMDAgMDAwMCAxMDAxIDEuXG4gICAgICAgIDAsICAgICAwLCAweDAwMGQsICAvLyAxNDcgIDAwMDAgMDAwMCAxMTAwIDEuXG4gICAgICAgIDAsICAgICAwLCAweDAwMGMsICAvLyAxNDggIDAwMDAgMDAwMCAxMTAxIDAuXG4gICAgICAgIDAsICAgICAwLCAweDAwMGUsICAvLyAxNDkgIDAwMDAgMDAwMCAxMTAwIDAuXG4gICAgICAgIDAsICAgICAwLCAweDAwMGYsICAvLyAxNTAgIDAwMDAgMDAwMCAxMDExIDEuXG4gICAgICAgIDAsICAgICAwLCAweDAyMDUsICAvLyAxNTEgIDAwMDAgMDAwMCAxMDEwIDAuXG4gICAgICAgIDAsICAgICAwLCAweDFhMDEsICAvLyAxNTIgIDAwMDAgMDAwMCAxMTAxIDEuXG4gICAgICAgIDAsICAgICAwLCAweDAxMDYsICAvLyAxNTMgIDAwMDAgMDAwMCAxMDExIDAuXG4gICAgMTgwKjMsIDE4MSozLCAgICAgIDAsICAvLyAxNTQgIDAwMDAgMDAwMCAwMTExIDFcbiAgICAxNjAqMywgMTYzKjMsICAgICAgMCwgIC8vIDE1NSAgMDAwMCAwMDAwIDAxMTEgMFxuICAgIDE5NiozLCAxOTkqMywgICAgICAwLCAgLy8gMTU2ICAwMDAwIDAwMDAgMDAxMSAxMFxuICAgICAgICAwLCAgICAgMCwgMHgwMDFiLCAgLy8gMTU3ICAwMDAwIDAwMDAgMDEwMSAwMC5cbiAgICAyMDMqMywgMTg1KjMsICAgICAgMCwgIC8vIDE1OCAgMDAwMCAwMDAwIDAwMTAgMDFcbiAgICAyMDIqMywgMjAxKjMsICAgICAgMCwgIC8vIDE1OSAgMDAwMCAwMDAwIDAwMTEgMTFcbiAgICAgICAgMCwgICAgIDAsIDB4MDAxMywgIC8vIDE2MCAgMDAwMCAwMDAwIDAxMTEgMDAuXG4gICAgICAgIDAsICAgICAwLCAweDAwMTYsICAvLyAxNjEgIDAwMDAgMDAwMCAwMTEwIDAxLlxuICAgIDE5NyozLCAyMDcqMywgICAgICAwLCAgLy8gMTYyICAwMDAwIDAwMDAgMDAxMCAwMFxuICAgICAgICAwLCAgICAgMCwgMHgwMDEyLCAgLy8gMTYzICAwMDAwIDAwMDAgMDExMSAwMS5cbiAgICAxOTEqMywgMTkyKjMsICAgICAgMCwgIC8vIDE2NCAgMDAwMCAwMDAwIDAwMDEgMTBcbiAgICAxODgqMywgMTkwKjMsICAgICAgMCwgIC8vIDE2NSAgMDAwMCAwMDAwIDAwMDEgMTFcbiAgICAgICAgMCwgICAgIDAsIDB4MDAxNCwgIC8vIDE2NiAgMDAwMCAwMDAwIDAxMTAgMTEuXG4gICAgMTg0KjMsIDE5NCozLCAgICAgIDAsICAvLyAxNjcgIDAwMDAgMDAwMCAwMDAxIDAxXG4gICAgICAgIDAsICAgICAwLCAweDAwMTUsICAvLyAxNjggIDAwMDAgMDAwMCAwMTEwIDEwLlxuICAgIDE4NiozLCAxOTMqMywgICAgICAwLCAgLy8gMTY5ICAwMDAwIDAwMDAgMDAwMSAwMFxuICAgICAgICAwLCAgICAgMCwgMHgwMDE3LCAgLy8gMTcwICAwMDAwIDAwMDAgMDExMCAwMC5cbiAgICAyMDQqMywgMTk4KjMsICAgICAgMCwgIC8vIDE3MSAgMDAwMCAwMDAwIDAwMTEgMDFcbiAgICAgICAgMCwgICAgIDAsIDB4MDAxOSwgIC8vIDE3MiAgMDAwMCAwMDAwIDAxMDEgMTAuXG4gICAgICAgIDAsICAgICAwLCAweDAwMTgsICAvLyAxNzMgIDAwMDAgMDAwMCAwMTAxIDExLlxuICAgIDIwMCozLCAyMDUqMywgICAgICAwLCAgLy8gMTc0ICAwMDAwIDAwMDAgMDAxMSAwMFxuICAgICAgICAwLCAgICAgMCwgMHgwMDFmLCAgLy8gMTc1ICAwMDAwIDAwMDAgMDEwMCAwMC5cbiAgICAgICAgMCwgICAgIDAsIDB4MDAxZSwgIC8vIDE3NiAgMDAwMCAwMDAwIDAxMDAgMDEuXG4gICAgICAgIDAsICAgICAwLCAweDAwMWMsICAvLyAxNzcgIDAwMDAgMDAwMCAwMTAwIDExLlxuICAgICAgICAwLCAgICAgMCwgMHgwMDFkLCAgLy8gMTc4ICAwMDAwIDAwMDAgMDEwMCAxMC5cbiAgICAgICAgMCwgICAgIDAsIDB4MDAxYSwgIC8vIDE3OSAgMDAwMCAwMDAwIDAxMDEgMDEuXG4gICAgICAgIDAsICAgICAwLCAweDAwMTEsICAvLyAxODAgIDAwMDAgMDAwMCAwMTExIDEwLlxuICAgICAgICAwLCAgICAgMCwgMHgwMDEwLCAgLy8gMTgxICAwMDAwIDAwMDAgMDExMSAxMS5cbiAgICAxODkqMywgMjA2KjMsICAgICAgMCwgIC8vIDE4MiAgMDAwMCAwMDAwIDAwMTAgMTFcbiAgICAxODcqMywgMTk1KjMsICAgICAgMCwgIC8vIDE4MyAgMDAwMCAwMDAwIDAwMTAgMTBcbiAgICAyMTgqMywgMjExKjMsICAgICAgMCwgIC8vIDE4NCAgMDAwMCAwMDAwIDAwMDEgMDEwXG4gICAgICAgIDAsICAgICAwLCAweDAwMjUsICAvLyAxODUgIDAwMDAgMDAwMCAwMDEwIDAxMS5cbiAgICAyMTUqMywgMjE2KjMsICAgICAgMCwgIC8vIDE4NiAgMDAwMCAwMDAwIDAwMDEgMDAwXG4gICAgICAgIDAsICAgICAwLCAweDAwMjQsICAvLyAxODcgIDAwMDAgMDAwMCAwMDEwIDEwMC5cbiAgICAyMTAqMywgMjEyKjMsICAgICAgMCwgIC8vIDE4OCAgMDAwMCAwMDAwIDAwMDEgMTEwXG4gICAgICAgIDAsICAgICAwLCAweDAwMjIsICAvLyAxODkgIDAwMDAgMDAwMCAwMDEwIDExMC5cbiAgICAyMTMqMywgMjA5KjMsICAgICAgMCwgIC8vIDE5MCAgMDAwMCAwMDAwIDAwMDEgMTExXG4gICAgMjIxKjMsIDIyMiozLCAgICAgIDAsICAvLyAxOTEgIDAwMDAgMDAwMCAwMDAxIDEwMFxuICAgIDIxOSozLCAyMDgqMywgICAgICAwLCAgLy8gMTkyICAwMDAwIDAwMDAgMDAwMSAxMDFcbiAgICAyMTcqMywgMjE0KjMsICAgICAgMCwgIC8vIDE5MyAgMDAwMCAwMDAwIDAwMDEgMDAxXG4gICAgMjIzKjMsIDIyMCozLCAgICAgIDAsICAvLyAxOTQgIDAwMDAgMDAwMCAwMDAxIDAxMVxuICAgICAgICAwLCAgICAgMCwgMHgwMDIzLCAgLy8gMTk1ICAwMDAwIDAwMDAgMDAxMCAxMDEuXG4gICAgICAgIDAsICAgICAwLCAweDAxMGIsICAvLyAxOTYgIDAwMDAgMDAwMCAwMDExIDEwMC5cbiAgICAgICAgMCwgICAgIDAsIDB4MDAyOCwgIC8vIDE5NyAgMDAwMCAwMDAwIDAwMTAgMDAwLlxuICAgICAgICAwLCAgICAgMCwgMHgwMTBjLCAgLy8gMTk4ICAwMDAwIDAwMDAgMDAxMSAwMTEuXG4gICAgICAgIDAsICAgICAwLCAweDAxMGEsICAvLyAxOTkgIDAwMDAgMDAwMCAwMDExIDEwMS5cbiAgICAgICAgMCwgICAgIDAsIDB4MDAyMCwgIC8vIDIwMCAgMDAwMCAwMDAwIDAwMTEgMDAwLlxuICAgICAgICAwLCAgICAgMCwgMHgwMTA4LCAgLy8gMjAxICAwMDAwIDAwMDAgMDAxMSAxMTEuXG4gICAgICAgIDAsICAgICAwLCAweDAxMDksICAvLyAyMDIgIDAwMDAgMDAwMCAwMDExIDExMC5cbiAgICAgICAgMCwgICAgIDAsIDB4MDAyNiwgIC8vIDIwMyAgMDAwMCAwMDAwIDAwMTAgMDEwLlxuICAgICAgICAwLCAgICAgMCwgMHgwMTBkLCAgLy8gMjA0ICAwMDAwIDAwMDAgMDAxMSAwMTAuXG4gICAgICAgIDAsICAgICAwLCAweDAxMGUsICAvLyAyMDUgIDAwMDAgMDAwMCAwMDExIDAwMS5cbiAgICAgICAgMCwgICAgIDAsIDB4MDAyMSwgIC8vIDIwNiAgMDAwMCAwMDAwIDAwMTAgMTExLlxuICAgICAgICAwLCAgICAgMCwgMHgwMDI3LCAgLy8gMjA3ICAwMDAwIDAwMDAgMDAxMCAwMDEuXG4gICAgICAgIDAsICAgICAwLCAweDFmMDEsICAvLyAyMDggIDAwMDAgMDAwMCAwMDAxIDEwMTEuXG4gICAgICAgIDAsICAgICAwLCAweDFiMDEsICAvLyAyMDkgIDAwMDAgMDAwMCAwMDAxIDExMTEuXG4gICAgICAgIDAsICAgICAwLCAweDFlMDEsICAvLyAyMTAgIDAwMDAgMDAwMCAwMDAxIDExMDAuXG4gICAgICAgIDAsICAgICAwLCAweDEwMDIsICAvLyAyMTEgIDAwMDAgMDAwMCAwMDAxIDAxMDEuXG4gICAgICAgIDAsICAgICAwLCAweDFkMDEsICAvLyAyMTIgIDAwMDAgMDAwMCAwMDAxIDExMDEuXG4gICAgICAgIDAsICAgICAwLCAweDFjMDEsICAvLyAyMTMgIDAwMDAgMDAwMCAwMDAxIDExMTAuXG4gICAgICAgIDAsICAgICAwLCAweDAxMGYsICAvLyAyMTQgIDAwMDAgMDAwMCAwMDAxIDAwMTEuXG4gICAgICAgIDAsICAgICAwLCAweDAxMTIsICAvLyAyMTUgIDAwMDAgMDAwMCAwMDAxIDAwMDAuXG4gICAgICAgIDAsICAgICAwLCAweDAxMTEsICAvLyAyMTYgIDAwMDAgMDAwMCAwMDAxIDAwMDEuXG4gICAgICAgIDAsICAgICAwLCAweDAxMTAsICAvLyAyMTcgIDAwMDAgMDAwMCAwMDAxIDAwMTAuXG4gICAgICAgIDAsICAgICAwLCAweDA2MDMsICAvLyAyMTggIDAwMDAgMDAwMCAwMDAxIDAxMDAuXG4gICAgICAgIDAsICAgICAwLCAweDBiMDIsICAvLyAyMTkgIDAwMDAgMDAwMCAwMDAxIDEwMTAuXG4gICAgICAgIDAsICAgICAwLCAweDBlMDIsICAvLyAyMjAgIDAwMDAgMDAwMCAwMDAxIDAxMTEuXG4gICAgICAgIDAsICAgICAwLCAweDBkMDIsICAvLyAyMjEgIDAwMDAgMDAwMCAwMDAxIDEwMDAuXG4gICAgICAgIDAsICAgICAwLCAweDBjMDIsICAvLyAyMjIgIDAwMDAgMDAwMCAwMDAxIDEwMDEuXG4gICAgICAgIDAsICAgICAwLCAweDBmMDIgICAvLyAyMjMgIDAwMDAgMDAwMCAwMDAxIDAxMTAuXG4gIF0pLFxuXG4gIFBJQ1RVUkVfVFlQRV9JID0gMSxcbiAgUElDVFVSRV9UWVBFX1AgPSAyLFxuICBQSUNUVVJFX1RZUEVfQiA9IDMsXG4gIFBJQ1RVUkVfVFlQRV9EID0gNCxcblxuICBTVEFSVF9TRVFVRU5DRSA9IDB4QjMsXG4gIFNUQVJUX1NMSUNFX0ZJUlNUID0gMHgwMSxcbiAgU1RBUlRfU0xJQ0VfTEFTVCA9IDB4QUYsXG4gIFNUQVJUX1BJQ1RVUkUgPSAweDAwLFxuICBTVEFSVF9FWFRFTlNJT04gPSAweEI1LFxuICBTVEFSVF9VU0VSX0RBVEEgPSAweEIyLFxuXG4gIC8vIFNoYWRlcnMgZm9yIGFjY2VsZXJhdGVkIFdlYkdMIFlDYkNyVG9SR0JBIGNvbnZlcnNpb25cbiAgU0hBREVSX0ZSQUdNRU5UX1lDQkNSVE9SR0JBID0gW1xuICAgICdwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsnLFxuICAgICd1bmlmb3JtIHNhbXBsZXIyRCBZVGV4dHVyZTsnLFxuICAgICd1bmlmb3JtIHNhbXBsZXIyRCBDQlRleHR1cmU7JyxcbiAgICAndW5pZm9ybSBzYW1wbGVyMkQgQ1JUZXh0dXJlOycsXG4gICAgJ3ZhcnlpbmcgdmVjMiB0ZXhDb29yZDsnLFxuXG4gICAgJ3ZvaWQgbWFpbigpIHsnLFxuICAgICAgJ2Zsb2F0IHkgPSB0ZXh0dXJlMkQoWVRleHR1cmUsIHRleENvb3JkKS5yOycsXG4gICAgICAnZmxvYXQgY3IgPSB0ZXh0dXJlMkQoQ0JUZXh0dXJlLCB0ZXhDb29yZCkuciAtIDAuNTsnLFxuICAgICAgJ2Zsb2F0IGNiID0gdGV4dHVyZTJEKENSVGV4dHVyZSwgdGV4Q29vcmQpLnIgLSAwLjU7JyxcblxuICAgICAgJ2dsX0ZyYWdDb2xvciA9IHZlYzQoJyxcbiAgICAgICAgJ3kgKyAxLjQgKiBjciwnLFxuICAgICAgICAneSArIC0wLjM0MyAqIGNiIC0gMC43MTEgKiBjciwnLFxuICAgICAgICAneSArIDEuNzY1ICogY2IsJyxcbiAgICAgICAgJzEuMCcsXG4gICAgICAnKTsnLFxuICAgICd9J1xuICBdLmpvaW4oJ1xcbicpLFxuXG4gIFNIQURFUl9GUkFHTUVOVF9MT0FESU5HID0gW1xuICAgICdwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsnLFxuICAgICd1bmlmb3JtIGZsb2F0IGxvYWRlZDsnLFxuICAgICd2YXJ5aW5nIHZlYzIgdGV4Q29vcmQ7JyxcblxuICAgICd2b2lkIG1haW4oKSB7JyxcbiAgICAgICdmbG9hdCBjID0gY2VpbChsb2FkZWQtKDEuMC10ZXhDb29yZC55KSk7JyxcbiAgICAgIC8vJ2Zsb2F0IGMgPSBjZWlsKGxvYWRlZC0oMS4wLXRleENvb3JkLnkpICtzaW4oKHRleENvb3JkLngrbG9hZGVkKSoxNi4wKSowLjAxKTsnLCAvLyBGYW5jeSB3YXZlIGFuaW1cbiAgICAgICdnbF9GcmFnQ29sb3IgPSB2ZWM0KGMsYyxjLDEpOycsXG4gICAgJ30nXG4gIF0uam9pbignXFxuJyksXG5cbiAgU0hBREVSX1ZFUlRFWF9JREVOVElUWSA9IFtcbiAgICAnYXR0cmlidXRlIHZlYzIgdmVydGV4OycsXG4gICAgJ3ZhcnlpbmcgdmVjMiB0ZXhDb29yZDsnLFxuXG4gICAgJ3ZvaWQgbWFpbigpIHsnLFxuICAgICAgJ3RleENvb3JkID0gdmVydGV4OycsXG4gICAgICAnZ2xfUG9zaXRpb24gPSB2ZWM0KCh2ZXJ0ZXggKiAyLjAgLSAxLjApICogdmVjMigxLCAtMSksIDAuMCwgMS4wKTsnLFxuICAgICd9J1xuICBdLmpvaW4oJ1xcbicpO1xuXG52YXIgTUFDUk9CTE9DS19UWVBFX1RBQkxFUyA9IFtcbiAgbnVsbCxcbiAgTUFDUk9CTE9DS19UWVBFX0ksXG4gIE1BQ1JPQkxPQ0tfVFlQRV9QLFxuICBNQUNST0JMT0NLX1RZUEVfQlxuXTtcblxuXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEJpdCBSZWFkZXJcblxudmFyIEJpdFJlYWRlciA9IGZ1bmN0aW9uKGFycmF5QnVmZmVyKSB7XG4gIHRoaXMuYnl0ZXMgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcik7XG4gIHRoaXMubGVuZ3RoID0gdGhpcy5ieXRlcy5sZW5ndGg7XG4gIHRoaXMud3JpdGVQb3MgPSB0aGlzLmJ5dGVzLmxlbmd0aDtcbiAgdGhpcy5pbmRleCA9IDA7XG59O1xuXG5CaXRSZWFkZXIuTk9UX0ZPVU5EID0gLTE7XG5cbkJpdFJlYWRlci5wcm90b3R5cGUuZmluZE5leHRNUEVHU3RhcnRDb2RlID0gZnVuY3Rpb24oKSB7XG4gIGZvciggdmFyIGkgPSAodGhpcy5pbmRleCs3ID4+IDMpOyBpIDwgdGhpcy53cml0ZVBvczsgaSsrICkge1xuICAgIGlmKFxuICAgICAgdGhpcy5ieXRlc1tpXSA9PSAweDAwICYmXG4gICAgICB0aGlzLmJ5dGVzW2krMV0gPT0gMHgwMCAmJlxuICAgICAgdGhpcy5ieXRlc1tpKzJdID09IDB4MDFcbiAgICApIHtcbiAgICAgIHRoaXMuaW5kZXggPSAoaSs0KSA8PCAzO1xuICAgICAgcmV0dXJuIHRoaXMuYnl0ZXNbaSszXTtcbiAgICB9XG4gIH1cbiAgdGhpcy5pbmRleCA9ICh0aGlzLndyaXRlUG9zIDw8IDMpO1xuICByZXR1cm4gQml0UmVhZGVyLk5PVF9GT1VORDtcbn07XG5cbkJpdFJlYWRlci5wcm90b3R5cGUubmV4dEJ5dGVzQXJlU3RhcnRDb2RlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBpID0gKHRoaXMuaW5kZXgrNyA+PiAzKTtcbiAgcmV0dXJuIChcbiAgICBpID49IHRoaXMud3JpdGVQb3MgfHwgKFxuICAgICAgdGhpcy5ieXRlc1tpXSA9PSAweDAwICYmXG4gICAgICB0aGlzLmJ5dGVzW2krMV0gPT0gMHgwMCAmJlxuICAgICAgdGhpcy5ieXRlc1tpKzJdID09IDB4MDFcbiAgICApXG4gICk7XG59O1xuXG5CaXRSZWFkZXIucHJvdG90eXBlLm5leHRCaXRzID0gZnVuY3Rpb24oY291bnQpIHtcbiAgdmFyXG4gICAgYnl0ZU9mZnNldCA9IHRoaXMuaW5kZXggPj4gMyxcbiAgICByb29tID0gKDggLSB0aGlzLmluZGV4ICUgOCk7XG5cbiAgaWYoIHJvb20gPj0gY291bnQgKSB7XG4gICAgcmV0dXJuICh0aGlzLmJ5dGVzW2J5dGVPZmZzZXRdID4+IChyb29tIC0gY291bnQpKSAmICgweGZmID4+ICg4LWNvdW50KSk7XG4gIH1cblxuICB2YXJcbiAgICBsZWZ0b3ZlciA9ICh0aGlzLmluZGV4ICsgY291bnQpICUgOCwgLy8gTGVmdG92ZXIgYml0cyBpbiBsYXN0IGJ5dGVcbiAgICBlbmQgPSAodGhpcy5pbmRleCArIGNvdW50IC0xKSA+PiAzLFxuICAgIHZhbHVlID0gdGhpcy5ieXRlc1tieXRlT2Zmc2V0XSAmICgweGZmID4+ICg4LXJvb20pKTsgLy8gRmlsbCBvdXQgZmlyc3QgYnl0ZVxuXG4gIGZvciggYnl0ZU9mZnNldCsrOyBieXRlT2Zmc2V0IDwgZW5kOyBieXRlT2Zmc2V0KysgKSB7XG4gICAgdmFsdWUgPDw9IDg7IC8vIFNoaWZ0IGFuZFxuICAgIHZhbHVlIHw9IHRoaXMuYnl0ZXNbYnl0ZU9mZnNldF07IC8vIFB1dCBuZXh0IGJ5dGVcbiAgfVxuXG4gIGlmIChsZWZ0b3ZlciA+IDApIHtcbiAgICB2YWx1ZSA8PD0gbGVmdG92ZXI7IC8vIE1ha2Ugcm9vbSBmb3IgcmVtYWluaW5nIGJpdHNcbiAgICB2YWx1ZSB8PSAodGhpcy5ieXRlc1tieXRlT2Zmc2V0XSA+PiAoOCAtIGxlZnRvdmVyKSk7XG4gIH1cbiAgZWxzZSB7XG4gICAgdmFsdWUgPDw9IDg7XG4gICAgdmFsdWUgfD0gdGhpcy5ieXRlc1tieXRlT2Zmc2V0XTtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbkJpdFJlYWRlci5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uKGNvdW50KSB7XG4gIHZhciB2YWx1ZSA9IHRoaXMubmV4dEJpdHMoY291bnQpO1xuICB0aGlzLmluZGV4ICs9IGNvdW50O1xuICByZXR1cm4gdmFsdWU7XG59O1xuXG5CaXRSZWFkZXIucHJvdG90eXBlLmFkdmFuY2UgPSBmdW5jdGlvbihjb3VudCkge1xuICByZXR1cm4gKHRoaXMuaW5kZXggKz0gY291bnQpO1xufTtcblxuQml0UmVhZGVyLnByb3RvdHlwZS5yZXdpbmQgPSBmdW5jdGlvbihjb3VudCkge1xuICByZXR1cm4gKHRoaXMuaW5kZXggLT0gY291bnQpO1xufTtcblxudmFyIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGpzbXBlZ1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///11\\n\")}});","extractedComments":[]}